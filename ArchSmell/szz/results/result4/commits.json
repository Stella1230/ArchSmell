{"5b93c1e2fd1e0a0efeb7f74bad84864c714e9f8a":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["230","      <action issue=\"LOG4J2-1756\" dev=\"ggregory\" type=\"fix\"  due-to=\"shubhankar1100\">"],"delete":["230","      <action issue=\"LOG4J2-1756\" dev=\"ggregory\" type=\"fix\" due-to=\"shubhankar1100\">"]}]}},"b34236d8beb2175ff36074a8cf7a40ca73fae59d":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/layout\/ConcurrentLoggingWithGelfLayoutTest.java":"ADD","log4j-core\/src\/test\/resources\/log4j2-gelf-layout.xml":"ADD"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/layout\/ConcurrentLoggingWithGelfLayoutTest.java":[{"add":[],"delete":[]}],"log4j-core\/src\/test\/resources\/log4j2-gelf-layout.xml":[{"add":[],"delete":[]}]}},"d21f759525762a97f310a38997f52c227fcc5617":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/CompositeConfigurationTest.java":"MODIFY","log4j-core\/src\/test\/resources\/log4j-comp-logger-ref.xml":"ADD","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/composite\/DefaultMergeStrategy.java":"MODIFY","log4j-core\/src\/test\/resources\/log4j-comp-logger-ref.json":"ADD"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/CompositeConfigurationTest.java":[{"add":["0","\/*\r","1"," * Licensed to the Apache Software Foundation (ASF) under one or more\r","2"," * contributor license agreements. See the NOTICE file distributed with\r","3"," * this work for additional information regarding copyright ownership.\r","4"," * The ASF licenses this file to You under the Apache license, Version 2.0\r","5"," * (the \"License\"); you may not use this file except in compliance with\r","6"," * the License. You may obtain a copy of the License at\r","7"," *\r","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0\r","9"," *\r","10"," * Unless required by applicable law or agreed to in writing, software\r","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,\r","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r","13"," * See the license for the specific language governing permissions and\r","14"," * limitations under the license.\r","15"," *\/\r","16","package org.apache.logging.log4j.core.config;\r","17","\r","18","import java.util.List;\r","19","import java.util.Map;\r","20","\r","21","import org.apache.logging.log4j.Level;\r","22","import org.apache.logging.log4j.core.Appender;\r","23","import org.apache.logging.log4j.core.appender.ConsoleAppender;\r","24","import org.apache.logging.log4j.core.appender.FileAppender;\r","25","import org.apache.logging.log4j.core.config.composite.CompositeConfiguration;\r","26","import org.apache.logging.log4j.core.filter.RegexFilter;\r","27","import org.apache.logging.log4j.core.util.Throwables;\r","28","import org.apache.logging.log4j.junit.LoggerContextRule;\r","29","import org.junit.Assert;\r","30","import org.junit.Test;\r","31","import org.junit.runner.Description;\r","32","import org.junit.runners.model.Statement;\r","33","\r","34","import static org.junit.Assert.*;\r","35","\r","36","public class CompositeConfigurationTest {\r","37","\/*\r","38","    @Test\r","39","    public void compositeConfigurationUsed() {\r","40","        final LoggerContextRule lcr = new LoggerContextRule(\r","41","                \"classpath:log4j-comp-appender.xml,log4j-comp-appender.json\");\r","42","        Statement test = new Statement() {\r","43","            @Override\r","44","            public void evaluate() throws Throwable {\r","45","                assertTrue(lcr.getConfiguration() instanceof CompositeConfiguration);\r","46","            }\r","47","        };\r","48","        runTest(lcr, test);\r","49","    }\r","50","\r","51","    @Test\r","52","    public void compositeProperties() {\r","53","        final LoggerContextRule lcr = new LoggerContextRule(\r","54","                \"classpath:log4j-comp-properties.xml,log4j-comp-properties.json\");\r","55","        Statement test = new Statement() {\r","56","            @Override\r","57","            public void evaluate() throws Throwable {\r","58","                CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();\r","59","                assertEquals(\"json\", config.getStrSubstitutor().replace(\"${propertyShared}\"));\r","60","                assertEquals(\"xml\", config.getStrSubstitutor().replace(\"${propertyXml}\"));\r","61","                assertEquals(\"json\", config.getStrSubstitutor().replace(\"${propertyJson}\"));\r","62","            }\r","63","        };\r","64","        runTest(lcr, test);\r","65","    }\r","66","\r","67","    @Test\r","68","    public void compositeAppenders() {\r","69","        final LoggerContextRule lcr = new LoggerContextRule(\r","70","                \"classpath:log4j-comp-appender.xml,log4j-comp-appender.json\");\r","71","        Statement test = new Statement() {\r","72","            @Override\r","73","            public void evaluate() throws Throwable {\r","74","                CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();\r","75","                Map<String, Appender> appender = config.getAppenders();\r","76","                assertEquals(3, appender.size());\r","77","                assertTrue(appender.get(\"STDOUT\") instanceof ConsoleAppender);\r","78","                assertTrue(appender.get(\"File\") instanceof FileAppender);\r","79","                assertTrue(appender.get(\"Override\") instanceof RollingFileAppender);\r","80","            }\r","81","        };\r","82","        runTest(lcr, test);\r","83","    }\r","84","*\/\r","85","    @Test\r","86","    public void compositeLogger() {\r","87","        final LoggerContextRule lcr = new LoggerContextRule(\"classpath:log4j-comp-logger.xml,log4j-comp-logger.json\");\r","88","        final Statement test = new Statement() {\r","89","            @Override\r","90","            public void evaluate() throws Throwable {\r","91","                final CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();\r","92","                Map<String, Appender> appendersMap = config.getLogger(\"cat1\").getAppenders();\r","93","                assertEquals(\"Expected 2 Appender references for cat1 but got \" + appendersMap.size(), 2,\r","94","                        appendersMap.size());\r","95","                assertTrue(appendersMap.get(\"STDOUT\") instanceof ConsoleAppender);\r","96","\r","97","                appendersMap = config.getLogger(\"cat2\").getAppenders();\r","98","                assertEquals(\"Expected 1 Appender reference for cat2 but got \" + appendersMap.size(), 1,\r","99","                        appendersMap.size());\r","100","                assertTrue(appendersMap.get(\"File\") instanceof FileAppender);\r","101","\r","102","                appendersMap = config.getLogger(\"cat3\").getAppenders();\r","103","                assertEquals(\"Expected 1 Appender reference for cat3 but got \" + appendersMap.size(), 1,\r","104","                        appendersMap.size());\r","105","                assertTrue(appendersMap.get(\"File\") instanceof FileAppender);\r","106","\r","107","                appendersMap = config.getRootLogger().getAppenders();\r","108","                assertEquals(\"Expected 2 Appender references for the root logger but got \" + appendersMap.size(), 2,\r","109","                        appendersMap.size());\r","110","                assertTrue(appendersMap.get(\"File\") instanceof FileAppender);\r","111","                assertTrue(appendersMap.get(\"STDOUT\") instanceof ConsoleAppender);\r","112","            }\r","113","        };\r","114","        runTest(lcr, test);\r","115","    }\r","116","\r","117","    @Test\r","118","    public void testAttributeCheckWhenMergingConfigurations() {\r","119","        final LoggerContextRule lcr = new LoggerContextRule(\"classpath:log4j-comp-root-loggers.xml,log4j-comp-logger.json\");\r","120","        final Statement test = new Statement() {\r","121","            @Override\r","122","            public void evaluate() throws Throwable {\r","123","                try {\r","124","                    final CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();\r","125","                    Assert.assertNotNull(config);\r","126","                } catch (final NullPointerException e) {\r","127","                    fail(\"Should not throw NullPointerException when there are different nodes.\");\r","128","                }\r","129","            }\r","130","        };\r","131","        runTest(lcr, test);\r","132","    }\r","133","\r","134","    @Test\r","135","    public void testAttributeMergeForLoggers() {\r","136","        final LoggerContextRule lcr = new LoggerContextRule(\"classpath:log4j-comp-logger-root.xml,log4j-comp-logger-attr-override.json\");\r","137","        final Statement test = new Statement() {\r","138","            @Override\r","139","            public void evaluate() throws Throwable {\r","140","                final CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();\r","141","                \/\/Test for Root log level override\r","142","                assertEquals(\"Expected Root logger log level to be WARN\", Level.WARN, config.getRootLogger().getLevel());\r","143","\r","144","                \/\/Test for cat2 level override\r","145","                final LoggerConfig cat2 = config.getLogger(\"cat2\");\r","146","                assertEquals(\"Expected cat2 log level to be INFO\", Level.INFO, cat2.getLevel());\r","147","\r","148","                \/\/Test for cat2 additivity override\r","149","                assertTrue(\"Expected cat2 additivity to be true\", cat2.isAdditive());\r","150","\r","151","                \/\/Regression\r","152","                \/\/Check level on cat3 (not present in root config)\r","153","                assertEquals(\"Expected cat3 log level to be ERROR\", Level.ERROR, config.getLogger(\"cat3\").getLevel());\r","154","                \/\/Check level on cat1 (not present in overriden config)\r","155","                assertEquals(\"Expected cat1 log level to be DEBUG\", Level.DEBUG, config.getLogger(\"cat1\").getLevel());\r","156","            }\r","157","        };\r","158","        runTest(lcr, test);\r","159","    }\r","160","\r","161","    @Test\r","162","    public void testAppenderRefFilterMerge() {\r","163","        final LoggerContextRule lcr = new LoggerContextRule(\r","164","                \"classpath:log4j-comp-logger-ref.xml,log4j-comp-logger-ref.json\");\r","165","        final Statement test = new Statement() {\r","166","            @Override\r","167","            public void evaluate() throws Throwable {\r","168","                final CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();\r","169","\r","170","                List<AppenderRef> appenderRefList = config.getLogger(\"cat1\").getAppenderRefs();\r","171","                AppenderRef appenderRef = getAppenderRef(appenderRefList, \"STDOUT\");\r","172","                assertTrue(\"Expected cat1 STDOUT appenderRef to have a regex filter\",\r","173","                        appenderRef.getFilter() != null && appenderRef.getFilter() instanceof RegexFilter);\r","174","            }\r","175","        };\r","176","        runTest(lcr, test);\r","177","    }\r","178","\r","179","    private AppenderRef getAppenderRef(List<AppenderRef> appenderRefList, String refName) {\r","180","        for (AppenderRef ref : appenderRefList) {\r","181","            if (ref.getRef().equalsIgnoreCase(refName)) {\r","182","                return ref;\r","183","            }\r","184","        }\r","185","        return null;\r","186","    }\r","187","\/*\r","188","    @Test\r","189","    public void overrideFilter() {\r","190","        final LoggerContextRule lcr = new LoggerContextRule(\"classpath:log4j-comp-filter.xml,log4j-comp-filter.json\");\r","191","        Statement test = new Statement() {\r","192","            @Override\r","193","            public void evaluate() throws Throwable {\r","194","                CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();\r","195","                assertTrue(config.getFilter() instanceof CompositeFilter);\r","196","                CompositeFilter filter = (CompositeFilter) config.getFilter();\r","197","                assertTrue(filter.getFiltersArray().length == 2);\r","198","            }\r","199","        };\r","200","        runTest(lcr, test);\r","201","    }\r","202","\r","203","    @Test\r","204","    public void testReconfiguration() throws Exception {\r","205","        final LoggerContextRule rule =\r","206","                new LoggerContextRule(\"classpath:log4j-comp-reconfig.xml,log4j-comp-reconfig.properties\");\r","207","        Statement test = new Statement() {\r","208","            @Override\r","209","            public void evaluate() throws Throwable {\r","210","                final Configuration oldConfig = rule.getConfiguration();\r","211","                final org.apache.logging.log4j.Logger logger = rule.getLogger(\"LoggerTest\");\r","212","                final int MONITOR_INTERVAL_SECONDS = 5;\r","213","                final File file = new File(\"target\/test-classes\/log4j-comp-reconfig.properties\");\r","214","                final long orig = file.lastModified();\r","215","                final long newTime = orig + 10000;\r","216","                assertTrue(\"setLastModified should have succeeded.\", file.setLastModified(newTime));\r","217","                TimeUnit.SECONDS.sleep(MONITOR_INTERVAL_SECONDS + 1);\r","218","                for (int i = 0; i < 17; ++i) {\r","219","                    logger.debug(\"Reconfigure\");\r","220","                }\r","221","                int loopCount = 0;\r","222","                Configuration newConfig;\r","223","                do {\r","224","                    Thread.sleep(100);\r","225","                    newConfig = rule.getConfiguration();\r","226","                    ++loopCount;\r","227","                } while (newConfig == oldConfig && loopCount <= 5);\r","228","                assertNotSame(\"Reconfiguration failed\", newConfig, oldConfig);\r","229","            }\r","230","        };\r","231","        runTest(rule, test);\r","232","\r","233","    } *\/\r","234","\r","235","    private void runTest(final LoggerContextRule rule, final Statement statement) {\r","236","        try {\r","237","            rule.apply(statement, Description\r","238","                    .createTestDescription(getClass(), Thread.currentThread().getStackTrace()[1].getMethodName()))\r","239","                    .evaluate();\r","240","        } catch (final Throwable e) {\r","241","            Throwables.rethrow(e);\r","242","        }\r","243","    }\r","244","}\r"],"delete":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","16","package org.apache.logging.log4j.core.config;","17","","18","import java.util.Map;","19","","20","import org.apache.logging.log4j.Level;","21","import org.apache.logging.log4j.core.Appender;","22","import org.apache.logging.log4j.core.appender.ConsoleAppender;","23","import org.apache.logging.log4j.core.appender.FileAppender;","24","import org.apache.logging.log4j.core.config.composite.CompositeConfiguration;","25","import org.apache.logging.log4j.core.util.Throwables;","26","import org.apache.logging.log4j.junit.LoggerContextRule;","27","import org.junit.Assert;","28","import org.junit.Test;","29","import org.junit.runner.Description;","30","import org.junit.runners.model.Statement;","31","","32","import static org.junit.Assert.*;","33","","34","public class CompositeConfigurationTest {","35","\/*","36","    @Test","37","    public void compositeConfigurationUsed() {","38","        final LoggerContextRule lcr = new LoggerContextRule(","39","                \"classpath:log4j-comp-appender.xml,log4j-comp-appender.json\");","40","        Statement test = new Statement() {","41","            @Override","42","            public void evaluate() throws Throwable {","43","                assertTrue(lcr.getConfiguration() instanceof CompositeConfiguration);","44","            }","45","        };","46","        runTest(lcr, test);","47","    }","48","","49","    @Test","50","    public void compositeProperties() {","51","        final LoggerContextRule lcr = new LoggerContextRule(","52","                \"classpath:log4j-comp-properties.xml,log4j-comp-properties.json\");","53","        Statement test = new Statement() {","54","            @Override","55","            public void evaluate() throws Throwable {","56","                CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();","57","                assertEquals(\"json\", config.getStrSubstitutor().replace(\"${propertyShared}\"));","58","                assertEquals(\"xml\", config.getStrSubstitutor().replace(\"${propertyXml}\"));","59","                assertEquals(\"json\", config.getStrSubstitutor().replace(\"${propertyJson}\"));","60","            }","61","        };","62","        runTest(lcr, test);","63","    }","64","","65","    @Test","66","    public void compositeAppenders() {","67","        final LoggerContextRule lcr = new LoggerContextRule(","68","                \"classpath:log4j-comp-appender.xml,log4j-comp-appender.json\");","69","        Statement test = new Statement() {","70","            @Override","71","            public void evaluate() throws Throwable {","72","                CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();","73","                Map<String, Appender> appender = config.getAppenders();","74","                assertEquals(3, appender.size());","75","                assertTrue(appender.get(\"STDOUT\") instanceof ConsoleAppender);","76","                assertTrue(appender.get(\"File\") instanceof FileAppender);","77","                assertTrue(appender.get(\"Override\") instanceof RollingFileAppender);","78","            }","79","        };","80","        runTest(lcr, test);","81","    }","82","*\/","83","    @Test","84","    public void compositeLogger() {","85","        final LoggerContextRule lcr = new LoggerContextRule(\"classpath:log4j-comp-logger.xml,log4j-comp-logger.json\");","86","        final Statement test = new Statement() {","87","            @Override","88","            public void evaluate() throws Throwable {","89","                final CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();","90","                Map<String, Appender> appendersMap = config.getLogger(\"cat1\").getAppenders();","91","                assertEquals(\"Expected 2 Appender references for cat1 but got \" + appendersMap.size(), 2,","92","                        appendersMap.size());","93","                assertTrue(appendersMap.get(\"STDOUT\") instanceof ConsoleAppender);","94","","95","                appendersMap = config.getLogger(\"cat2\").getAppenders();","96","                assertEquals(\"Expected 1 Appender reference for cat2 but got \" + appendersMap.size(), 1,","97","                        appendersMap.size());","98","                assertTrue(appendersMap.get(\"File\") instanceof FileAppender);","99","","100","                appendersMap = config.getLogger(\"cat3\").getAppenders();","101","                assertEquals(\"Expected 1 Appender reference for cat3 but got \" + appendersMap.size(), 1,","102","                        appendersMap.size());","103","                assertTrue(appendersMap.get(\"File\") instanceof FileAppender);","104","","105","                appendersMap = config.getRootLogger().getAppenders();","106","                assertEquals(\"Expected 2 Appender references for the root logger but got \" + appendersMap.size(), 2,","107","                        appendersMap.size());","108","                assertTrue(appendersMap.get(\"File\") instanceof FileAppender);","109","                assertTrue(appendersMap.get(\"STDOUT\") instanceof ConsoleAppender);","110","            }","111","        };","112","        runTest(lcr, test);","113","    }","114","","115","    @Test","116","    public void testAttributeCheckWhenMergingConfigurations() {","117","        final LoggerContextRule lcr = new LoggerContextRule(\"classpath:log4j-comp-root-loggers.xml,log4j-comp-logger.json\");","118","        final Statement test = new Statement() {","119","            @Override","120","            public void evaluate() throws Throwable {","121","                try {","122","                    final CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();","123","                    Assert.assertNotNull(config);","124","                } catch (final NullPointerException e) {","125","                    fail(\"Should not throw NullPointerException when there are different nodes.\");","126","                }","127","            }","128","        };","129","        runTest(lcr, test);","130","    }","131","","132","    @Test","133","    public void testAttributeMergeForLoggers() {","134","        final LoggerContextRule lcr = new LoggerContextRule(\"classpath:log4j-comp-logger-root.xml,log4j-comp-logger-attr-override.json\");","135","        final Statement test = new Statement() {","136","            @Override","137","            public void evaluate() throws Throwable {","138","                final CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();","139","                \/\/Test for Root log level override","140","                assertEquals(\"Expected Root logger log level to be WARN\", Level.WARN, config.getRootLogger().getLevel());","141","","142","                \/\/Test for cat2 level override","143","                final LoggerConfig cat2 = config.getLogger(\"cat2\");","144","                assertEquals(\"Expected cat2 log level to be INFO\", Level.INFO, cat2.getLevel());","145","","146","                \/\/Test for cat2 additivity override","147","                assertTrue(\"Expected cat2 additivity to be true\", cat2.isAdditive());","148","","149","                \/\/Regression","150","                \/\/Check level on cat3 (not present in root config)","151","                assertEquals(\"Expected cat3 log level to be ERROR\", Level.ERROR, config.getLogger(\"cat3\").getLevel());","152","                \/\/Check level on cat1 (not present in overriden config)","153","                assertEquals(\"Expected cat1 log level to be DEBUG\", Level.DEBUG, config.getLogger(\"cat1\").getLevel());","154","            }","155","        };","156","        runTest(lcr, test);","157","    }","158","\/*","159","    @Test","160","    public void overrideFilter() {","161","        final LoggerContextRule lcr = new LoggerContextRule(\"classpath:log4j-comp-filter.xml,log4j-comp-filter.json\");","162","        Statement test = new Statement() {","163","            @Override","164","            public void evaluate() throws Throwable {","165","                CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();","166","                assertTrue(config.getFilter() instanceof CompositeFilter);","167","                CompositeFilter filter = (CompositeFilter) config.getFilter();","168","                assertTrue(filter.getFiltersArray().length == 2);","169","            }","170","        };","171","        runTest(lcr, test);","172","    }","173","","174","    @Test","175","    public void testReconfiguration() throws Exception {","176","        final LoggerContextRule rule =","177","                new LoggerContextRule(\"classpath:log4j-comp-reconfig.xml,log4j-comp-reconfig.properties\");","178","        Statement test = new Statement() {","179","            @Override","180","            public void evaluate() throws Throwable {","181","                final Configuration oldConfig = rule.getConfiguration();","182","                final org.apache.logging.log4j.Logger logger = rule.getLogger(\"LoggerTest\");","183","                final int MONITOR_INTERVAL_SECONDS = 5;","184","                final File file = new File(\"target\/test-classes\/log4j-comp-reconfig.properties\");","185","                final long orig = file.lastModified();","186","                final long newTime = orig + 10000;","187","                assertTrue(\"setLastModified should have succeeded.\", file.setLastModified(newTime));","188","                TimeUnit.SECONDS.sleep(MONITOR_INTERVAL_SECONDS + 1);","189","                for (int i = 0; i < 17; ++i) {","190","                    logger.debug(\"Reconfigure\");","191","                }","192","                int loopCount = 0;","193","                Configuration newConfig;","194","                do {","195","                    Thread.sleep(100);","196","                    newConfig = rule.getConfiguration();","197","                    ++loopCount;","198","                } while (newConfig == oldConfig && loopCount <= 5);","199","                assertNotSame(\"Reconfiguration failed\", newConfig, oldConfig);","200","            }","201","        };","202","        runTest(rule, test);","203","","204","    } *\/","205","","206","    private void runTest(final LoggerContextRule rule, final Statement statement) {","207","        try {","208","            rule.apply(statement, Description","209","                    .createTestDescription(getClass(), Thread.currentThread().getStackTrace()[1].getMethodName()))","210","                    .evaluate();","211","        } catch (final Throwable e) {","212","            Throwables.rethrow(e);","213","        }","214","    }","215","}"]}],"log4j-core\/src\/test\/resources\/log4j-comp-logger-ref.xml":[{"add":[],"delete":[]}],"src\/changes\/changes.xml":[{"add":["0","<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r","1","<!-- vi: set sw=2: -->\r","2","<!--\r","3","   Licensed to the Apache Software Foundation (ASF) under one or more\r","4","   contributor license agreements.  See the NOTICE file distributed with\r","5","   this work for additional information regarding copyright ownership.\r","6","   The ASF licenses this file to You under the Apache License, Version 2.0\r","7","   (the \"License\"); you may not use this file except in compliance with\r","8","   the License.  You may obtain a copy of the License at\r","9","\r","10","       http:\/\/www.apache.org\/licenses\/LICENSE-2.0\r","11","\r","12","   Unless required by applicable law or agreed to in writing, software\r","13","   distributed under the License is distributed on an \"AS IS\" BASIS,\r","14","   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r","15","   See the License for the specific language governing permissions and\r","16","   limitations under the License.\r","17","-->\r","18","<document xmlns=\"http:\/\/maven.apache.org\/changes\/1.0.0\"\r","19","          xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\"\r","20","          xsi:schemaLocation=\"http:\/\/maven.apache.org\/changes\/1.0.0 http:\/\/maven.apache.org\/xsd\/changes-1.0.0.xsd\">\r","21","  <properties>\r","22","    <title>Changes<\/title>\r","23","  <\/properties>\r","24","  <body>\r","25","    <release version=\"2.8\" date=\"2016-MM-DD\" description=\"GA Release 2.8\">\r","26","      <action issue=\"LOG4J2-1731\" dev=\"rpopma\" type=\"fix\" due-to=\"Chris Ribble\">\r","27","        SslSocketManager now respects connectTimeoutMillis.\r","28","      <\/action>\r","29","      <action issue=\"LOG4J2-1682\" dev=\"ggregory\" type=\"fix\" due-to=\"Markus Waidhofer\">\r","30","        Logger using LocalizedMessageFactory prints key instead of message.\r","31","      <\/action>\r","32","      <action issue=\"LOG4J2-1720\" dev=\"mikes\" type=\"fix\">\r","33","        Make GelfLayout independent of Jackson.\r","34","      <\/action>\r","35","      <action issue=\"LOG4J2-1719\" dev=\"rpopma\" type=\"fix\">\r","36","        Fixed race condition in ObjectMessage and SimpleMessage, ensuring that the log message contains the value the object has during the logging call.\r","37","      <\/action>\r","38","      <action issue=\"LOG4J2-1688\" dev=\"rpopma\" type=\"fix\">\r","39","        Fixed bug where elements of a log message parameter array were nulled out in garbage-free mode.\r","40","      <\/action>\r","41","      <action issue=\"LOG4J2-1692\" dev=\"mikes\" type=\"fix\" due-to=\"Greg Thomas\">\r","42","        Add putAll() method to CloseableThreadContext.\r","43","      <\/action>\r","44","      <action issue=\"LOG4J2-1689\" dev=\"mikes\" type=\"fix\">\r","45","        Add ThreadContextMap3 interface supporting method removeAll(Iterable&lt;String&gt;).\r","46","      <\/action>\r","47","      <action issue=\"LOG4J2-1685\" dev=\"mikes\" type=\"fix\" due-to=\"Raman Gupta\">\r","48","        Option 'disableAnsi' in PatternLayout to unconditionally disable ANSI escape codes.\r","49","      <\/action>\r","50","      <action issue=\"LOG4J2-1706\" dev=\"rpopma\" type=\"fix\">\r","51","        Make TimeFilter usable as global filter and as logger filter.\r","52","      <\/action>\r","53","      <action issue=\"LOG4J2-1722\" dev=\"rpopma\" type=\"fix\">\r","54","        (GC) Avoid allocating temporary objects in VariablesNotEmptyReplacementConverter.\r","55","      <\/action>\r","56","      <action issue=\"LOG4J2-1717\" dev=\"rpopma\" type=\"fix\">\r","57","        (GC) Avoid allocating temporary objects in EncodingPatternConverter.\r","58","      <\/action>\r","59","      <action issue=\"LOG4J2-1716\" dev=\"rpopma\" type=\"fix\">\r","60","        (GC) Avoid allocating temporary objects in MapPatternConverter. (Note that constructing a MapMessage is not garbage-free.)\r","61","      <\/action>\r","62","      <action issue=\"LOG4J2-1683\" dev=\"rpopma\" type=\"fix\">\r","63","        (GC) Avoid allocating temporary objects in MapMessage.\r","64","      <\/action>\r","65","      <action issue=\"LOG4J2-1715\" dev=\"rpopma\" type=\"fix\">\r","66","        (GC) Avoid allocating temporary objects in NdcPatternConverter. (Note that use of the ThreadContext stack is not garbage-free.)\r","67","      <\/action>\r","68","      <action issue=\"LOG4J2-1714\" dev=\"rpopma\" type=\"fix\">\r","69","        (GC) Avoid allocating temporary objects in AbstractStyleNameConverter.\r","70","      <\/action>\r","71","      <action issue=\"LOG4J2-1680\" dev=\"rpopma\" type=\"fix\">\r","72","        (GC) Avoid allocating temporary objects in TimeFilter.\r","73","      <\/action>\r","74","      <action issue=\"LOG4J2-1679\" dev=\"rpopma\" type=\"fix\">\r","75","        (GC) Avoid allocating temporary objects in StructuredDataFilter.\r","76","      <\/action>\r","77","      <action issue=\"LOG4J2-1678\" dev=\"rpopma\" type=\"fix\">\r","78","        (GC) Avoid allocating temporary objects in ThreadContextMapFilter.\r","79","      <\/action>\r","80","      <action issue=\"LOG4J2-1677\" dev=\"rpopma\" type=\"fix\">\r","81","        (GC) Avoid allocating temporary objects in MapFilter.\r","82","      <\/action>\r","83","      <action issue=\"LOG4J2-1674\" dev=\"rpopma\" type=\"fix\">\r","84","        (GC) Avoid allocating temporary objects in ThresholdFilter.\r","85","      <\/action>\r","86","      <action issue=\"LOG4J2-1673\" dev=\"rpopma\" type=\"fix\">\r","87","        (GC) Avoid allocating temporary objects in MarkerFilter.\r","88","      <\/action>\r","89","      <action issue=\"LOG4J2-1672\" dev=\"rpopma\" type=\"fix\">\r","90","        (GC) Avoid allocating temporary objects in LevelRangeFilter.\r","91","      <\/action>\r","92","      <action issue=\"LOG4J2-1671\" dev=\"rpopma\" type=\"fix\">\r","93","        (GC) Avoid allocating temporary objects in EqualsIgnoreCaseReplacementConverter.\r","94","      <\/action>\r","95","      <action issue=\"LOG4J2-1670\" dev=\"rpopma\" type=\"fix\">\r","96","        (GC) Avoid allocating temporary objects in EqualsReplacementConverter.\r","97","      <\/action>\r","98","      <action issue=\"LOG4J2-1669\" dev=\"rpopma\" type=\"fix\">\r","99","        (GC) Avoid allocating temporary objects in MaxLengthConverter.\r","100","      <\/action>\r","101","      <action issue=\"LOG4J2-1668\" dev=\"rpopma\" type=\"fix\">\r","102","        (GC) Avoid allocating temporary objects in MarkerPatternConverter.\r","103","      <\/action>\r","104","      <action issue=\"LOG4J2-1667\" dev=\"rpopma\" type=\"fix\">\r","105","        (GC) Avoid allocating temporary objects in SequenceNumberPatternConverter.\r","106","      <\/action>\r","107","      <action issue=\"LOG4J2-1666\" dev=\"rpopma\" type=\"fix\">\r","108","        (GC) Avoid allocating temporary objects in RelativeTimePatternConverter.\r","109","      <\/action>\r","110","      <action issue=\"LOG4J2-1665\" dev=\"rpopma\" type=\"fix\">\r","111","        (GC) Avoid allocating temporary objects in IntegerPatternConverter.\r","112","      <\/action>\r","113","      <action issue=\"LOG4J2-1637\" dev=\"rpopma\" type=\"fix\">\r","114","        Fixed problems when used in OSGi containers (IllegalAccessError, NoClassDefFoundError).\r","115","      <\/action>\r","116","      <action issue=\"LOG4J2-1226\" dev=\"rpopma\" type=\"fix\">\r","117","        Improve LogEvent serialization to handle non-serializable Messages and deserializing when required classes are missing.\r","118","      <\/action>\r","119","      <action issue=\"LOG4J2-1663\" dev=\"rpopma\" type=\"fix\">\r","120","        Ensure SortedArrayStringMap can be serialized and deserialized without errors regardless of content.\r","121","      <\/action>\r","122","      <action issue=\"LOG4J2-1658\" dev=\"rpopma\" type=\"fix\">\r","123","        Prevent NPE in ThreadContextMapFactory::createThreadContextMap when initializing Log4j with Configurator::initialize and the BasicContextSelector is used.\r","124","      <\/action>\r","125","      <action issue=\"LOG4J2-1645\" dev=\"mikes\" type=\"fix\">\r","126","        Immutable empty StringMap.\r","127","      <\/action>\r","128","      <action issue=\"LOG4J2-1623\" dev=\"mikes\" type=\"fix\">\r","129","        Configurable JVM shutdown hook timeout.\r","130","      <\/action>\r","131","      <action issue=\"LOG4J2-1712\" dev=\"ggregory\" type=\"fix\">\r","132","        Pick up bug fixes from Apache Commons Lang's org.apache.commons.lang3.time package.\r","133","      <\/action>\r","134","      <action issue=\"LOG4J2-1636\" dev=\"ggregory\" type=\"fix\" due-to=\"Eldar Gabdullin\">\r","135","        Console Appender does not pick up Oracle Java 8's sun.stdout.encoding and sun.stderr.encoding.\r","136","      <\/action>\r","137","      <action issue=\"LOG4J2-1639\" dev=\"ggregory\" type=\"fix\" due-to=\"Sridhar Gopinath\">\r","138","        Fix MemoryMappedFileAppender.createAppender() Javadoc for immediateFlush.\r","139","      <\/action>\r","140","      <action issue=\"LOG4J2-1676\" dev=\"ggregory\" type=\"fix\" due-to=\"Joern Huxhorn\">\r","141","        Some LogEvents may not carry a Throwable (Use Message.getThrowable() in log(Message) methods.)\r","142","      <\/action>\r","143","      <action issue=\"LOG4J2-1723\" dev=\"ggregory\" type=\"fix\" due-to=\"Ludovic HOCHET\">\r","144","        Unwanted transitive dependency on geronimo-jms_1.1_spec causes OSGi tests to fail.\r","145","      <\/action>\r","146","      <action issue=\"LOG4J2-1664\" dev=\"ggregory\" type=\"fix\" due-to=\"Ludovic HOCHET\">\r","147","        Improve OSGi unit tests.\r","148","      <\/action>\r","149","      <action issue=\"LOG4J2-1687\" dev=\"ggregory\" type=\"fix\" due-to=\"Robert Christiansen\">\r","150","        NPE in ThrowableProxy when resolving stack in Java EE\/OSGi environment.\r","151","      <\/action>\r","152","      <action issue=\"LOG4J2-1642\" dev=\"ggregory\" type=\"fix\" due-to=\"Johno Crawford\">\r","153","        DefaultShutdownCallbackRegistry can throw a NoClassDefFoundError.\r","154","      <\/action>\r","155","      <action issue=\"LOG4J2-1474\" dev=\"ggregory\" type=\"fix\" due-to=\"yin mingjun, Neon\">\r","156","        CronTriggeringPolicy raise exception and fail to rollover log file when evaluateOnStartup is true.\r","157","      <\/action>\r","158","      <action issue=\"LOG4J2-1734\" dev=\"ggregory\" type=\"fix\">\r","159","        SslSocketManagerFactory might leak Sockets when certain startup errors occur.\r","160","      <\/action>\r","161","      <action issue=\"LOG4J2-1736\" dev=\"ggregory\" type=\"fix\">\r","162","        TcpSocketManagerFactory might leak Sockets when certain startup errors occur.\r","163","      <\/action>\r","164","      <action issue=\"LOG4J2-1740\" dev=\"ggregory\" type=\"fix\">\r","165","        Add CronTriggeringPolicy programmatically leads to NPE.\r","166","      <\/action>     \r","167","      <action issue=\"LOG4J2-1743\" dev=\"ggregory\" type=\"fix\" due-to=\"Toby Shepheard\">\r","168","        CompositeConfiguration does not add filters to appenderRefs.\r","169","      <\/action>     \r","170","      <action issue=\"LOG4J2-1644\" dev=\"ggregory\" type=\"update\" due-to=\"Tim Gokcen, Pavel Sivolobtchik\">\r","171","        Inefficient locking in AbstractLoggerAdapter.\r","172","      <\/action>\r","173","      <action issue=\"LOG4J2-1641\" dev=\"ggregory\" type=\"update\">\r","174","        Update JeroMQ from 0.3.5 to 0.3.6.\r","175","      <\/action>\r","176","      <action issue=\"LOG4J2-1647\" dev=\"mattsicker\" type=\"update\">\r","177","        Update Commons Lang from 3.4 to 3.5.\r","178","      <\/action>\r","179","      <action issue=\"LOG4J2-1646\" dev=\"mattsicker\" type=\"update\">\r","180","        Migrate to Mockito 2.x in unit tests.\r","181","      <\/action>\r","182","      <action issue=\"LOG4J2-1655\" dev=\"ggregory\" type=\"update\">\r","183","        Update Jackson from 2.8.3 to 2.8.4.\r","184","      <\/action>\r","185","      <action issue=\"LOG4J2-1735\" dev=\"ggregory\" type=\"update\">\r","186","        Update Jackson from 2.8.4 to 2.8.5.\r","187","      <\/action>\r","188","      <action issue=\"LOG4J2-1656\" dev=\"ggregory\" type=\"update\">\r","189","        Update Apache Flume from 1.6.0 to 1.7.0.\r","190","      <\/action>\r","191","      <action issue=\"LOG4J2-1698\" dev=\"ggregory\" type=\"update\">\r","192","        Update LMAX Disruptor from 3.3.5 to 3.3.6.\r","193","      <\/action>\r","194","      <action issue=\"LOG4J2-1700\" dev=\"ggregory\" type=\"update\">\r","195","        Update Jansi from 1.13 to 1.14.\r","196","      <\/action>\r","197","      <action issue=\"LOG4J2-969\" dev=\"ggregory\" type=\"add\">\r","198","        Refactor SyslogAppender so that Layout is a Plugin element.\r","199","      <\/action>\r","200","      <action issue=\"LOG4J2-1660\" dev=\"rpopma\" type=\"add\">\r","201","        Added public method ThreadContext::getThreadContextMap; removed class ThreadContextAccess.\r","202","      <\/action>\r","203","      <action issue=\"LOG4J2-1379\" dev=\"mattsicker\" type=\"add\">\r","204","        Add documentation regarding YAML configuration format.\r","205","      <\/action>\r","206","      <action issue=\"LOG4J2-1718\" dev=\"rpopma\" type=\"add\">\r","207","        Introduce marker interface AsynchronouslyFormattable.\r","208","      <\/action>\r","209","      <action issue=\"LOG4J2-1681\" dev=\"rpopma\" type=\"add\">\r","210","        Introduce interfaces IndexedStringMap and IndexedReadOnlyStringMap, supporting garbage-free iteration over sorted map.\r","211","      <\/action>\r","212","      <action issue=\"LOG4J2-1695\" dev=\"ggregory\" type=\"add\">\r","213","        Add a Builder to ScriptPatternSelector and deprecate ScriptPatternSelector.createSelector().\r","214","      <\/action>\r","215","      <action issue=\"LOG4J2-1696\" dev=\"ggregory\" type=\"add\">\r","216","        Add a Builder to MarkerPatternSelector and deprecate MarkerPatternSelector.createSelector().\r","217","      <\/action>\r","218","      <action issue=\"LOG4J2-1697\" dev=\"ggregory\" type=\"add\">\r","219","        Add a SerializerBuilder to PatternLayout and deprecate PatternLayout.createSerializer().\r","220","      <\/action>\r","221","      <action issue=\"LOG4J2-1701\" dev=\"ggregory\" type=\"add\">\r","222","        Add a Builder to RandomAccessFileAppender and deprecate RandomAccessFileAppender.createAppender().\r","223","      <\/action>\r","224","      <action issue=\"LOG4J2-1703\" dev=\"ggregory\" type=\"add\">\r","225","        Add a Builder to MemoryMappedFileAppender and deprecate MemoryMappedFileAppender.createAppender().\r","226","      <\/action>\r","227","      <action issue=\"LOG4J2-1704\" dev=\"ggregory\" type=\"add\">\r","228","        Add a Builder to RollingRandomAccessFileAppender and deprecate RollingRandomAccessFileAppender.createAppender().\r","229","      <\/action>\r","230","      <action issue=\"LOG4J2-1709\" dev=\"ggregory\" type=\"add\">\r","231","        Add a Builder to SyslogAppender and deprecate SyslogAppender.createAppender().\r","232","      <\/action>\r","233","      <action issue=\"LOG4J2-1707\" dev=\"ggregory\" type=\"add\">\r","234","        Allow TCP Socket Appender to set socket options.\r","235","      <\/action>\r","236","      <action issue=\"LOG4J2-1708\" dev=\"ggregory\" type=\"add\">\r","237","        Allow Secure Socket Appender to set socket options.\r","238","      <\/action>\r","239","      <action issue=\"LOG4J2-1737\" dev=\"ggregory\" type=\"add\">\r","240","        Add a Builder to SyslogLayout and deprecate SyslogLayout.createLayout(Facility, boolean, String, Charset).\r","241","      <\/action>\r","242","      <action issue=\"LOG4J2-1738\" dev=\"ggregory\" type=\"add\">\r","243","        Add a Builder to JsonLayout and deprecate org.apache.logging.log4j.core.layout.JsonLayout.createLayout(Configuration, boolean, boolean, boolean, boolean, boolean, boolean, String, String, Charset, boolean).\r","244","      <\/action>\r","245","      <action issue=\"LOG4J2-1739\" dev=\"ggregory\" type=\"add\">\r","246","        Add Builder to KafkaAppender and deprecate KafkaAppender.createAppender(Layout, Filter, String, boolean, String, Property[], Configuration).\r","247","      <\/action>\r","248","      <action issue=\"LOG4J2-1733\" dev=\"ggregory\" type=\"add\" due-to=\"Vincent Tieleman\">\r","249","        Add SyncSend attribute to KafkaAppender (as in KafkaLog4jAppender).\r","250","      <\/action>\r","251","    <\/release>\r","252","    <release version=\"2.7\" date=\"2016-10-02\" description=\"GA Release 2.7\">\r","253","      <action issue=\"LOG4J2-1618\" dev=\"rpopma\" type=\"fix\" due-to=\"Raman Gupta\">\r","254","        Fixed ClassCastException when using JUL logging during shutdown.\r","255","      <\/action>\r","256","      <action issue=\"LOG4J2-1620\" dev=\"ggregory\" type=\"fix\" due-to=\"Sascha Scholz\">\r","257","        2.7-rc1: RollingFileAppender immediateFlush default value should be true, not false.\r","258","      <\/action>\r","259","      <action issue=\"LOG4J2-1611\" dev=\"rpopma\" type=\"fix\">\r","260","        Improved performance of context data injector for web applications to be on par with standalone applications.\r","261","      <\/action>\r","262","      <action issue=\"LOG4J2-1591\" dev=\"rpopma\" type=\"fix\">\r","263","        Introduced new interface LifeCycle2 with stop(long,TimeUnit) method to avoid breaking backwards compatibility with new Configurator.shutdown(LoggerContext, long, TimeUnit) API.\r","264","      <\/action>\r","265","      <action issue=\"LOG4J2-1590\" dev=\"rpopma\" type=\"fix\">\r","266","        Fixed issue with filters extending AbstractFilter that did not override methods with unrolled varargs.\r","267","      <\/action>\r","268","      <action issue=\"LOG4J2-1583\" dev=\"rpopma\" type=\"fix\" due-to=\"Larry West\">\r","269","        Fixed scrambled log messages triggered by nested logging from toString() method of a logging parameter object.\r","270","      <\/action>\r","271","      <action issue=\"LOG4J2-1259\" dev=\"ggregory\" type=\"fix\" due-to=\"Misagh Moayyed, Steffen Offermann\">\r","272","        Log4j threads are no longer leaking on Tomcat shutdown.\r","273","      <\/action>\r","274","      <action issue=\"LOG4J2-1051\" dev=\"rpopma\" type=\"fix\" due-to=\"Lukasz Lenart\">\r","275","        When starting on Google App Engine, Interpolator now suppresses the NoClassDefFoundError stack trace  for the jvmrunargs lookup.\r","276","      <\/action>\r","277","      <action issue=\"LOG4J2-1582\" dev=\"rpopma\" type=\"fix\">\r","278","        When initializing on platforms where JMX is not available, Interpolator component no longer prints stack trace for warning messages.\r","279","      <\/action>\r","280","      <action issue=\"LOG4J2-1581\" dev=\"rpopma\" type=\"fix\">\r","281","        Unregistering JMX components no longer prints a stack trace when the MBean has already been unregistered.\r","282","      <\/action>\r","283","      <action issue=\"LOG4J2-1313\" dev=\"rpopma\" type=\"fix\" due-to=\"Philipp Knobel, Leon Finker\">\r","284","        Support Property values to be specified in configuration as a value attribute as well as an element.\r","285","      <\/action>\r","286","      <action issue=\"LOG4J2-1575\" dev=\"rpopma\" type=\"fix\">\r","287","        (GC) LoggerConfig now stores configuration properties in a List, not a Map to prevent creating temporary Iterator objects. Added method LoggerConfig#getPropertyList(), deprecated method #getProperties().\r","288","      <\/action>\r","289","      <action issue=\"LOG4J2-1457\" dev=\"mattsicker\" type=\"fix\" due-to=\"Leon Finker\">\r","290","        Fixed class loader deadlock when using async logging and extended stack trace pattern.\r","291","      <\/action>\r","292","      <action issue=\"LOG4J2-1563\" dev=\"ggregory\" type=\"fix\" due-to=\"Jason Tedor\">\r","293","        Fix to prevent Log4j 2.6.2 and higher from losing exceptions when a security manager is present.\r","294","      <\/action>\r","295","      <action issue=\"LOG4J2-1530\" dev=\"mikes\" type=\"fix\">\r","296","        Fixed issue where LogEvent.getContextStack() returned null.\r","297","      <\/action>\r","298","      <action issue=\"LOG4J2-1518\" dev=\"rpopma\" type=\"fix\" due-to=\"Leon Finker\">\r","299","        Prevent deadlock in Async Loggers when queue is full and logged Object's toString() logs another message.\r","300","      <\/action>\r","301","      <action issue=\"LOG4J2-1542\" dev=\"rpopma\" type=\"fix\" due-to=\"Rog¨¦rio Lecari?o Leite\">\r","302","        Prevent ArrayIndexOutOfBoundsException in ParameterizedMessage.formatTo for single-char or empty messages.\r","303","      <\/action>\r","304","      <action issue=\"LOG4J2-1549\" dev=\"mikes\" type=\"fix\" due-to=\"Jason Bedard\">\r","305","        Fixed issue where AsyncLoggerContextSelector+PropertiesConfigurationBuilder defaulted to includeLocation=true.\r","306","      <\/action>\r","307","      <action issue=\"LOG4J2-1562\" dev=\"ggregory\" type=\"fix\">\r","308","        Prevent SocketAppender memory usage from growing unbounded if it cannot connect to a server.\r","309","      <\/action>\r","310","      <action issue=\"LOG4J2-1559\" dev=\"ggregory\" type=\"fix\" due-to=\"Andrey Plotkin\">\r","311","        Prevent NPE in Level.isInRange.\r","312","      <\/action>\r","313","      <action issue=\"LOG4J2-1511\" dev=\"ggregory\" type=\"fix\" due-to=\"Srikanth Surukuntu\">\r","314","        DynamicThresholdFilter filtered incorrectly when params were passed as individual arguments instead of varargs.\r","315","      <\/action>\r","316","      <action issue=\"LOG4J2-1548\" dev=\"ggregory\" type=\"fix\">\r","317","        [CronTriggeringPolicy] ConfigurationScheduler scheduled the task infinitely after first fire.\r","318","      <\/action>\r","319","      <action issue=\"LOG4J2-1506\" dev=\"ggregory\" type=\"fix\" due-to=\"Johannes Schleger\">\r","320","        Log4j should not unregister JMX MBeans when log4j2.disable.jmx property is true.\r","321","      <\/action>\r","322","      <action issue=\"LOG4J2-1490\" dev=\"ggregory\" type=\"fix\" due-to=\"Krzysztof Taborski\">\r","323","        Log4j2 should postpone creating log file until the appender actually receives an event.\r","324","      <\/action>\r","325","      <action issue=\"LOG4J2-1320\" dev=\"ggregory\" type=\"fix\" due-to=\"Paresh Varke, Pierrick Hymbert\">\r","326","        Support loading custom plugins from jar files and directories whose classpath entries use the \"vfs\" URL protocol.\r","327","      <\/action>\r","328","      <action issue=\"LOG4J2-1541\" dev=\"ggregory\" type=\"fix\">\r","329","        Fix file handle resource leak in XmlConfiguration.XmlConfiguration(ConfigurationSource).\r","330","      <\/action>\r","331","      <action issue=\"LOG4J2-1538\" dev=\"ggregory\" type=\"fix\" due-to=\"Igor Karpov\">\r","332","        Prevent NPE when dynamically removing filters.\r","333","      <\/action>\r","334","      <action issue=\"LOG4J2-1532\" dev=\"ggregory\" type=\"fix\">\r","335","        Attributes were not merged properly in composite configurations.\r","336","      <\/action>\r","337","      <action issue=\"LOG4J2-1529\" dev=\"mattsicker\" type=\"fix\" due-to=\"Sridevi Narra\">\r","338","        Attributes were not merged properly in composite configurations.\r","339","      <\/action>\r","340","      <action issue=\"LOG4J2-1527\" dev=\"rpopma\" type=\"fix\" due-to=\"Jose Leon\">\r","341","        Prevent NPE in RingBufferLogEvent.getFormattedMessage() when used in web applications.\r","342","      <\/action>\r","343","      <action issue=\"LOG4J2-905\" dev=\"ggregory\" type=\"fix\" due-to=\"Moritz L?ser\">\r","344","        Added ability to disable (date) lookup completely for compatibility with other libraries like Camel.\r","345","      <\/action>\r","346","      <action issue=\"LOG4J2-1526\" dev=\"mikes\" type=\"fix\">\r","347","        Added support for setting StatusLogger destination in ConfigurationBuilder.\r","348","      <\/action>\r","349","      <action issue=\"LOG4J2-1448\" dev=\"rpopma\" type=\"fix\" due-to=\"Keith Laban\">\r","350","        Allow comma separated agents, host list to be passed to FlumeAppender.\r","351","      <\/action>\r","352","      <action issue=\"LOG4J2-1500\" dev=\"ggregory\" type=\"fix\" due-to=\"Jose Leon\">\r","353","        Merging configurations failed with an NPE when comparing Nodes with different attributes.\r","354","      <\/action>\r","355","      <action issue=\"LOG4J2-1482\" dev=\"ggregory\" type=\"fix\" due-to=\"Sumit Singhal\">\r","356","        Fixed improper header in CsvParameterLayout.\r","357","      <\/action>\r","358","      <action issue=\"LOG4J2-1199\" dev=\"rpopma\" type=\"fix\">\r","359","        Documented that JVM Input Arguments Lookup (JMX) is not available on Google App Engine.\r","360","      <\/action>\r","361","      <action issue=\"LOG4J2-1438\" dev=\"rpopma\" type=\"fix\">\r","362","        (GC) Added method getParameter() to ObjectMessage (and ReusableObjectMessage).\r","363","      <\/action>\r","364","      <action issue=\"LOG4J2-1488\" dev=\"rpopma\" type=\"fix\" due-to=\"Richard Zschech\">\r","365","        (GC) Fixed ISO8601 %date conversion pattern with a period '.' separator for milliseconds is now garbage free.\r","366","      <\/action>\r","367","      <action issue=\"LOG4J2-1489\" dev=\"rpopma\" type=\"fix\" due-to=\"Richard Zschech\">\r","368","        (GC) Fixed %date conversion patterns with a timezone parameter are now garbage free.\r","369","      <\/action>\r","370","      <action issue=\"LOG4J2-1279\" dev=\"rpopma\" type=\"fix\" due-to=\"Tony Baines\">\r","371","        Prevent NullPointerException in FastDateParser$TimeZoneStrategy.\r","372","      <\/action>\r","373","      <action issue=\"LOG4J2-1341\" dev=\"rpopma\" type=\"fix\" due-to=\"Richard Zschech\">\r","374","        (GC) HighlightConverter and StyleConverter are now GC-free.\r","375","      <\/action>\r","376","      <action issue=\"LOG4J2-1467\" dev=\"rpopma, ggregory\" type=\"fix\" due-to=\"Ralf, Gary Gregory\">\r","377","        [OSGi] Fixed missing import package.\r","378","      <\/action>\r","379","      <action issue=\"LOG4J2-351\" dev=\"rpopma, ggregory\" type=\"fix\" due-to=\"Roland Weiglhofer\">\r","380","        [OSGi] Fixed wrong Fragment-Host in manifest files.\r","381","      <\/action>\r","382","      <action issue=\"LOG4J2-1313\" dev=\"rpopma\" type=\"fix\" due-to=\"Philipp Knobel\">\r","383","        Properties declared in configuration can now have their value either in the element body or in an attribute named \"value\".\r","384","      <\/action>\r","385","      <action issue=\"LOG4J2-1235\" dev=\"ggregory\" type=\"fix\" due-to=\"Niranjan Rao, Sascha Scholz, Aleksey Zvolinsky\">\r","386","        org.apache.logging.log4j.core.appender.routing.IdlePurgePolicy was not working correctly.\r","387","      <\/action>\r","388","      <action issue=\"LOG4J2-1502\" dev=\"ggregory\" type=\"fix\" due-to=\"Sumit Singhal\">\r","389","        Fixed issue where CsvParameterLayout and CsvLogEventLayout inserted NUL characters if data starts with {, (, [ or \"\r","390","      <\/action>\r","391","      <action issue=\"LOG4J2-1573\" dev=\"ggregory\" type=\"fix\" due-to=\"Steffen Offermann\">\r","392","        Layout is no longer optional.\r","393","      <\/action>\r","394","      <action issue=\"LOG4J2-1608\" dev=\"ggregory\" type=\"fix\">\r","395","        ServletAppender does not provide throwable object to ServletContext.\r","396","      <\/action>\r","397","      <action issue=\"LOG4J2-1599\" dev=\"ggregory\" type=\"fix\">\r","398","        Prevent potential NPE in org.apache.logging.log4j.message.ParameterFormatter.formatMessage3(StringBuilder, char[], int, Object[], int, int[]).\r","399","      <\/action>\r","400","      <action issue=\"LOG4J2-1600\" dev=\"ggregory\" type=\"fix\">\r","401","        Prevent potential NPE due to org.apache.logging.log4j.core.layout.MarkerPatternSelector.createSelector(PatternMatch[], String, boolean, boolean, Configuration).\r","402","      <\/action>\r","403","      <action issue=\"LOG4J2-1601\" dev=\"ggregory\" type=\"fix\">\r","404","        Prevent potential NPE due to org.apache.logging.log4j.core.layout.ScriptPatternSelector.createSelector(AbstractScript, PatternMatch[], String, boolean, boolean, Configuration).\r","405","      <\/action>\r","406","      <action issue=\"LOG4J2-1602\" dev=\"ggregory\" type=\"fix\">\r","407","        Prevent potential NPE in org.apache.logging.log4j.core.util.datetime.FormatCache.MultipartKey.equals(Object) when object is null.\r","408","      <\/action>\r","409","      <action issue=\"LOG4J2-1603\" dev=\"ggregory\" type=\"fix\">\r","410","        Redo hashCode() and equals() methods in org.apache.logging.log4j.core.net.ssl classes.\r","411","      <\/action>\r","412","      <action issue=\"LOG4J2-1610\" dev=\"ggregory\" type=\"fix\" due-to=\"Shubhankar\">\r","413","        Add targetNamespace to log4j-config.xsd. GitHub #43.\r","414","      <\/action>\r","415","      <action issue=\"LOG4J2-1619\" dev=\"ggregory\" type=\"fix\">\r","416","        new Log4jLogEvent().toString() throws an NPE.\r","417","      <\/action>\r","418","      <action issue=\"LOG4J2-1578\" dev=\"ggregory\" type=\"add\">\r","419","        RoutingAppender can be configured with scripts. Add Script in a Routes element.\r","420","      <\/action>\r","421","      <action issue=\"LOG4J2-1597\" dev=\"ggregory\" type=\"add\">\r","422","        Add a ScriptAppenderSelector to create an Appender specified by a Script.\r","423","      <\/action>\r","424","      <action issue=\"LOG4J2-1349\" dev=\"rpopma\" type=\"add\">\r","425","        (GC) Added support for garbage-free ThreadContext map. Disabled by default, users need to enable this explicitly.\r","426","      <\/action>\r","427","      <action issue=\"LOG4J2-1447\" dev=\"rpopma\" type=\"add\">\r","428","        (GC) Changed LogEvent's internal data structure for context data to be garbage-free. Added method LogEvent#getContextData(), deprecated method #getContextMap().\r","429","      <\/action>\r","430","      <action issue=\"LOG4J2-1010\" dev=\"rpopma\" type=\"add\" due-to=\"Mikael St?ldal\">\r","431","        Users can now inject context data from other sources than ThreadContext. Values can be any Object, not just Strings.\r","432","      <\/action>\r","433","      <action issue=\"LOG4J2-1568\" dev=\"mattsicker\" type=\"add\">\r","434","        Added support for java.util.concurrent.LinkedTransferQueue to AsyncAppender.\r","435","      <\/action>\r","436","      <action issue=\"LOG4J2-1430\" dev=\"mattsicker\" type=\"add\" due-to=\"John Cairns\">\r","437","        Added optional support for Conversant DisruptorBlockingQueue in AsyncAppender.\r","438","      <\/action>\r","439","      <action issue=\"LOG4J2-1439\" dev=\"mattsicker\" type=\"add\" due-to=\"Anthony Maire\">\r","440","        Added optional support for JCTools MPSC bounded lock-free queue in AsyncAppender.\r","441","      <\/action>\r","442","      <action issue=\"LOG4J2-1558\" dev=\"ggregory\" type=\"add\">\r","443","        SocketAppender now supports IO buffering.\r","444","      <\/action>\r","445","      <action issue=\"LOG4J2-1557\" dev=\"ggregory\" type=\"add\">\r","446","        Add a Builder for the SocketAppender (deprecates factory method).\r","447","      <\/action>\r","448","      <action issue=\"LOG4J2-1609\" dev=\"ggregory\" type=\"add\">\r","449","        Add a Builder to ServletAppender and deprecate factory method.\r","450","      <\/action>\r","451","      <action issue=\"LOG4J2-1553\" dev=\"ggregory\" type=\"add\">\r","452","        AbstractManager now implements AutoCloseable.\r","453","      <\/action>\r","454","      <action issue=\"LOG4J2-1528\" dev=\"mikes\" type=\"add\">\r","455","        Added ability to generate Log4j 2-style XML configuration file from ConfigurationBuilder.\r","456","      <\/action>\r","457","      <action issue=\"LOG4J2-1181\" dev=\"mikes\" type=\"add\">\r","458","        Added Logging API for Scala 2.10 and 2.11.\r","459","      <\/action>\r","460","      <action issue=\"LOG4J2-1512\" dev=\"mikes\" type=\"add\">\r","461","        Added options to exclude stack trace from JSON, XML and YAML layouts.\r","462","      <\/action>\r","463","      <action issue=\"LOG4J2-1539\" dev=\"ggregory\" type=\"add\">\r","464","        Added Core API Configurator.shutdown(LoggerContext, long, TimeUnit).\r","465","      <\/action>\r","466","      <action issue=\"LOG4J2-1501\" dev=\"ggregory\" type=\"add\">\r","467","        FileAppender is now able to create files on-demand.\r","468","      <\/action>\r","469","      <action issue=\"LOG4J2-1504\" dev=\"ggregory\" type=\"add\">\r","470","        RollingFileAppender is now able to create files on-demand.\r","471","      <\/action>\r","472","      <action issue=\"LOG4J2-1471\" dev=\"ggregory\" type=\"add\">\r","473","        [PatternLayout] Add an ANSI option to %xThrowable.\r","474","      <\/action>\r","475","      <action issue=\"LOG4J2-1472\" dev=\"ggregory\" type=\"add\">\r","476","        org.apache.logging.log4j.core.LoggerContext now implements Closeable.\r","477","      <\/action>\r","478","      <action issue=\"LOG4J2-1458\" dev=\"ggregory\" type=\"add\">\r","479","        [PatternLayout] Add an ANSI option to %message.\r","480","      <\/action>\r","481","      <action issue=\"LOG4J2-1505\" dev=\"ggregory\" type=\"add\">\r","482","        Create a Builder for the FileAppender plugin to facilitate adding attributes in the future.\r","483","      <\/action>\r","484","      <action issue=\"LOG4J2-1507\" dev=\"ggregory\" type=\"add\">\r","485","        Allow Builders to be completely generic.\r","486","      <\/action>\r","487","      <action issue=\"LOG4J2-1508\" dev=\"ggregory\" type=\"add\">\r","488","        Allow a Builder to subclass another Builder.\r","489","      <\/action>\r","490","      <action issue=\"LOG4J2-1516\" dev=\"rpopma\" type=\"add\" due-to=\"Gary Gregory\">\r","491","        Add ThreadContextMap2 interface supporting method putAll(Map&lt;String, String&gt;).\r","492","      <\/action>\r","493","      <action issue=\"LOG4J2-1519\" dev=\"ggregory\" type=\"add\">\r","494","        Add ThreadContext.putAll(Map&lt;String, String&gt;).\r","495","      <\/action>\r","496","      <action issue=\"LOG4J2-1520\" dev=\"ggregory\" type=\"add\">\r","497","        Add JUnit Rule implementations to manage the thread context.\r","498","      <\/action>\r","499","      <action issue=\"LOG4J2-1547\" dev=\"ggregory\" type=\"add\">\r","500","        The Core AbstractConfiguration now tracks its LoggerContext and add Configuration.getLoggerContext().\r","501","      <\/action>\r","502","      <action issue=\"LOG4J2-1540\" dev=\"ggregory\" type=\"add\">\r","503","        The Core AbstractManager now tracks its LoggerContext.\r","504","      <\/action>\r","505","      <action issue=\"LOG4J2-1577\" dev=\"ggregory\" type=\"add\">\r","506","        Add a Builder to the RoutingAppender and deprecate factory method.\r","507","      <\/action>\r","508","      <action issue=\"LOG4J2-1604\" dev=\"ggregory\" type=\"update\" due-to=\"Colin Hillman\">\r","509","        Log4j2 TcpSocketServer in background.\r","510","      <\/action>\r","511","      <action issue=\"LOG4J2-1574\" dev=\"ggregory\" type=\"update\">\r","512","        Allow the RollingFileAppender to use default pattern layout.\r","513","      <\/action>\r","514","      <action issue=\"LOG4J2-1556\" dev=\"ggregory\" type=\"update\">\r","515","        Custom Log4j threads now extend Log4jThread.\r","516","      <\/action>\r","517","      <action issue=\"LOG4J2-1605\" dev=\"ggregory\" type=\"update\">\r","518","        Improve error messages for TcpSocketServer and UdpSocketServer.\r","519","      <\/action>\r","520","      <action issue=\"LOG4J2-1458\" dev=\"ggregory\" type=\"update\">\r","521","        Updated Jackson from 2.7.5 to 2.8.0.\r","522","      <\/action>\r","523","      <action issue=\"LOG4J2-1494\" dev=\"ggregory\" type=\"update\">\r","524","        Updated Jackson from 2.8.0 to 2.8.1.\r","525","      <\/action>\r","526","      <action issue=\"LOG4J2-1569\" dev=\"ggregory\" type=\"update\">\r","527","        Updated Jackson from 2.8.1 to 2.8.2.\r","528","      <\/action>\r","529","      <action issue=\"LOG4J2-1598\" dev=\"ggregory\" type=\"update\">\r","530","        Updated Jackson from 2.8.2 to 2.8.3.\r","531","      <\/action>\r","532","      <action issue=\"LOG4J2-1495\" dev=\"ggregory\" type=\"update\">\r","533","        Updated LMAX Disruptor from 3.3.4 to 3.3.5.\r","534","      <\/action>\r","535","      <action issue=\"LOG4J2-1496\" dev=\"ggregory\" type=\"update\">\r","536","        Updated Kafka client from 0.9.1.0 to 0.10.0.0.\r","537","      <\/action>\r","538","      <action issue=\"LOG4J2-1533\" dev=\"ggregory\" type=\"update\">\r","539","        Updated Kafka client from 0.10.0.0 to 0.10.0.1.\r","540","      <\/action>\r","541","      <action issue=\"LOG4J2-1487\" dev=\"ggregory\" type=\"update\">\r","542","        Updated JMS test from ActiveMQ 5.13.3 to 5.13.4.\r","543","      <\/action>\r","544","      <action issue=\"LOG4J2-1551\" dev=\"ggregory\" type=\"update\">\r","545","        Updated JMS test from ActiveMQ 5.13.4 to 5.14.0.\r","546","      <\/action>\r","547","      <action issue=\"LOG4J2-1543\" dev=\"ggregory\" type=\"update\">\r","548","        Removed deprecated Core API org.apache.logging.log4j.core.util.Constants.UTF_8.\r","549","      <\/action>\r","550","      <action issue=\"LOG4J2-1544\" dev=\"ggregory\" type=\"update\">\r","551","        Removed deprecated Core API org.apache.logging.log4j.core.util.Assert.requireNonNull(T, String).\r","552","      <\/action>\r","553","      <action issue=\"LOG4J2-1545\" dev=\"ggregory\" type=\"update\">\r","554","        Removed deprecated Web API org.apache.logging.log4j.web.WebLookup.getServletContext().\r","555","      <\/action>\r","556","    <\/release>\r","557","    <release version=\"2.6.2\" date=\"2016-07-05\" description=\"GA Release 2.6.2\">\r","558","      <action issue=\"LOG4J2-904\" dev=\"rgoers\" type=\"fix\" due-to=\"Bernhard M?hr\">\r","559","        If copy and delete fails in rename action then resort to truncating the source file after copying it.\r","560","      <\/action>\r","561","      <action issue=\"LOG4J2-1250\" dev=\"rgoers\" type=\"fix\">\r","562","        CronTriggeringPolicy was not properly setting the prevFileTime value for the PatternProcessor so\r","563","        file dates and times on rolled files were incorrect.\r","564","      <\/action>\r","565","      <action issue=\"LOG4J2-1452\" dev=\"rpopma\" type=\"fix\" due-to=\"Mikael St?ldal\">\r","566","        Fixed issue where reusable messages broke flow tracing logic.\r","567","      <\/action>\r","568","      <action issue=\"LOG4J2-1440\" dev=\"rgoers\" type=\"fix\">\r","569","        Fix bug in OnStartupTriggeringPolicy that allowed it to roll over on every reconfiguration. Added\r","570","        minSize attribute.\r","571","      <\/action>\r","572","      <action issue=\"LOG4J2-1414\" dev=\"rpopma\" type=\"fix\" due-to=\"Ralph Goers\">\r","573","        Fixed minor issues with the 2.6.1 web site.\r","574","      <\/action>\r","575","      <action issue=\"LOG4J2-1434\" dev=\"rpopma\" type=\"fix\" due-to=\"Luke Butters\">\r","576","        Ensure that the thread-local StringBuilders used by Layouts to format log events to text will not\r","577","        retain excessive memory after a large message was logged.\r","578","      <\/action>\r","579","      <action issue=\"LOG4J2-1395\" dev=\"mikes\" type=\"add\">\r","580","        Add \"direct\" option to ConsoleAppender for increased performance.\r","581","      <\/action>\r","582","      <action issue=\"LOG4J2-1418\" dev=\"mikes\" type=\"fix\">\r","583","        Provide MessageFactory2 to custom Logger implementations.\r","584","      <\/action>\r","585","      <action issue=\"LOG4J2-1420\" dev=\"rgoers\" type=\"fix\">\r","586","        RollingRandomAccessFileManager was not properly rolling over on startup and was getting a NullPointerException.\r","587","      <\/action>\r","588","      <action issue=\"LOG4J2-1417\" dev=\"rpopma\" type=\"fix\">\r","589","        Fixed issue where Unbox utility ignored the value Constants.ENABLE_THREADLOCALS and always stored non-JDK classes in ThreadLocals.\r","590","      <\/action>\r","591","      <action issue=\"LOG4J2-1422\" dev=\"rpopma\" type=\"fix\">\r","592","        Fixed issue where AsyncAppenderQueueFullPolicyTest sometimes hangs.\r","593","      <\/action>\r","594","      <action issue=\"LOG4J2-1445\" dev=\"ggregory\" type=\"fix\" due-to=\"Ludovic HOCHET\">\r","595","        OnStartupTriggeringPolicyTest fails on Windows saying the file is used by another process.\r","596","      <\/action>\r","597","      <action issue=\"LOG4J2-1437\" dev=\"rpopma\" type=\"add\">\r","598","        (GC) ObjectMessage and ReusableObjectMessage now avoid calling toString() on auto-boxed primitive parameters.\r","599","      <\/action>\r","600","      <action issue=\"LOG4J2-1415\" dev=\"rpopma\" type=\"add\">\r","601","        (GC) ParameterFormatter now avoids calling toString() on auto-boxed primitive message parameters.\r","602","      <\/action>\r","603","      <action issue=\"LOG4J2-1412\" dev=\"rpopma\" type=\"add\">\r","604","        Unbox utility's ringbuffer of StringBuilders is now configurable.\r","605","      <\/action>\r","606","      <action issue=\"LOG4J2-1432\" dev=\"ggregory\" type=\"update\">\r","607","        Update Jackson from 2.7.4 to 2.7.5.\r","608","      <\/action>\r","609","      <action issue=\"LOG4J2-1433\" dev=\"ggregory\" type=\"update\">\r","610","        Update Jansi from 1.11 to 1.13.\r","611","      <\/action>\r","612","      <action issue=\"LOG4J2-1444\" dev=\"ggregory\" type=\"update\">\r","613","        Update Apache Commons Compress from 1.11 to 1.12.\r","614","      <\/action>\r","615","    <\/release>\r","616","    <release version=\"2.6.1\" date=\"2016-06-05\" description=\"GA Release 2.6.1\">\r","617","      <action issue=\"LOG4J2-1405\" dev=\"rgoers\" type=\"fix\">\r","618","        OnStartupTriggeringPolicy was forcing a rollover of empty files at startup and would append a second footer that was added by the prior shutdown.\r","619","      <\/action>\r","620","      <action issue=\"LOG4J2-1406\" dev=\"rpopma\" type=\"fix\" due-to=\"Trask Stalnaker\">\r","621","        Fixed bug in ReusableParameterizedMessage where Throwable was never updated so first error was logged over and over again and subsequent errors were not logged.\r","622","      <\/action>\r","623","      <action issue=\"LOG4J2-1409\" dev=\"rpopma\" type=\"fix\" due-to=\"Shahan\">\r","624","        Fixed ArrayIndexOutOfBoundsException that may occur in ReusableParameterizedMessage.\r","625","      <\/action>\r","626","      <action issue=\"LOG4J2-997\" dev=\"rgoers\" type=\"fix\" due-to=\"Maytee Chinavanichkit\">\r","627","        Add filter and remove filter were not working properly in AbstractFilterable.\r","628","      <\/action>\r","629","      <action issue=\"LOG4J2-1032\" dev=\"rgoers\" type=\"fix\">\r","630","        Changed RenameAction to use java.nio to better report rename failures.\r","631","      <\/action>\r","632","      <action issue=\"LOG4J2-1407\" dev=\"ggregory\" type=\"fix\">\r","633","        Fixed misleading WARN log events from Log4j about message factories and unexpected formatting.\r","634","      <\/action>\r","635","      <action issue=\"LOG4J2-1408\" dev=\"ggregory\" type=\"fix\">\r","636","        Added the module log4j-liquibase to BOM POM.\r","637","      <\/action>\r","638","      <action issue=\"LOG4J2-1180\" dev=\"ggregory\" type=\"fix\">\r","639","        Logger cache now accounts for message factory.\r","640","      <\/action>\r","641","      <action issue=\"LOG4J2-1402\" dev=\"rgoers\" type=\"fix\">\r","642","        Fix regression in properties configuration to support arbitrary component ids.\r","643","      <\/action>\r","644","      <action issue=\"LOG4J2-1385\" dev=\"ggregory\" type=\"update\">\r","645","        (GC) CSV layouts should not create a new CSVPrinter for each log event. Requires Apache Commons CSV 1.4.\r","646","      <\/action>\r","647","      <action issue=\"LOG4J2-1398\" dev=\"ggregory\" type=\"update\">\r","648","        Update liquibase-core from 3.4.2 to 3.5.1.\r","649","      <\/action>\r","650","      <action issue=\"LOG4J2-1399\" dev=\"ggregory\" type=\"update\">\r","651","        Update Apache Commons CSV from 1.3 to 1.4.\r","652","      <\/action>\r","653","      <action issue=\"LOG4J2-1411\" dev=\"mattsicker\" type=\"add\">\r","654","        Added documentation about plugin builders compared to factories.\r","655","      <\/action>\r","656","      <action issue=\"LOG4J2-1394\" dev=\"mattsicker,mikes\" type=\"fix\">\r","657","        Fixed minor issues with the 2.6 web site.\r","658","      <\/action>\r","659","    <\/release>\r","660","    <release version=\"2.6\" date=\"2016-05-25\" description=\"GA Release 2.6\">\r","661","      <action issue=\"LOG4J2-1270\" dev=\"rpopma\" type=\"add\">\r","662","        (GC) Added support for garbage-free logging in steady state.\r","663","        This includes Async Loggers and logging synchronously to the console and to a file,\r","664","        but does not include the AsyncAppender. This release makes the GelfLayout and\r","665","        the main patterns in the PatternLayout garbage-free.\r","666","      <\/action>\r","667","      <action issue=\"LOG4J2-1297\" dev=\"rpopma\" type=\"add\">\r","668","        (GC) Added manual page on garbage-free logging.\r","669","      <\/action>\r","670","      <action issue=\"LOG4J2-1373\" dev=\"rpopma\" type=\"add\">\r","671","        (GC) Update Logger wrapper Generator tool to generate methods for the new Logger methods.\r","672","      <\/action>\r","673","      <action issue=\"LOG4J2-1356\" dev=\"mikes\" type=\"update\">\r","674","        (GC) GelfLayout does now support garabage-free logging (with compressionType=OFF).\r","675","      <\/action>\r","676","      <action issue=\"LOG4J2-1326\" dev=\"rpopma\" type=\"add\">\r","677","        (GC) Added methods to the Logger interface for logging CharSequence messages.\r","678","      <\/action>\r","679","      <action issue=\"LOG4J2-1344\" dev=\"rpopma\" type=\"add\">\r","680","        (GC) FileAppender, RollingFileAppender and MemoryMappedFileAppender are now also garbage-free by default.\r","681","      <\/action>\r","682","      <action issue=\"LOG4J2-1343\" dev=\"rpopma\" type=\"update\">\r","683","        (GC) ConsoleAppender is now garbage-free by default. This logic is reusable for all AbstractOutputStreamAppender subclasses.\r","684","      <\/action>\r","685","      <action issue=\"LOG4J2-1278\" dev=\"rpopma\" type=\"add\">\r","686","        (GC) Added unrolled varargs methods to Logger API, added Unbox utility to avoid auto-boxing when logging primitive values.\r","687","      <\/action>\r","688","      <action issue=\"LOG4J2-1318\" dev=\"rpopma\" type=\"update\">\r","689","        (GC) Avoid allocating unnecessary temporary objects in LoggerContext's getLogger methods.\r","690","      <\/action>\r","691","      <action issue=\"LOG4J2-1333\" dev=\"rpopma\" type=\"update\">\r","692","        (GC) Avoid allocating unnecessary temporary objects in MarkerManager's getMarker methods.\r","693","      <\/action>\r","694","      <action issue=\"LOG4J2-1321\" dev=\"rpopma\" type=\"update\">\r","695","        (GC) Avoid allocating unnecessary temporary objects in PatternLayout's NamePatternConverter and ClassNamePatternConverter.\r","696","      <\/action>\r","697","      <action issue=\"LOG4J2-1271\" dev=\"rpopma\" type=\"add\">\r","698","        (GC) Add MessageFactory that avoid allocation by reusing a cached ParameterizedMessage instance.\r","699","      <\/action>\r","700","      <action issue=\"LOG4J2-1271\" dev=\"rpopma\" type=\"update\">\r","701","        (GC) ParameterizedMessage optimizations to avoid or at least postpone allocating temporary objects.\r","702","      <\/action>\r","703","      <action issue=\"LOG4J2-1283\" dev=\"rpopma\" type=\"update\">\r","704","        (GC) Provide ThreadLocal-based gc-free caching mechanism in DatePatternConverter for non-webapps.\r","705","      <\/action>\r","706","      <action issue=\"LOG4J2-1293\" dev=\"rpopma\" type=\"add\">\r","707","        (GC) Add interface StringBuilderFormattable to enable converting Messages and parameters to text without allocating temporary objects.\r","708","        ParameterizedMessage, ObjectMessage, SimpleMessage and ThreadDumpMessage now implement StringBuilderFormattable.\r","709","      <\/action>\r","710","      <action issue=\"LOG4J2-1291\" dev=\"rpopma\" type=\"update\">\r","711","        (GC) Update PatternLayout to utilize gc-free mechanism for LogEvent processing.\r","712","      <\/action>\r","713","      <action issue=\"LOG4J2-1292\" dev=\"rpopma\" type=\"update\">\r","714","        (GC) Update RandomAccessFileAppender and RollingRandomAccessFileAppender to utilize gc-free Layout.encode() method.\r","715","      <\/action>\r","716","      <action issue=\"LOG4J2-1274\" dev=\"rpopma\" type=\"add\">\r","717","        (GC) Add encode(LogEvent, ByteBufferDestination) method to Layout API to enable converting LogEvents to bytes without creating temporary objects.\r","718","      <\/action>\r","719","      <action issue=\"LOG4J2-1281\" dev=\"rpopma\" type=\"fix\">\r","720","        (GC) LoggerConfig.getProperties() should not allocate on each call.\r","721","      <\/action>\r","722","      <action issue=\"LOG4J2-1272\" dev=\"rpopma\" type=\"update\">\r","723","        (GC) Improve LoggerConfig's data structure for AppenderControl objects to avoid allocating temporary objects during\r","724","        traversal for each log event.\r","725","      <\/action>\r","726","      <action issue=\"LOG4J2-1269\" dev=\"rpopma\" type=\"fix\">\r","727","        (GC) AsyncLogger should use thread-local translator by default.\r","728","      <\/action>\r","729","      <action issue=\"LOG4J2-623\" dev=\"rpopma\" type=\"fix\">\r","730","        Generate MDC properties as a JSON map in JSONLayout, with option to output as list of map entries.\r","731","      <\/action>\r","732","      <action issue=\"LOG4J2-1362\" dev=\"rpopma\" type=\"add\" due-to=\"Gary Gregory\">\r","733","        Added a YAML layout.\r","734","      <\/action>\r","735","      <action issue=\"LOG4J2-1387\" dev=\"rpopma\" type=\"fix\">\r","736","        Fixed memory leak related to shutdown hook.\r","737","      <\/action>\r","738","      <action issue=\"LOG4J2-1179\" dev=\"rpopma\" type=\"add\">\r","739","        Documented benchmark results comparing Log4j 2 performance to other logging libraries.\r","740","      <\/action>\r","741","      <action issue=\"LOG4J2-1382\" dev=\"rpopma\" type=\"fix\">\r","742","        Copying a MutableLogEvent using Log4jLogEvent.Builder should not unnecessarily obtain caller location information.\r","743","      <\/action>\r","744","      <action issue=\"LOG4J2-1011\" dev=\"mikes\" type=\"add\">\r","745","        Document dependencies for layouts.\r","746","      <\/action>\r","747","      <action issue=\"LOG4J2-621\" dev=\"ggregory\" type=\"add\" due-to=\"Lee Theobald, Kamal Mettananda, Gary Gregory\">\r","748","        Pattern to drop first N package parts.\r","749","      <\/action>\r","750","      <action issue=\"LOG4J2-494\" dev=\"rgoers\" type=\"add\" due-to=\"Philipp Knobel\">\r","751","        Support merging configurations to for a composite configuration.\r","752","      <\/action>\r","753","      <action issue=\"LOG4J2-1357\" dev=\"mikes\" type=\"add\">\r","754","        Option to not log stack traces for logged Throwables in GelfLayout.\r","755","      <\/action>\r","756","      <action issue=\"LOG4J2-1375\" dev=\"rpopma\" type=\"update\">\r","757","        Update SLF4J from 1.7.13 to 1.7.21.\r","758","      <\/action>\r","759","      <action issue=\"LOG4J2-1374\" dev=\"rpopma\" type=\"update\">\r","760","        Migrate tests from Logback 1.1.3 to 1.1.7.\r","761","      <\/action>\r","762","      <action issue=\"LOG4J2-1384\" dev=\"ggregory\" type=\"update\">\r","763","        Update Apache Commons CSV from 1.2 to 1.3.\r","764","      <\/action>\r","765","      <action issue=\"LOG4J2-1372\" dev=\"rgoers\" type=\"fix\" due-to=\"Kamal Mettananda, Gary Gregory\">\r","766","        XMLLayout indents, but not the first child tag (Event).\r","767","      <\/action>\r","768","      <action issue=\"LOG4J2-1363\" dev=\"rgoers\" type=\"fix\">\r","769","        Properties Configuration did not support includeLocation attribute on Loggers.\r","770","      <\/action>\r","771","      <action issue=\"LOG4J2-1263\" dev=\"rgoers\" type=\"fix\">\r","772","        The ConfigurationSource was not saved for BuiltConfigurations so monitor interval had no effect.\r","773","      <\/action>\r","774","      <action issue=\"LOG4J2-1369\" dev=\"ggregory\" type=\"fix\" due-to=\"Alex Birch, Gary Gregory\">\r","775","        \"xz\" compression results in plaintext, uncompressed files.\r","776","      <\/action>\r","777","      <action issue=\"LOG4J2-1365\" dev=\"mikes\" type=\"update\">\r","778","        (Log4j-internal) Provide message text as CharSequence for some message types to optimize some layouts.\r","779","      <\/action>\r","780","      <action issue=\"LOG4J2-1368\" dev=\"rpopma\" type=\"fix\">\r","781","        (Log4j-internal) StatusLogger dropped exceptions when logging parameterized messages.\r","782","      <\/action>\r","783","      <action issue=\"LOG4J2-1348\" dev=\"ggregory\" type=\"add\" due-to=\"Greg Thomas, Gary Gregory\">\r","784","        Add an AutoCloseable ThreadContext class: CloseableThreadContext.\r","785","      <\/action>\r","786","      <action issue=\"LOG4J2-1345\" dev=\"rpopma\" type=\"update\">\r","787","        (Doc) Clarify documentation for properties that control Log4j behaviour.\r","788","      <\/action>\r","789","      <action issue=\"LOG4J2-1336\" dev=\"ggregory\" type=\"fix\" due-to=\"Zbynek Vyskovsky\">\r","790","        LoggerFactory in 1.2 API module is not compatible with 1.2.\r","791","      <\/action>\r","792","      <action issue=\"LOG4J2-1354\" dev=\"ggregory\" type=\"fix\" due-to=\"Arkadiusz Adolph\">\r","793","        No configuration reload is triggered under Windows when replacing the configuration file with one that has older last modified date.\r","794","      <\/action>\r","795","      <action issue=\"LOG4J2-1346\" type=\"fix\">\r","796","        Exception from Log4jServletContextListener prevents jetty-maven-plugin run-forked.\r","797","      <\/action>\r","798","      <action issue=\"LOG4J2-1339\" dev=\"rpopma\" type=\"fix\">\r","799","        (Perf) AsyncLogger performance optimization: avoid calling instanceof TimestampMessage in hot path.\r","800","      <\/action>\r","801","      <action issue=\"LOG4J2-1324\" dev=\"rpopma\" type=\"fix\">\r","802","        Improve error handling in the Async Logger background thread: the new default exception handler no longer rethrows the error.\r","803","      <\/action>\r","804","      <action issue=\"LOG4J2-1309\" dev=\"ggregory\" type=\"fix\">\r","805","        Configuration file error does not show cause exception.\r","806","      <\/action>\r","807","      <action issue=\"LOG4J2-1299\" dev=\"ggregory\" type=\"add\">\r","808","        Add pattern converter for thread id and priority in PatternLayout.\r","809","      <\/action>\r","810","      <action issue=\"LOG4J2-1289\" dev=\"ggregory\" type=\"fix\">\r","811","        Change flow logging text from \"entry' to \"Enter\" and \"exit\" to \"Exit\".\r","812","      <\/action>\r","813","      <action issue=\"LOG4J2-1284\" dev=\"rpopma\" type=\"fix\">\r","814","        Made default MessageFactory configurable.\r","815","      <\/action>\r","816","      <action issue=\"LOG4J2-1280\" dev=\"ggregory\" type=\"fix\">\r","817","        Deprecate org.apache.logging.log4j.util.MessageSupplier.\r","818","      <\/action>\r","819","      <action issue=\"LOG4J2-1280\" dev=\"rpopma\" type=\"fix\">\r","820","        Logger methods taking Supplier parameters now correctly handle cases where the supplied value is a Message.\r","821","      <\/action>\r","822","      <action issue=\"LOG4J2-1268\" dev=\"rpopma\" type=\"fix\">\r","823","        FixedDateFormat was incorrect for formats having MMM with the French locale.\r","824","      <\/action>\r","825","      <action issue=\"LOG4J2-1255\" dev=\"rgoers\" type=\"update\">\r","826","        Add enhanced entry and exit methods.\r","827","      <\/action>\r","828","      <action issue=\"LOG4J2-124\" dev=\"rgoers\" type=\"add\">\r","829","        Add shutdown methods to LogManager.\r","830","      <\/action>\r","831","      <action issue=\"LOG4J2-1222\" dev=\"rgoers\" type=\"fix\">\r","832","        Creation of a LoggerContext will fail if shutdown is in progress. LogManager will default to SimpleLogger instead.\r","833","      <\/action>\r","834","      <action issue=\"LOG4J2-1221\" dev=\"rpopma\" type=\"add\" due-to=\"Michael Barker\">\r","835","        Added async logger Timeout wait strategy and made this the default wait strategy for async loggers.\r","836","        This prevents a rare deadlock that may occur on Solaris.\r","837","      <\/action>\r","838","      <action issue=\"LOG4J2-1080\" dev=\"rpopma\" type=\"add\">\r","839","        Added option to discard events below a certain log level if the async logger ring buffer\r","840","        or async appender queue is full.\r","841","      <\/action>\r","842","      <action issue=\"LOG4J2-1237\" dev=\"ggregory\" type=\"add\" due-to=\"Mike Calmus, Gary Gregory\">\r","843","        Make PatternLayout header and footer accept a pattern.\r","844","      <\/action>\r","845","      <action issue=\"LOG4J2-1244\" dev=\"ggregory\" type=\"add\" due-to=\"Anshu Garg, Remko Popma, Gary Gregory\">\r","846","        Make header and footer values customizable in JSONLayout.\r","847","      <\/action>\r","848","      <action issue=\"LOG4J2-1245\" dev=\"ggregory\" type=\"add\">\r","849","        Make CSV Layout header and footers accept patterns.\r","850","      <\/action>\r","851","      <action issue=\"LOG4J2-1192\" dev=\"ggregory\" type=\"add\" due-to=\"J?rg Bretschneider, Gary Gregory\">\r","852","        Dynamic Subject for SMTP Appender.\r","853","      <\/action>\r","854","      <action issue=\"LOG4J2-1277\" dev=\"ggregory\" type=\"add\" due-to=\"Gary Gregory, Ludovic Hochet\">\r","855","        FormattedMessage, MessageFormatMessage and StringFormattedMessage should support passing in a Locale to ensure appropriate formatting.\r","856","      <\/action>\r","857","      <action issue=\"LOG4J2-1260\" dev=\"ggregory\" type=\"fix\" due-to=\"Blake Day, Gary Gregory\">\r","858","        TlsSyslogFrame calculates message length incorrectly.\r","859","      <\/action>\r","860","      <action issue=\"LOG4J2-1258\" dev=\"ggregory\" type=\"fix\" due-to=\"Francis Lalonde\">\r","861","        Async DynamicThresholdFilter does not use the log event's context map.\r","862","      <\/action>\r","863","      <action issue=\"LOG4J2-1232\" dev=\"ggregory\" type=\"fix\" due-to=\"Nikolai\">\r","864","        Incorrect log rotation in last week of year.\r","865","      <\/action>\r","866","      <action issue=\"LOG4J2-1248\" dev=\"rpopma\" type=\"fix\">\r","867","        Fixed broken nanotime in pattern layout.\r","868","      <\/action>\r","869","      <action issue=\"LOG4J2-908\" dev=\"ggregory\" type=\"fix\" due-to=\"Konstantinos Liakos, Patrick Flaherty, Robin Coe, Gary Gregory\">\r","870","        JSONLayout doesn't add a comma between log events.\r","871","      <\/action>\r","872","      <action issue=\"LOG4J2-1230\" dev=\"ggregory\" type=\"fix\" due-to=\"Vladimir Hudec, Ralph Goers, Gary Gregory\">\r","873","        Don't concatenate SYSLOG Messages.\r","874","      <\/action>\r","875","      <action issue=\"LOG4J2-1238\" dev=\"ggregory\" type=\"fix\">\r","876","        org.apache.logging.log4j.core.net.TcpSocketManager and other classes does not report internal exceptions to the status logger.\r","877","      <\/action>\r","878","      <action issue=\"LOG4J2-1212\" dev=\"rpopma\" type=\"fix\">\r","879","        Fix documentation to specify the correct default wait strategy used by async loggers.\r","880","      <\/action>\r","881","      <action issue=\"LOG4J2-1215\" dev=\"ggregory\" type=\"fix\" due-to=\"Erik Kemperman\">\r","882","        Documentation\/XSD inconsistencies.\r","883","      <\/action>\r","884","      <action issue=\"LOG4J2-1276\" dev=\"ggregory\" type=\"fix\" due-to=\"Ludovic Hochet\">\r","885","        LoggerMessageSupplierTest and LoggerSupplierTest are Locale sensitive.\r","886","      <\/action>\r","887","      <action issue=\"LOG4J2-1380\" dev=\"ggregory\" type=\"update\">\r","888","        Update Jackson from 2.7.3 to 2.7.4.\r","889","      <\/action>\r","890","      <action issue=\"LOG4J2-1304\" dev=\"ggregory\" type=\"update\">\r","891","        Update Jackson from 2.7.0 to 2.7.2.\r","892","      <\/action>\r","893","      <action issue=\"LOG4J2-1253\" dev=\"ggregory\" type=\"update\">\r","894","        Update LMAX Disruptor from 3.3.2 to 3.3.4.\r","895","      <\/action>\r","896","      <action issue=\"LOG4J2-1219\" dev=\"ggregory\" type=\"update\">\r","897","        Update SLF4J from 1.7.12 to 1.7.13.\r","898","      <\/action>\r","899","      <action issue=\"LOG4J2-1239\" dev=\"ggregory\" type=\"update\">\r","900","        Update Jackson from 2.6.3 to 2.6.4.\r","901","      <\/action>\r","902","      <action issue=\"LOG4J2-1249\" dev=\"ggregory\" type=\"update\">\r","903","        Update Jackson from 2.6.4 to 2.7.0.\r","904","      <\/action>\r","905","      <action issue=\"LOG4J2-1351\" dev=\"ggregory\" type=\"update\">\r","906","        Update Jackson from 2.7.2 to 2.7.3.\r","907","      <\/action>\r","908","      <action issue=\"LOG4J2-1240\" dev=\"ggregory\" type=\"update\">\r","909","        Update Liquibase from 3.3.5 to 3.4.2.\r","910","      <\/action>\r","911","      <action issue=\"LOG4J2-1294\" dev=\"ggregory\" type=\"update\">\r","912","        Update Kafka client from 0.9.0.0 to 0.9.0.1.\r","913","      <\/action>\r","914","      <action issue=\"LOG4J2-1352\" dev=\"ggregory\" type=\"update\">\r","915","        Update javax.mail from 1.5.4 to 1.5.5.\r","916","      <\/action>\r","917","      <action issue=\"LOG4J2-1358\" dev=\"ggregory\" type=\"update\">\r","918","        Update Apache Commons Compress from 1.10 to 1.11.\r","919","      <\/action>\r","920","      <action issue=\"LOG4J2-1388\" dev=\"rpopma\" type=\"update\">\r","921","        Update Google java-allocation-instrumenter from 3.0 to 3.0.1.\r","922","      <\/action>\r","923","      <action issue=\"LOG4J2-1233\" dev=\"ggregory\" type=\"update\" due-to=\"Bahri Gencsoy\">\r","924","        Misleading Value In Properties Example.\r","925","      <\/action>\r","926","      <action issue=\"LOG4J2-1251\" dev=\"mattsicker\" type=\"fix\" due-to=\"Romain Manni-Bucau\">\r","927","        Fix JUL bridge issue where LogRecord.getParameters() is used when null.\r","928","      <\/action>\r","929","      <action issue=\"LOG4J2-1254\" dev=\"rpopma\" type=\"fix\" due-to=\"Josh Trow\">\r","930","        Fix typo in Flow Tracing documentation.\r","931","      <\/action>\r","932","      <action issue=\"LOG4J2-920\" dev=\"mattsicker\" type=\"fix\" due-to=\"Ludovic Hochet\">\r","933","        ClassNotFoundException for BundleContextSelector when initialising in an OSGi environment.\r","934","      <\/action>\r","935","      <action issue=\"LOG4J2-1300\" dev=\"mattsicker\" type=\"update\">\r","936","        Remove serializability from classes that don't need it.\r","937","      <\/action>\r","938","      <action issue=\"LOG4J2-1303\" dev=\"mattsicker\" type=\"add\">\r","939","        Add documentation links to runtime dependencies in each component intro page.\r","940","      <\/action>\r","941","      <action issue=\"LOG4J2-1275\" dev=\"mattsicker\" type=\"fix\" due-to=\"Ludovic Hochet\">\r","942","        Fix RollingAppenderNoUnconditionalDeleteTest repeat test runs from failing.\r","943","      <\/action>\r","944","      <action issue=\"LOG4J2-1262\" dev=\"mattsicker\" type=\"fix\">\r","945","        Stop throwing unnecessary exception in Log4jServletContextListener.contextDestroyed().\r","946","      <\/action>\r","947","      <action issue=\"LOG4J2-1252\" dev=\"mattsicker\" type=\"add\">\r","948","        JeroMqAppender should support layouts.\r","949","      <\/action>\r","950","      <action issue=\"LOG4J2-1227\" dev=\"mattsicker\" type=\"fix\" due-to=\"Olivier Lemasle\">\r","951","        NullPointerException in MapLookup.lookup if the event is null.\r","952","      <\/action>\r","953","      <action issue=\"LOG4J2-1306\" dev=\"mattsicker\" type=\"update\">\r","954","        JeroMqAppender should use ShutdownCallbackRegistry instead of runtime hooks.\r","955","      <\/action>\r","956","      <action issue=\"LOG4J2-1217\" dev=\"mattsicker\" type=\"add\" due-to=\"Thies Wellpott\">\r","957","        PatternLayout option to limit length of text.\r","958","      <\/action>\r","959","      <action issue=\"LOG4J2-1308\" dev=\"mattsicker\" type=\"update\">\r","960","        Remove need to pre-specify appender et al. identifiers in property file config format.\r","961","      <\/action>\r","962","      <action issue=\"LOG4J2-1050\" dev=\"mattsicker\" type=\"fix\" due-to=\"Adam Retter\">\r","963","        Add a Log4jLookup class to help write log files relative to log4j2.xml.\r","964","      <\/action>\r","965","      <action issue=\"LOG4J2-1133\" dev=\"mattsicker\" type=\"add\">\r","966","        Add JNDI lookup documentation.\r","967","      <\/action>\r","968","      <action issue=\"LOG4J2-1310\" dev=\"mattsicker\" type=\"fix\">\r","969","        JndiLookup mindlessly casts to String and should use String.valueOf().\r","970","      <\/action>\r","971","      <action issue=\"LOG4J2-1206\" dev=\"mattsicker\" type=\"update\">\r","972","        org.apache.logging.log4j.core.LoggerContext#updateLoggers should call firePropertyChangeEvent.\r","973","      <\/action>\r","974","      <action issue=\"LOG4J2-248\" dev=\"mattsicker\" type=\"fix\">\r","975","        Log4jWebInitializerImpl: Use Thread instead of Class for fallback classloader.\r","976","      <\/action>\r","977","      <action issue=\"LOG4J2-1169\" dev=\"mattsicker\" type=\"add\" due-to=\"Gerald Kritzinger\">\r","978","        PatternLayout: Possible variable substitution in equals substitution parameter.\r","979","      <\/action>\r","980","      <action issue=\"LOG4J2-1322\" dev=\"mattsicker\" type=\"update\">\r","981","        Update Log4j 1.x migration guide to include information about system property lookup syntax changes.\r","982","      <\/action>\r","983","      <action issue=\"LOG4J2-1330\" dev=\"mattsicker\" type=\"fix\">\r","984","        Fix NoClassDefFoundError in ReflectionUtil on Google App Engine.\r","985","      <\/action>\r","986","    <\/release>\r","987","    <release version=\"2.5\" date=\"2015-12-06\" description=\"GA Release 2.5\">\r","988","      <action issue=\"LOG4J2-324\" dev=\"rpopma\" type=\"fix\">\r","989","        Reduced memory usage of status messages in bounded queue; support zero-length queue that stores no messages.\r","990","      <\/action>\r","991","      <action issue=\"LOG4J2-1173\" dev=\"rpopma\" type=\"fix\">\r","992","        Fixed rollover error when copying to a directory mapped to a remote Linux host.\r","993","      <\/action>\r","994","      <action issue=\"LOG4J2-435\" dev=\"rpopma\" type=\"add\" due-to=\"Robert Schaft\">\r","995","        Added support for custom delete actions triggered by a rollover.\r","996","      <\/action>\r","997","      <action issue=\"LOG4J2-649\" dev=\"rgoers\" type=\"update\" due-to=\"Aleksey Zvolinsky\">\r","998","        Add PurgePolicy and IdlePurgePolicy to RoutingAppender.\r","999","      <\/action>\r","1000","      <action issue=\"LOG4J2-1202\" dev=\"rgoers\" type=\"update\">\r","1001","        Remove ConfigurationMonitor. The WatchManager is now used to check for configuration changes.\r","1002","      <\/action>\r","1003","      <action issue=\"LOG4J2-1195\" dev=\"mikes\" type=\"fix\" due-to=\"Melvin Du\">\r","1004","        Make KafkaAppender support SerializedLayout.\r","1005","      <\/action>\r","1006","      <action issue=\"LOG4J2-89\" dev=\"rgoers\" type=\"add\">\r","1007","        Allow rollover to occur at any time. Add CronTriggeringPolicy.\r","1008","      <\/action>\r","1009","      <action issue=\"LOG4J2-381\" dev=\"rgoers\" type=\"fix\" due-to=\"Anthony Baldocchi\">\r","1010","        Allow triggering policy and rollover strategy to be modified during reconfiguration.\r","1011","      <\/action>\r","1012","      <action issue=\"LOG4J2-1136\" dev=\"rgoers\" type=\"add\">\r","1013","        Add support for JSR 223 scripts in filters and the PatternSelector.\r","1014","      <\/action>\r","1015","      <action issue=\"LOG4J2-1168\" dev=\"ggregory\" type=\"add\" due-to=\"Steven Swor\">\r","1016","        Add getters for source and destination file in file rename action.\r","1017","      <\/action>\r","1018","      <action issue=\"LOG4J2-1175\" dev=\"ggregory\" type=\"add\">\r","1019","        Add getters for classes in org.apache.logging.log4j.core.appender.rolling.action.\r","1020","      <\/action>\r","1021","      <action issue=\"LOG4J2-898\" dev=\"rpopma\" type=\"add\">\r","1022","        Added system property to allow users to control whether messages should be formatted in the background.\r","1023","      <\/action>\r","1024","      <action issue=\"LOG4J2-1178\" dev=\"ggregory\" type=\"add\">\r","1025","        Support use-case for JDBC's CommonDataSource.setLogWriter(PrintWriter) and java.sql.DriverManager.setLogWriter(PrintWriter).\r","1026","      <\/action>\r","1027","      <action issue=\"LOG4J2-1187\" dev=\"ggregory\" type=\"add\">\r","1028","        Support use case for java.sql.DriverManager.setLogStream(PrintStream).\r","1029","      <\/action>\r","1030","      <action issue=\"LOG4J2-1029\" dev=\"rpopma\" type=\"fix\" due-to=\"Stefan Leonhartsberger\">\r","1031","        Performance improvement when gathering location information.\r","1032","      <\/action>\r","1033","      <action issue=\"LOG4J2-1172\" dev=\"rpopma\" type=\"fix\">\r","1034","        Fixed ThreadLocal leak [AsyncLogger$Info] on Tomcat when using AsyncLoggerContextSelector.\r","1035","      <\/action>\r","1036","      <action issue=\"LOG4J2-1176\" dev=\"rpopma\" type=\"fix\">\r","1037","        Fixed memory leak when log4j jars are in Tomcat's lib folder.\r","1038","      <\/action>\r","1039","      <action issue=\"LOG4J2-1180\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">\r","1040","        Logger cache does not account for message factory.\r","1041","      <\/action>\r","1042","      <action issue=\"LOG4J2-879\" dev=\"rpopma\" type=\"fix\">\r","1043","        Documentation: fixed minor issues with the site and manual pages.\r","1044","      <\/action>\r","1045","      <action issue=\"LOG4J2-999\" dev=\"rpopma\" type=\"fix\" due-to=\"Joan Balaguer¨®\">\r","1046","        RollingFileAppender should also roll over when log event time is equal to rollover time, not only when later.\r","1047","      <\/action>\r","1048","      <action issue=\"LOG4J2-873\" dev=\"rpopma\" type=\"fix\" due-to=\"Martin Dickins, LC, Luke Woodward\">\r","1049","        Fixed bug where omitting the &lt;display-name&gt; element in web.xml caused incorrect log4j initialization,\r","1050","        resulting in memory leaks when the web application was stopped or reloaded.\r","1051","      <\/action>\r","1052","      <action issue=\"LOG4J2-323\" dev=\"rpopma\" type=\"fix\">\r","1053","        Better web app support for async loggers: Fixed a memory leak that occurred when the logging jars are placed\r","1054","        in the container's classpath and the configuration file uses AsyncRoot\/AsyncLogger.\r","1055","        The problem was that the first web application started the Disruptor background thread [AsyncLoggerConfig-1] but did not stop it until all web apps are stopped.\r","1056","        Each web application now has its own Disruptor which is stopped\/started together with the web app.\r","1057","      <\/action>\r","1058","      <action issue=\"LOG4J2-493\" dev=\"rpopma\" type=\"fix\">\r","1059","        Better web app support for async loggers: it is now possible to place the logging jars in the container's\r","1060","        classpath when making all loggers asynchronous by using AsyncLoggerContextSelector. This fixes a problem where\r","1061","        logging would stop working after stopping and restarting a web application.\r","1062","      <\/action>\r","1063","      <action issue=\"LOG4J2-1171\" dev=\"rpopma\" type=\"fix\">\r","1064","        Use servlet context name for logger context name when available.\r","1065","      <\/action>\r","1066","      <action issue=\"LOG4J2-1159\" dev=\"rpopma\" type=\"fix\">\r","1067","        Fixed a ThreadLocal memory leak in Tomcat8 that mentions AsyncLoggers when Async Loggers are not used.\r","1068","      <\/action>\r","1069","      <action issue=\"LOG4J2-1166\" dev=\"rpopma\" type=\"fix\">\r","1070","        AbstractConfiguration executor should use a DaemonThreadFactory.\r","1071","      <\/action>\r","1072","      <action issue=\"LOG4J2-1165\" dev=\"rpopma\" type=\"fix\">\r","1073","        Improve Log4j initialization status messages.\r","1074","      <\/action>\r","1075","      <action issue=\"LOG4J2-1156\" dev=\"rpopma\" type=\"fix\">\r","1076","        Web site corrections and updates.\r","1077","      <\/action>\r","1078","      <action issue=\"LOG4J2-1158\" dev=\"ggregory\" type=\"fix\" due-to=\"Michael Fortin, Gary Gregory\">\r","1079","        Log4J JUL adapter is using MessageFormat on String passed by java.util.function.Supplier&lt;String>.\r","1080","      <\/action>\r","1081","      <action issue=\"LOG4J2-801\" dev=\"mattsicker\" type=\"fix\">\r","1082","        org.apache.logging.log4j.core.Logger should be serializable.\r","1083","      <\/action>\r","1084","      <action issue=\"LOG4J2-1157\" dev=\"mattsicker\" type=\"fix\" due-to=\"Norbert Bartels\">\r","1085","        Fix compilation error for classes annotated with @Plugin.\r","1086","      <\/action>\r","1087","      <action issue=\"LOG4J2-948\" dev=\"mattsicker\" type=\"fix\" due-to=\"Andrew Flower\">\r","1088","        Fix plugin documentation error about Converters.\r","1089","      <\/action>\r","1090","      <action issue=\"LOG4J2-1193\" dev=\"ggregory\" type=\"fix\">\r","1091","        Prefix all thread names Log4j creates with \"Log4j2-\".\r","1092","      <\/action>\r","1093","      <action issue=\"LOG4J2-1194\" dev=\"ggregory\" type=\"fix\" due-to=\"Adam Brin\">\r","1094","        Documentation does not match parameters for LoggerNameLevelRewritePolicy.\r","1095","      <\/action>\r","1096","      <action issue=\"LOG4J2-1196\" dev=\"mattsicker\" type=\"fix\" due-to=\"Ren¨¦ Zanner\">\r","1097","        MongoDbConnection does not close MongoClient.\r","1098","      <\/action>\r","1099","      <action issue=\"LOG4J2-1174\" dev=\"ggregory\" type=\"update\">\r","1100","        Update Jackson from 2.6.2 to 2.6.3.\r","1101","      <\/action>\r","1102","      <action issue=\"LOG4J2-1207\" dev=\"ggregory\" type=\"update\">\r","1103","        Update kafka-clients from 0.8.2.2 to 0.9.0.0.\r","1104","      <\/action>\r","1105","    <\/release>\r","1106","    <release version=\"2.4.1\" date=\"2015-10-08\" description=\"GA Release 2.4.1\">\r","1107","      <action issue=\"LOG4J2-1129\" dev=\"rgoers\" type=\"add\">\r","1108","        Allow PatternLayout to select a pattern to use based on some selection criteria.\r","1109","      <\/action>\r","1110","      <action issue=\"LOG4J2-1145\" dev=\"ggregory\" type=\"add\">\r","1111","        Add %equals to PatternLayout to test and replace patterns with strings.\r","1112","      <\/action>\r","1113","      <action issue=\"LOG4J2-1147\" dev=\"ggregory\" type=\"add\">\r","1114","        Add %equalsIgnoreCase to PatternLayout to test and replace patterns with strings.\r","1115","      <\/action>\r","1116","      <action issue=\"LOG4J2-1146\" dev=\"ggregory\" type=\"add\">\r","1117","        Add %notEmpty to PatternLayout to avoid output of patterns where all variables are empty.\r","1118","      <\/action>\r","1119","      <action issue=\"LOG4J2-1020\" dev=\"mikes\" type=\"add\">\r","1120","        Add possibility to set shutdown timeout on AsyncAppender.\r","1121","      <\/action>\r","1122","      <action issue=\"LOG4J2-1153\" dev=\"rpopma\" type=\"fix\">\r","1123","        Fixed NullPointerException when only root logger is defined (and no named loggers) in configuration properties file.\r","1124","      <\/action>\r","1125","      <action issue=\"LOG4J2-1140\" dev=\"rpopma\" type=\"fix\">\r","1126","        Fixed bug where headers were not being written to first file with RollingFileAppender.\r","1127","      <\/action>\r","1128","      <action issue=\"LOG4J2-1149\" dev=\"rpopma\" type=\"fix\">\r","1129","        Fixed bug where PatternLayout predefined date pattern with time zone always renders default date format.\r","1130","      <\/action>\r","1131","      <action issue=\"LOG4J2-1050\" dev=\"rpopma\" type=\"fix\">\r","1132","        Fixed Log4jLookup.\r","1133","      <\/action>\r","1134","      <action issue=\"LOG4J2-1142\" dev=\"rpopma\" type=\"fix\">\r","1135","        Fix potential memory leak in web applications by using a straight ThreadLocal field instead of subclassing ThreadLocal.\r","1136","      <\/action>\r","1137","      <action issue=\"LOG4J2-1135\" dev=\"rpopma\" type=\"fix\">\r","1138","        Compression on rollover was broken: log file was renamed to .zip but not compressed.\r","1139","      <\/action>\r","1140","      <action issue=\"LOG4J2-1127\" dev=\"ggregory\" type=\"fix\">\r","1141","        log4j2.xml cannot be parsed on Oracle Weblogic 12c.\r","1142","      <\/action>\r","1143","      <action issue=\"LOG4J2-1132\" dev=\"ggregory\" type=\"fix\">\r","1144","        Do not use MongoDB driver 2.13.3 deprecated methods.\r","1145","      <\/action>\r","1146","      <action issue=\"LOG4J2-1144\" dev=\"ggregory\" type=\"fix\">\r","1147","        Add %markerSimpleName in pattern layout should evaluate to marker name (not toString()).\r","1148","      <\/action>\r","1149","      <action issue=\"LOG4J2-1126\" dev=\"ggregory\" type=\"fix\">\r","1150","        Web site corrections and updates.\r","1151","      <\/action>\r","1152","      <action issue=\"LOG4J2-1151\" dev=\"rpopma\" type=\"update\">\r","1153","        Performance improvement: backport Java 8 fast ISO-8859-1 String to byte[] encoder to AbstractStringLayout.\r","1154","      <\/action>\r","1155","      <action issue=\"LOG4J2-935\" dev=\"rpopma\" type=\"update\">\r","1156","        Performance improvement when converting Strings to byte[] arrays.\r","1157","      <\/action>\r","1158","      <action issue=\"LOG4J2-1040\" dev=\"ggregory\" type=\"update\">\r","1159","        Update MongoDB driver from 2.13.3 to 3.0.4.\r","1160","      <\/action>\r","1161","      <action issue=\"LOG4J2-1128\" dev=\"ggregory\" type=\"update\">\r","1162","        Reuse StringBuilder to improve performance for String-based layouts: CSV, GELF, HTML, RFC524, Syslog.\r","1163","      <\/action>\r","1164","      <action issue=\"LOG4J2-1131\" dev=\"ggregory\" type=\"update\">\r","1165","        Update mongo-java-driver from 2.13.2 to 2.13.3.\r","1166","      <\/action>\r","1167","      <action issue=\"LOG4J2-1138\" dev=\"ggregory\" type=\"update\">\r","1168","        Do not use Jackson deprecated methods.\r","1169","      <\/action>\r","1170","      <action issue=\"LOG4J2-1139\" dev=\"ggregory\" type=\"update\">\r","1171","        Update Jackson from 2.6.1 to 2.6.2.\r","1172","      <\/action>\r","1173","      <action issue=\"LOG4J2-1150\" dev=\"ggregory\" type=\"update\">\r","1174","        Update kafka-clients from 0.8.2.1 to 0.8.2.2.\r","1175","      <\/action>\r","1176","    <\/release>\r","1177","    <release version=\"2.4\" date=\"2015-09-20\" description=\"GA Release 2.4\">\r","1178","      <action issue=\"LOG4J2-635\" dev=\"rgoers\" type=\"add\">\r","1179","        Add support for configuration via Properties.\r","1180","      <\/action>\r","1181","      <action issue=\"LOG4J2-952\" dev=\"rgoers\" type=\"add\">\r","1182","        Add ConfigurationBuilder for programmatic configuration.\r","1183","      <\/action>\r","1184","      <action issue=\"LOG4J2-1017\" dev=\"ggregory\" type=\"update\">\r","1185","        Update Java platform from Java 6 to 7. From this version onwards, log4j 2 requires Java 7.\r","1186","      <\/action>\r","1187","      <action issue=\"LOG4J2-599\" dev=\"rpopma\" type=\"add\">\r","1188","        Added support for Java 8 lambda expressions to lazily construct a log message only if\r","1189","              the requested log level is enabled.\r","1190","      <\/action>\r","1191","      <action issue=\"LOG4J2-1118\" dev=\"rpopma\" type=\"add\">\r","1192","        Updated Logger wrapper generator tool to add Java 8 lambda support for custom log levels.\r","1193","      <\/action>\r","1194","      <action issue=\"LOG4J2-1107\" dev=\"ggregory\" type=\"add\" due-to=\"Mikael St?ldal\">\r","1195","        New Appender for Apache Kafka.\r","1196","      <\/action>\r","1197","      <action issue=\"LOG4J2-1113\" dev=\"ggregory\" type=\"add\" due-to=\"Gary Gregory\">\r","1198","        New publisher Appender for ZeroMQ (using JeroMQ).\r","1199","      <\/action>\r","1200","      <action issue=\"LOG4J2-1088\" dev=\"ggregory\" type=\"add\" due-to=\"Gary Gregory\">\r","1201","        Add Comma Separated Value (CSV) layouts for parameter and event logging.\r","1202","      <\/action>\r","1203","      <action issue=\"LOG4J2-812\" dev=\"rgoers\" type=\"update\">\r","1204","        PatternLayout timestamp formatting performance improvement: replaced synchronized SimpleDateFormat with\r","1205","        Apache Commons FastDateFormat. This and better caching resulted in a ~3-30X faster timestamp formatting.\r","1206","      <\/action>\r","1207","      <action issue=\"LOG4J2-1097\" dev=\"rpopma\" type=\"update\">\r","1208","        PatternLayout timestamp formatting performance improvement: predefined date formats (and variants using\r","1209","        a period '.' millisecond separator instead of ',') are now formatted ~2-10X faster than other date formats.\r","1210","      <\/action>\r","1211","      <action issue=\"LOG4J2-1096\" dev=\"rpopma\" type=\"update\">\r","1212","        Improved performance of ParameterizedMessage::getFormattedMessage by ~2X.\r","1213","      <\/action>\r","1214","      <action issue=\"LOG4J2-1120\" dev=\"rpopma\" type=\"update\">\r","1215","        LoggerConfig performance improvements: avoid unnecessary lock acquisition, use more efficient data structure.\r","1216","      <\/action>\r","1217","      <action issue=\"LOG4J2-1125\" dev=\"rpopma\" type=\"update\">\r","1218","        PatternLayout performance improvement by caching and reusing a ThreadLocal StringBuilder.\r","1219","      <\/action>\r","1220","      <action issue=\"LOG4J2-1121\" dev=\"rpopma\" type=\"fix\">\r","1221","        Fixed potential race condition on reconfiguration. Introduced ReliabilityStrategy to facilitate\r","1222","        switching between different mechanisms for preventing log events from being dropped on reconfiguration.\r","1223","      <\/action>\r","1224","      <action issue=\"LOG4J2-1114\" dev=\"ggregory\" type=\"update\">\r","1225","        Add thread name to status logger layout.\r","1226","      <\/action>\r","1227","      <action issue=\"LOG4J2-1123\" dev=\"ggregory\" type=\"fix\">\r","1228","        Core Configurator.initialize(String, ClassLoader, String) fails to work when config location is a file path.\r","1229","      <\/action>\r","1230","      <action issue=\"LOG4J2-1117\" dev=\"ggregory\" type=\"fix\" due-to=\"Marcus Thiesen\">\r","1231","        OutputStreamManager in ConsoleAppender leaking managers.\r","1232","      <\/action>\r","1233","      <action issue=\"LOG4J2-1044\" dev=\"rgoers\" type=\"fix\">\r","1234","        Write pending events to Flume when the appender is stopped.\r","1235","      <\/action>\r","1236","      <action issue=\"LOG4J2-1108\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">\r","1237","        NullPointerException when passing null to java.util.logging.Logger.setLevel().\r","1238","      <\/action>\r","1239","      <action issue=\"LOG4J2-1110\" dev=\"ggregory\" type=\"fix\">\r","1240","        org.apache.logging.log4j.jul.CoreLogger.setLevel() checks for security permission too late.\r","1241","      <\/action>\r","1242","      <action dev=\"rpopma\" type=\"remove\">\r","1243","        Removed experimental interface LevelLogger which got committed to master by mistake.\r","1244","      <\/action>\r","1245","      <action issue=\"LOG4J2-1010\" dev=\"rgoers\" type=\"update\">\r","1246","        Pass log event when interpolating logger properties.\r","1247","      <\/action>\r","1248","      <action issue=\"LOG4J2-1090\" dev=\"ggregory\" type=\"add\">\r","1249","        Add Core Configurator APIs to change a logger's level.\r","1250","      <\/action>\r","1251","      <action issue=\"LOG4J2-1105\" dev=\"ggregory\" type=\"add\" due-to=\"Gary Gregory\">\r","1252","        Add API org.apache.logging.log4j.Level.isInRange(Level, Level).\r","1253","      <\/action>\r","1254","      <action issue=\"LOG4J2-1106\" dev=\"ggregory\" type=\"add\" due-to=\"Gary Gregory\">\r","1255","        Add a LevelRangeFilter class.\r","1256","      <\/action>\r","1257","      <action issue=\"LOG4J2-1074\" dev=\"rpopma\" type=\"add\">\r","1258","        Added support for system nanosecond time in pattern layout.\r","1259","      <\/action>\r","1260","      <action issue=\"LOG4J2-1075\" dev=\"rpopma\" type=\"add\">\r","1261","        Added support for compressing to bzip2 format on file rollover.\r","1262","      <\/action>\r","1263","      <action issue=\"LOG4J2-1077\" dev=\"ggregory\" type=\"add\">\r","1264","        Support additional Apache Commons Compress compression formats on rollover: Deflate, Pack200, XY.\r","1265","      <\/action>\r","1266","      <action issue=\"LOG4J2-767\" dev=\"ggregory\" type=\"add\" due-to=\"Mikael St?ldal\">\r","1267","        New module for Liquibase integration.\r","1268","      <\/action>\r","1269","      <action issue=\"LOG4J2-1023\" dev=\"ggregory\" type=\"add\" due-to=\"Mikael St?ldal\">\r","1270","        New RewritePolicy for changing level of a log event.\r","1271","      <\/action>\r","1272","      <action issue=\"LOG4J2-1015\" dev=\"ggregory\" type=\"add\" due-to=\"Daniel Marcotte\">\r","1273","        Add a way to route messages based on the %marker in Layout for RoutingAppender.\r","1274","      <\/action>\r","1275","      <action issue=\"LOG4J2-1050\" dev=\"ggregory\" type=\"add\" due-to=\"Adam Retter\">\r","1276","        Add a Log4jLookup class to help write log files relative to log4j2.xml.\r","1277","      <\/action>\r","1278","      <action issue=\"LOG4J2-1057\" dev=\"ggregory\" type=\"add\">\r","1279","        Add API org.apache.logging.log4j.LogManager.getFormatterLogger().\r","1280","      <\/action>\r","1281","      <action issue=\"LOG4J2-1066\" dev=\"ggregory\" type=\"add\" due-to=\"Charles Allen\">\r","1282","        Expose Log4jContextFactory's ShutdownCallbackRegistry.\r","1283","      <\/action>\r","1284","      <action issue=\"LOG4J2-1084\" dev=\"ggregory\" type=\"fix\" due-to=\"Philipp Schneider\">\r","1285","        Misleading StatusLogger WARN event in LogManager with java.util.Map.\r","1286","      <\/action>\r","1287","      <action issue=\"LOG4J2-1051\" dev=\"ggregory\" type=\"fix\" due-to=\"Lukasz Lenart\">\r","1288","        NoClassDefFoundError when starting app on Google App Engine.\r","1289","      <\/action>\r","1290","      <action issue=\"LOG4J2-684\" dev=\"ggregory\" type=\"fix\" due-to=\"Joern Huxhorn, Mauro Molinari\">\r","1291","        ExtendedThrowablePatternConverter does not print suppressed exceptions.\r","1292","      <\/action>\r","1293","      <action issue=\"LOG4J2-1069\" dev=\"ggregory\" type=\"fix\" due-to=\"Sam Braam\">\r","1294","        Improper handling of JSON escape chars when deserializing JSON log events.\r","1295","      <\/action>\r","1296","      <action issue=\"LOG4J2-1068\" dev=\"ggregory\" type=\"fix\" due-to=\"Andy McMullan\">\r","1297","        Exceptions not logged when using TcpSocketServer + SerializedLayout.\r","1298","      <\/action>\r","1299","      <action issue=\"LOG4J2-1067\" dev=\"ggregory\" type=\"fix\" due-to=\"Sam Braam\">\r","1300","        ThrowableProxy getExtendedStackTraceAsString throws NPE on deserialized nested exceptions.\r","1301","      <\/action>\r","1302","      <action issue=\"LOG4J2-1049\" dev=\"rpopma\" type=\"fix\" due-to=\"Robert Schaft\">\r","1303","        AsyncAppender now resets the thread interrupted flag after catching InterruptedException.\r","1304","      <\/action>\r","1305","      <action issue=\"LOG4J2-1048\" dev=\"rpopma\" type=\"fix\" due-to=\"Nikhil\">\r","1306","        FileConfigurationMonitor unnecessarily calls System.currentTimeMillis() causing high CPU usage.\r","1307","      <\/action>\r","1308","      <action issue=\"LOG4J2-1037\" dev=\"ggregory\" type=\"fix\" due-to=\"Marc Dergacz\">\r","1309","        Backward compatibility issue in log4j-1.2-api NDC pop() and peek().\r","1310","      <\/action>\r","1311","      <action issue=\"LOG4J2-1025\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">\r","1312","        Custom java.util.logging.Level gives null Log4j Level and causes NPE.\r","1313","      <\/action>\r","1314","      <action issue=\"LOG4J2-1033\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">\r","1315","        SimpleLogger creates unnecessary Map objects by calling ThreadContext.getContext() instead of getImmutableContext().\r","1316","      <\/action>\r","1317","      <action issue=\"LOG4J2-1026\" dev=\"ggregory\" type=\"fix\">\r","1318","        HighlightConverter does not obey noConsoleNoAnsi.\r","1319","      <\/action>\r","1320","      <action issue=\"LOG4J2-1019\" dev=\"ggregory\" type=\"fix\">\r","1321","        ZipCompressAction leaves files open until GC when an IO error takes place.\r","1322","      <\/action>\r","1323","      <action issue=\"LOG4J2-1020\" dev=\"ggregory\" type=\"fix\">\r","1324","        GzCompressAction leaves files open until GC when an IO error takes place.\r","1325","      <\/action>\r","1326","      <action issue=\"LOG4J2-1038\" dev=\"ggregory\" type=\"fix\" due-to=\"Gili\">\r","1327","        Incorrect documentation for layout default charset.\r","1328","      <\/action>\r","1329","      <action issue=\"LOG4J2-1042\" dev=\"ggregory\" type=\"fix\" due-to=\"Guillaume Turri\">\r","1330","        Socket and Syslog appenders don't take timeout into account at startup.\r","1331","      <\/action>\r","1332","      <action issue=\"LOG4J2-934\" dev=\"ggregory\" type=\"fix\" due-to=\"Kenneth Gendron\">\r","1333","        Circular suppressed Exception throws StackOverflowError.\r","1334","      <\/action>\r","1335","      <action issue=\"LOG4J2-1046\" dev=\"ggregory\" type=\"fix\" due-to=\"Kenneth Gendron\">\r","1336","        Circular Exception cause throws StackOverflowError.\r","1337","      <\/action>\r","1338","      <action issue=\"LOG4J2-982\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikhail Mazurskiy\">\r","1339","        Use System.nanoTime() to measure time intervals.\r","1340","      <\/action>\r","1341","      <action issue=\"LOG4J2-1045\" dev=\"ggregory\" type=\"fix\" due-to=\"G¨¹nter Albrecht\">\r","1342","        Externalize log4j2.xml via URL resource.\r","1343","      <\/action>\r","1344","      <action issue=\"LOG4J2-1058\" dev=\"ggregory\" type=\"fix\" due-to=\"Daniel Branzea\">\r","1345","        Log4jMarker#contains(String) does not respect org.slf4j.Marker contract.\r","1346","      <\/action>\r","1347","      <action issue=\"LOG4J2-1060\" dev=\"ggregory\" type=\"fix\">\r","1348","        Log4jMarker#contains(Marker) does not respect org.slf4j.Marker contract.\r","1349","      <\/action>\r","1350","      <action issue=\"LOG4J2-1061\" dev=\"ggregory\" type=\"fix\">\r","1351","        Log4jMarker#remove(Marker) does not respect org.slf4j.Marker contract.\r","1352","      <\/action>\r","1353","      <action issue=\"LOG4J2-1062\" dev=\"ggregory\" type=\"fix\">\r","1354","        Log4jMarker#add(Marker) does not respect org.slf4j.Marker contract.\r","1355","      <\/action>\r","1356","      <action issue=\"LOG4J2-1064\" dev=\"ggregory\" type=\"fix\">\r","1357","        org.apache.logging.slf4j.Log4jMarker does not implement org.slf4j.Marker.equals(Object) org.slf4j.Marker.hashCode().\r","1358","      <\/action>\r","1359","      <action issue=\"LOG4J2-889\" dev=\"rpopma\" type=\"fix\" due-to=\"Maciej Kara?, Kenneth Leider\">\r","1360","        Header in layout should not be written on application startup if appending to an existing file. Fixes LOG4J2-1030.\r","1361","      <\/action>\r","1362","      <action issue=\"LOG4J2-918\" dev=\"rpopma\" type=\"fix\">\r","1363","        Clarify documentation for combining async with sync loggers.\r","1364","      <\/action>\r","1365","      <action issue=\"LOG4J2-1078\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">\r","1366","        GelfLayout throws exception if some log event fields are null.\r","1367","      <\/action>\r","1368","      <action issue=\"LOG4J2-1044\" dev=\"rgoers\" type=\"update\">\r","1369","        Support batchSize in FlumeAvroManager.\r","1370","      <\/action>\r","1371","      <action issue=\"LOG4J2-1065\" dev=\"ggregory\" type=\"update\">\r","1372","        Define org.apache.logging.log4j.Marker.equals(Object) and org.apache.logging.log4j.Marker.hashCode().\r","1373","      <\/action>\r","1374","      <action issue=\"LOG4J2-1063\" dev=\"ggregory\" type=\"update\">\r","1375","        Avoid creating temporary array object in org.apache.logging.slf4j.Log4jMarker.iterator().\r","1376","      <\/action>\r","1377","      <action issue=\"LOG4J2-890\" dev=\"ggregory\" type=\"update\" due-to=\"Hassan Kalaldeh, Robert Andersson, Remko Popma\">\r","1378","        log4j-web-2.1 should workaround a bug in JBOSS EAP 6.2.\r","1379","      <\/action>\r","1380","      <action issue=\"LOG4J2-403\" dev=\"ggregory\" type=\"update\" due-to=\"Poorna Subhash P, Jeremy Lautman\">\r","1381","        MongoDB appender, username and password should be optional.\r","1382","      <\/action>\r","1383","      <action issue=\"LOG4J2-1035\" dev=\"ggregory\" type=\"update\">\r","1384","        Log4j2 tries to SystemClassLoader when running on Google AppEngine.\r","1385","      <\/action>\r","1386","      <action issue=\"LOG4J2-1022\" dev=\"rgoers\" type=\"update\">\r","1387","        Allow a list of keys to be specified in the MDC pattern converter.\r","1388","      <\/action>\r","1389","      <action issue=\"LOG4J2-959\" dev=\"ggregory\" type=\"update\">\r","1390","        Fix FindBugs DM_DEFAULT_ENCODING bug in SimpleLogger.logMessage() and simplify code.\r","1391","      <\/action>\r","1392","      <action issue=\"LOG4J2-1036\" dev=\"ggregory\" type=\"update\">\r","1393","        Update Apache Flume from 1.5.2 to 1.6.0.\r","1394","      <\/action>\r","1395","      <action issue=\"LOG4J2-1041\" dev=\"ggregory\" type=\"update\">\r","1396","        Update MongoDB driver from 2.11.2 to 2.13.2.\r","1397","      <\/action>\r","1398","      <action issue=\"LOG4J2-1018\" dev=\"ggregory\" type=\"update\">\r","1399","        Update database tests from H2 1.3.175 to 1.3.176.\r","1400","      <\/action>\r","1401","      <action issue=\"LOG4J2-1070\" dev=\"ggregory\" type=\"update\">\r","1402","        Update Java Mail from 1.5.2 to 1.5.4.\r","1403","      <\/action>\r","1404","      <action issue=\"LOG4J2-1079\" dev=\"ggregory\" type=\"update\">\r","1405","        Update Jackson from 2.5.3 to 2.5.4.\r","1406","      <\/action>\r","1407","      <action issue=\"LOG4J2-1879\" dev=\"ggregory\" type=\"update\">\r","1408","        Update Jackson from 2.5.4 to 2.6.0.\r","1409","      <\/action>\r","1410","      <action issue=\"LOG4J2-1092\" dev=\"ggregory\" type=\"update\">\r","1411","        Update Jackson from 2.6.0 to 2.6.1.\r","1412","      <\/action>\r","1413","      <action issue=\"LOG4J2-1104\" dev=\"ggregory\" type=\"update\">\r","1414","        Update Apache Commons Compress from 1.9 to 1.10.\r","1415","      <\/action>\r","1416","    <\/release>\r","1417","    <release version=\"2.3\" date=\"2015-05-09\" description=\"GA Release 2.3\">\r","1418","      <action issue=\"LOG4J2-1009\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">\r","1419","        Incorrectly defined compressionType parameter to GelfLayout.\r","1420","      <\/action>\r","1421","      <action issue=\"LOG4J2-1008\" dev=\"ggregory\" type=\"fix\" due-to=\"Ralph Goers, Gary Gregory\">\r","1422","        org.apache.logging.log4j.core.config.plugins.util.ResolverUtil.extractPath(URL) incorrectly converts '+' characters to spaces.\r","1423","      <\/action>\r","1424","      <action issue=\"LOG4J2-1007\" dev=\"ggregory\" type=\"fix\" due-to=\"Ralph Goers, Gary Gregory\">\r","1425","        org.apache.logging.log4j.core.util#fileFromUri(URI uri) incorrectly converts '+' characters to spaces.\r","1426","      <\/action>\r","1427","      <action issue=\"LOG4J2-1003\" dev=\"ggregory\" type=\"fix\" due-to=\"Dan Armbrust\">\r","1428","        JUL Logger.throwing is mis-mapped to ERROR when it should be TRACE.\r","1429","      <\/action>\r","1430","      <action issue=\"LOG4J2-965\" dev=\"ggregory\" type=\"fix\" due-to=\"Khotyn Huang\">\r","1431","        System.out no longer works after the Console appender and JANSI are initialized.\r","1432","      <\/action>\r","1433","      <action issue=\"LOG4J2-998\" dev=\"ggregory\" type=\"update\" due-to=\"Mariano Gonzalez\">\r","1434","        Make org.apache.logging.log4j.core.Logger#updateConfiguration protected.\r","1435","      <\/action>\r","1436","      <action issue=\"LOG4J2-995\" dev=\"rgoers\" type=\"update\">\r","1437","        Move UTF-8 constant from Charsets to Constants class. Remove Charsets class.\r","1438","      <\/action>\r","1439","      <action issue=\"LOG4J2-993\" dev=\"rgoers\" type=\"fix\">\r","1440","        Deadlock would occur if appender thread creates a new Logger during reconfiguration.\r","1441","      <\/action>\r","1442","      <action issue=\"LOG4J2-991\" dev=\"rpopma\" type=\"fix\" due-to=\"Ryan Rupp\">\r","1443","        Async root logger config should default includeLocation to false.\r","1444","      <\/action>\r","1445","      <action issue=\"LOG4J2-985\" dev=\"rpopma\" type=\"fix\" due-to=\"Sean Dawson\">\r","1446","        AbstractFilter should not implement equals() and hashCode().\r","1447","      <\/action>\r","1448","      <action issue=\"LOG4J2-984\" dev=\"ggregory\" type=\"add\" due-to=\"Jonas H?pfner\">\r","1449","        PatternLayout %highlight to support noConsoleNoAnsi like %style.\r","1450","      <\/action>\r","1451","      <action issue=\"LOG4J2-926\" dev=\"ggregory\" type=\"add\" due-to=\"David Ohana\">\r","1452","        Truncate from the end of text format modifier.\r","1453","      <\/action>\r","1454","      <action issue=\"LOG4J2-980\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikhail Mazurskiy\">\r","1455","        Numerical overflow in BurstFilter not handled correctly.\r","1456","      <\/action>\r","1457","      <action issue=\"LOG4J2-981\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikhail Mazurskiy\">\r","1458","        Incorrect unlock in ProviderUtil.\r","1459","      <\/action>\r","1460","      <action issue=\"LOG4J2-966\" dev=\"ggregory\" type=\"fix\">\r","1461","        KeyStoreConfiguration.createKeyStoreConfiguration() ignores keyManagerFactoryAlgorithm.\r","1462","      <\/action>\r","1463","      <action issue=\"LOG4J2-976\" dev=\"ggregory\" type=\"fix\" due-to=\"Matt Quinn\">\r","1464","        Using monitorInterval with YAML config file format causes JSONParseException.\r","1465","      <\/action>\r","1466","      <action issue=\"LOG4J2-964\" dev=\"ggregory\" type=\"fix\" due-to=\"Jonne Jyryl?\">\r","1467","        StringFormattedMessage serialization is incorrect.\r","1468","      <\/action>\r","1469","      <action issue=\"LOG4J2-947\" dev=\"ggregory\" type=\"fix\" due-to=\"Stefan Wehner\">\r","1470","        A new StatusLoggerAdmin listener is added to StatusLogger every time the log is reconfigured.\r","1471","      <\/action>\r","1472","      <action issue=\"LOG4J2-968\" dev=\"ggregory\" type=\"fix\" due-to=\"Paul D Johe\">\r","1473","        SyslogLayout contains extra space.\r","1474","      <\/action>\r","1475","      <action issue=\"LOG4J2-967\" dev=\"ggregory\" type=\"fix\" due-to=\"Stefan Wehner\">\r","1476","        log4j2.component.properties not read for all properties.\r","1477","      <\/action>\r","1478","      <action issue=\"LOG4J2-971\" dev=\"ggregory\" type=\"fix\" due-to=\"Paul D Johe\">\r","1479","        Another bad priority in Syslog messages.\r","1480","      <\/action>\r","1481","      <action issue=\"LOG4J2-972\" dev=\"ggregory\" type=\"fix\">\r","1482","        org.apache.logging.log4j.core.net.ssl.TlsSyslogInputStreamReader does not need to create temp Integer objects.\r","1483","      <\/action>\r","1484","      <action issue=\"LOG4J2-974\" dev=\"ggregory\" type=\"fix\" due-to=\"Daniel Gal¨¢n y Martins\">\r","1485","        Typo in EventLogger documentation.\r","1486","      <\/action>\r","1487","      <action issue=\"LOG4J2-988\" dev=\"ggregory\" type=\"update\">\r","1488","        Update LMAX Disruptor from 3.3.0 to 3.3.2.\r","1489","      <\/action>\r","1490","      <action issue=\"LOG4J2-987\" dev=\"ggregory\" type=\"update\">\r","1491","        Migrate tests from Logback 1.1.2 to 1.1.3.\r","1492","      <\/action>\r","1493","      <action issue=\"LOG4J2-988\" dev=\"ggregory\" type=\"update\">\r","1494","        Update tests to use ActiveMQ from 5.10 to 5.11.1.\r","1495","      <\/action>\r","1496","      <action issue=\"LOG4J2-1004\" dev=\"ggregory\" type=\"update\">\r","1497","        Update Jackson from 2.5.1 to 2.5.3.\r","1498","      <\/action>\r","1499","      <action issue=\"LOG4J2-1005\" dev=\"ggregory\" type=\"update\">\r","1500","        Update Slf4j from 1.7.7 to 1.7.12.\r","1501","      <\/action>\r","1502","    <\/release>\r","1503","    <release version=\"2.2\" date=\"2015-02-22\" description=\"GA Release 2.2\">\r","1504","      <action issue=\"LOG4J2-938\" dev=\"rpopma\" type=\"fix\" due-to=\"Mauro Molinari\">\r","1505","        (JMX) To avoid memory leaks when web applications are restarted, JMX notifications are sent from\r","1506","        the caller thread in web applications. For non-web applications notifications are sent from a background thread\r","1507","        as before.\r","1508","      <\/action>\r","1509","      <action issue=\"LOG4J2-957\" dev=\"ggregory\" type=\"fix\" due-to=\"fatih guleryuz\">\r","1510","        Missing toUpperCase(Locale.ENGLISH).\r","1511","      <\/action>\r","1512","      <action issue=\"LOG4J2-956\" dev=\"ggregory\" type=\"fix\" due-to=\"David Kellerman\">\r","1513","        Manual refers to Route \"AppenderRef\" attribute, should be \"ref\".\r","1514","      <\/action>\r","1515","      <action issue=\"LOG4J2-955\" dev=\"rpopma\" type=\"update\">\r","1516","        Documentation: clarify system properties to control status logger, improve troubleshooting FAQ entry.\r","1517","      <\/action>\r","1518","      <action issue=\"LOG4J2-950\" dev=\"ggregory\" type=\"update\" due-to=\"Joel Edwards\">\r","1519","        Incorrect attribute name in PropertiesRewritePolicy example.\r","1520","      <\/action>\r","1521","      <action issue=\"LOG4J2-944\" dev=\"ggregory\" type=\"fix\" due-to=\"Vinayaka Ramachandra\">\r","1522","        Log4j Flume appender is not adding millisecond to the event headers when the event is logged at 000 milliseconds.\r","1523","      <\/action>\r","1524","      <action issue=\"LOG4J2-941\" dev=\"ggregory\" type=\"add\" due-to=\"Konstantinos Liakos\">\r","1525","        Allow JSON layout to create one compact log record per line.\r","1526","      <\/action>\r","1527","      <action issue=\"LOG4J2-933\" dev=\"ggregory\" type=\"add\" due-to=\"ppiman at gmail.com\">\r","1528","        HTML layout should not use attribute minimalization for hr noshade.\r","1529","      <\/action>\r","1530","      <action issue=\"LOG4J2-895\" dev=\"ggregory\" type=\"add\">\r","1531","        Specify the SyslogAppender connect timeout value as part of the configuration.\r","1532","        The SyslogAppender takes a new parameter connectTimeoutMillis.\r","1533","      <\/action>\r","1534","      <action issue=\"LOG4J2-899\" dev=\"ggregory\" type=\"add\">\r","1535","        Specify the SocketAppender connect timeout value as part of the configuration.\r","1536","        The SyslogAppender takes a new parameter connectTimeoutMillis.\r","1537","      <\/action>\r","1538","      <action issue=\"LOG4J2-924\" dev=\"ggregory\" type=\"fix\" due-to=\"Ryan Rupp\">\r","1539","        Log4j 1.2 Bridge doesn't map level ALL correctly in Category.getEffectiveLevel().\r","1540","      <\/action>\r","1541","      <action issue=\"LOG4J2-931\" dev=\"ggregory\" type=\"fix\" due-to=\"Robert Gacki\">\r","1542","        ConsoleAppender is missing @PluginFactory annotation at createAppender method.\r","1543","      <\/action>\r","1544","      <action issue=\"LOG4J2-919\" dev=\"ggregory\" type=\"fix\" due-to=\"David Johle\">\r","1545","        Logging system fails to initialize if XInclude API is not available.\r","1546","      <\/action>\r","1547","      <action issue=\"LOG4J2-914\" dev=\"ggregory\" type=\"fix\" due-to=\"Kaj Bjurman\">\r","1548","        ThrowableProxy.getExtendedStackTraceAsString causes NullPointerException.\r","1549","      <\/action>\r","1550","      <action issue=\"LOG4J2-912\" dev=\"ggregory\" type=\"fix\">\r","1551","        XML configuration does not report full error message for XInclude parser configuration problems.\r","1552","      <\/action>\r","1553","      <action issue=\"LOG4J2-903\" dev=\"ggregory\" type=\"fix\" due-to=\"Mauro Molinari\">\r","1554","        ClassLoaderContextSelector uses ClassLoader.toString() as a key\r","1555","      <\/action>\r","1556","      <action issue=\"LOG4J2-834\" dev=\"ggregory\" type=\"fix\" due-to=\"Nikita Koval, Leonard Broman, Thiago Kronig\">\r","1557","        ThrowableProxy throws NoClassDefFoundError.\r","1558","      <\/action>\r","1559","      <action issue=\"LOG4J2-893\" dev=\"ggregory\" type=\"fix\">\r","1560","        NullPointerException on filter when mapping JUL to Log4j2.\r","1561","      <\/action>\r","1562","      <action issue=\"LOG4J2-892\" dev=\"ggregory\" type=\"fix\">\r","1563","        JUL adapter does not map Log4j'2 FATAL level to a JUL level.\r","1564","      <\/action>\r","1565","      <action issue=\"LOG4J2-881\" dev=\"ggregory\" type=\"fix\" due-to=\"Mariano Gonzalez\">\r","1566","        AbstractLifecycle should not implement equals() and hashCode().\r","1567","      <\/action>\r","1568","      <action issue=\"LOG4J2-897\" dev=\"ggregory\" type=\"fix\">\r","1569","        Javadoc for org.apache.log4j.BasicConfigurator.configure() is incorrect.\r","1570","      <\/action>\r","1571","      <action issue=\"LOG4J2-891\" dev=\"ggregory\" type=\"fix\">\r","1572","        AbstractLifecycle should not implement equals() and hashCode().\r","1573","      <\/action>\r","1574","      <action issue=\"LOG4J2-946\" dev=\"ggregory\" type=\"fix\" due-to=\"artemonster\">\r","1575","        [docs] Using Log4j 2 in Web Applications: Update example (Log4jWebLifeCycle is not visible).\r","1576","      <\/action>\r","1577","      <action issue=\"LOG4J2-901\" dev=\"ggregory\" type=\"update\" due-to=\"Tihomir Me??i?, Siegfried Greisinger\">\r","1578","        Update docs for SyslogAppender: \"No structured id name was supplied\"\r","1579","      <\/action>\r","1580","      <action issue=\"LOG4J2-958\" dev=\"ggregory\" type=\"update\">\r","1581","        Update from Jackson 2.5.0 to 2.5.1.\r","1582","      <\/action>\r","1583","      <action issue=\"LOG4J2-925\" dev=\"ggregory\" type=\"update\">\r","1584","        Update from Jackson 2.4.4 to 2.5.0.\r","1585","      <\/action>\r","1586","      <action issue=\"LOG4J2-910\" dev=\"ggregory\" type=\"update\">\r","1587","        Update Jackson from 2.4.3 to 2.4.4.\r","1588","      <\/action>\r","1589","      <action issue=\"LOG4J2-881\" dev=\"ggregory\" type=\"update\">\r","1590","        Update Jackson from 2.4.2 to 2.4.3.\r","1591","      <\/action>\r","1592","      <action issue=\"LOG4J2-882\" dev=\"ggregory\" type=\"update\">\r","1593","        Update maven-core from 3.1.0 to 3.2.3.\r","1594","      <\/action>\r","1595","      <action issue=\"LOG4J2-883\" dev=\"ggregory\" type=\"update\">\r","1596","        Update tests from org.apache.felix.framework 4.2.1 to 4.4.1.\r","1597","      <\/action>\r","1598","      <action issue=\"LOG4J2-884\" dev=\"ggregory\" type=\"update\">\r","1599","        Update org.eclipse.osgi from 3.6.0 to 3.7.1.\r","1600","      <\/action>\r","1601","      <action issue=\"LOG4J2-900\" dev=\"ggregory\" type=\"update\">\r","1602","        Update Apache Flume from 1.5.0.1 to 1.5.2.\r","1603","      <\/action>\r","1604","    <\/release>\r","1605","    <release version=\"2.1\" date=\"2014-10-19\" description=\"GA Release 2.1\">\r","1606","      <action issue=\"LOG4J2-676\" dev=\"rgoers\" type=\"fix\" due-to=\"Stefan Bodewig\">\r","1607","        Some typo fixes and enhancements for the site.\r","1608","      <\/action>\r","1609","      <action issue=\"LOG4J2-868\" dev=\"mattsicker\" type=\"add\">\r","1610","        Add ShutdownCallbackRegistry interface for customizable shutdown callback handling. This is particularly\r","1611","        useful for application servers that wish to integrate with Log4j 2.\r","1612","      <\/action>\r","1613","      <action issue=\"LOG4J2-866\" dev=\"rpopma\" type=\"fix\" due-to=\"Gerard Weatherby\">\r","1614","        Documentation: fixed missing closing parenthesis in code example.\r","1615","      <\/action>\r","1616","      <action issue=\"LOG4J2-862\" dev=\"mattsicker\" type=\"fix\" due-to=\"Michael Sutherland\">\r","1617","        Fixed classloader issue that prevented Log4j from finding the implementation when used in a custom Ant task.\r","1618","      <\/action>\r","1619","      <action issue=\"LOG4J2-589\" dev=\"rpopma\" type=\"add\">\r","1620","        Supported filtering on custom log levels in configuration.\r","1621","      <\/action>\r","1622","      <action issue=\"LOG4J2-861\" dev=\"rpopma\" type=\"fix\">\r","1623","        Documentation: fix broken links on left navigation Extending Log4j Configuration sub-menu.\r","1624","      <\/action>\r","1625","      <action issue=\"LOG4J2-856\" dev=\"rpopma\" type=\"add\">\r","1626","        Documentation: add sections on the JUL Adapter, IO Streams and NoSQL Appenders to the Maven and Ivy page.\r","1627","      <\/action>\r","1628","      <action issue=\"LOG4J2-797\" dev=\"rpopma\" type=\"fix\" due-to=\"Andreas Rytina\">\r","1629","        Documentation: clarified why log4j-core is a compile time dependency in Maven and Ivy page.\r","1630","      <\/action>\r","1631","      <action issue=\"LOG4J2-855\" dev=\"rpopma\" type=\"fix\">\r","1632","        Documentation: fix broken links on Appenders manual page.\r","1633","      <\/action>\r","1634","      <action issue=\"LOG4J2-807\" dev=\"rpopma\" type=\"fix\">\r","1635","        Prevent NPE when configuration with AsyncLogger\/AsyncRoot is reloaded.\r","1636","      <\/action>\r","1637","      <action issue=\"LOG4J2-848\" dev=\"ggregory\" type=\"add\">\r","1638","        Add a Java lookup to provide nicely formatted runtime version information.\r","1639","      <\/action>\r","1640","      <action issue=\"LOG4J2-809\" dev=\"mattsicker\" type=\"add\">\r","1641","        Move reflection utility class to API's private utility classes.\r","1642","      <\/action>\r","1643","      <action issue=\"LOG4J2-845\" dev=\"mattsicker\" type=\"update\">\r","1644","        Add 2.1.0 to compatible versions in Log4j API ProviderUtil and update Log4jAPIVersion to 2.1.0 in\r","1645","        core META-INF\/log4j-provider.properties.\r","1646","      <\/action>\r","1647","      <action issue=\"LOG4J2-833\" dev=\"rpopma\" type=\"add\">\r","1648","        Documentation: added Runtime Dependencies link to left nav-bar on site.\r","1649","      <\/action>\r","1650","      <action issue=\"LOG4J2-816\" dev=\"rpopma\" type=\"add\">\r","1651","        Documentation: added section on XInclude to user manual Configuration page.\r","1652","      <\/action>\r","1653","      <action issue=\"LOG4J2-678\" dev=\"rpopma\" type=\"fix\" due-to=\"Matt Sicker\">\r","1654","        Documentation: fixed minor issues with Log4j2 web site\/documentation.\r","1655","      <\/action>\r","1656","      <action issue=\"LOG4J2-844\" dev=\"rpopma\" type=\"update\">\r","1657","        Update JMH to 1.1 from 0.7.2.\r","1658","      <\/action>\r","1659","      <action issue=\"LOG4J2-843\" dev=\"rpopma\" type=\"fix\">\r","1660","        Migrate JpaHyperSqlAppenderTest JUnit performance test to log4j-perf.\r","1661","      <\/action>\r","1662","      <action issue=\"LOG4J2-842\" dev=\"rpopma\" type=\"fix\">\r","1663","        Migrate JpaH2AppenderTest JUnit performance test to log4j-perf.\r","1664","      <\/action>\r","1665","      <action issue=\"LOG4J2-841\" dev=\"rpopma\" type=\"fix\">\r","1666","        Migrate JdbcHyperSqlAppenderTest JUnit performance test to log4j-perf.\r","1667","      <\/action>\r","1668","      <action issue=\"LOG4J2-840\" dev=\"rpopma\" type=\"fix\">\r","1669","        Migrate JdbcH2AppenderTest JUnit performance test to log4j-perf.\r","1670","      <\/action>\r","1671","      <action issue=\"LOG4J2-830\" dev=\"rpopma\" type=\"fix\">\r","1672","        Respect external interrupt signal to allow application shutdown after joining AsyncAppender thread.\r","1673","      <\/action>\r","1674","      <action issue=\"LOG4J2-813\" dev=\"ggregory\" type=\"fix\" due-to=\"David Erichsen, Brandon Barry\">\r","1675","        MarkerManager Log4jMarker.hasParents() returns opposite of correct result.\r","1676","      <\/action>\r","1677","      <action issue=\"LOG4J2-785\" dev=\"rpopma\" type=\"fix\">\r","1678","        Documentation: fixed capitalization inconsistency in user manual example config.\r","1679","      <\/action>\r","1680","      <action issue=\"LOG4J2-829\" dev=\"rpopma\" type=\"fix\">\r","1681","        Fixed issue in RollingFile filePattern: backslashes are path separators, not escape characters.\r","1682","      <\/action>\r","1683","      <action issue=\"LOG4J2-547\" dev=\"mattsicker\" type=\"add\">\r","1684","        Add the Log4j IOStreams component.\r","1685","      <\/action>\r","1686","      <action issue=\"LOG4J2-431\" dev=\"rpopma\" type=\"add\" due-to=\"Claude Mamo\">\r","1687","        Added Memory-Mapped File Appender.\r","1688","      <\/action>\r","1689","      <action issue=\"LOG4J2-832\" dev=\"ggregory\" type=\"fix\" due-to=\"Seth Leger\">\r","1690","        ThrowableProxy fails if a class in logged stack trace throws java.lang.Error from initializer\r","1691","      <\/action>\r","1692","      <action issue=\"LOG4J2-831\" dev=\"rpopma\" type=\"update\">\r","1693","        Documentation: updated FAQ \"which jars\" diagrams for JUL bridge and 2.1 version.\r","1694","      <\/action>\r","1695","      <action issue=\"LOG4J2-827\" dev=\"mattsicker\" type=\"add\">\r","1696","        Support use of TypeConverter classes through the standard Plugin system.\r","1697","      <\/action>\r","1698","      <action issue=\"LOG4J2-745\" dev=\"mattsicker\" type=\"fix\" due-to=\"Scott Harrington\">\r","1699","        Avoid ConverterKey plugin clashes by using a more predictable plugin loading infrastructure.\r","1700","        Plugins have been segmented into three parts: class path, user-specified packages, and OSGi bundles.\r","1701","      <\/action>\r","1702","      <action issue=\"LOG4J2-798\" dev=\"mattsicker\" type=\"fix\" due-to=\"Scott Harrington\">\r","1703","        Fixed plugin scanning redundancy causing massive slowdowns in certain environments.\r","1704","      <\/action>\r","1705","      <action issue=\"LOG4J2-753\" dev=\"rpopma\" type=\"fix\">\r","1706","        Reduced CachedClock thread contention.\r","1707","      <\/action>\r","1708","      <action issue=\"LOG4J2-819\" dev=\"mattsicker\" type=\"fix\" due-to=\"Gary Gregory\">\r","1709","        Fixed memory leak in Tomcat 6 caused by clock background threads unintentionally\r","1710","        started by Tomcat after web application stop.\r","1711","      <\/action>\r","1712","      <action issue=\"LOG4J2-825\" dev=\"mattsicker\" type=\"add\">\r","1713","        Add simple validation constraint annotations for the Plugin system.\r","1714","      <\/action>\r","1715","      <action issue=\"LOG4J2-428\" dev=\"ggregory\" type=\"add\" due-to=\"Mark Paluch, Mikael St?ldal\">\r","1716","        Implement a GELF layout.\r","1717","      <\/action>\r","1718","      <action issue=\"LOG4J2-391\" dev=\"rgoers\" type=\"fix\" due-to=\"Kamal Bahadur\">\r","1719","        FlumePersistentManager now handles LockConflictExceptions in Berkeley Db when sending a batch.\r","1720","      <\/action>\r","1721","      <action issue=\"LOG4J2-782\" dev=\"mattsicker\" type=\"fix\">\r","1722","        Remove invalid Oracle Maven repository.\r","1723","      <\/action>\r","1724","      <action issue=\"LOG4J2-780\" dev=\"mattsicker\" type=\"update\">\r","1725","        Update Spring Framework to 3.2.11.RELEASE from 3.2.8.RELEASE.\r","1726","      <\/action>\r","1727","      <action issue=\"LOG4J2-815\" dev=\"mattsicker\" type=\"update\">\r","1728","        Unify the two JMS appenders into a single appender. Configurations written for 2.0 will still work in 2.1+.\r","1729","      <\/action>\r","1730","      <action issue=\"LOG4J2-608\" dev=\"mattsicker\" type=\"add\">\r","1731","        Add java.util.logging implementation based on log4j-api. See log4j-jul documentation for more details.\r","1732","      <\/action>\r","1733","      <action issue=\"LOG4J2-796\" dev=\"rpopma\" type=\"fix\">\r","1734","        Fixed issue where log4j-to-slf4j did not work correctly with SLF4J Simple Logger.\r","1735","      <\/action>\r","1736","      <action issue=\"LOG4J2-811\" dev=\"ggregory\" type=\"fix\" due-to=\"Yogesh Rao\">\r","1737","        SimpleLogger throws ArrayIndexOutOfBoundsException for an empty array.\r","1738","      <\/action>\r","1739","      <action issue=\"LOG4J2-663\" dev=\"mattsicker\" type=\"fix\" due-to=\"Florian Brunner\">\r","1740","        Fix OSGi Import-Package problem with the JMS API.\r","1741","      <\/action>\r","1742","      <action issue=\"LOG4J2-793\" dev=\"mattsicker\" type=\"add\">\r","1743","        Add support for custom SLF4J Markers in log4j-slf4j-impl module.\r","1744","      <\/action>\r","1745","      <action issue=\"LOG4J2-783\" dev=\"rpopma\" type=\"fix\" due-to=\"Minglei Lee\">\r","1746","        PatternLayout should use platform character encoding by default, not UTF-8.\r","1747","      <\/action>\r","1748","      <action issue=\"LOG4J2-771\" dev=\"ggregory\" type=\"add\">\r","1749","        Add lookup for application main arguments.\r","1750","      <\/action>\r","1751","      <action issue=\"LOG4J2-787\" dev=\"ggregory\" type=\"add\">\r","1752","        Add lookup for JVM arguments.\r","1753","      <\/action>\r","1754","      <action issue=\"LOG4J2-790\" dev=\"ggregory\" type=\"update\">\r","1755","        Update Jackson to 2.4.2 from 2.4.1 (for XML and JSON processing).\r","1756","      <\/action>\r","1757","      <action issue=\"LOG4J2-766\" dev=\"ggregory\" type=\"update\" due-to=\"Bruno P. Kinoshita\">\r","1758","        Incomplete documentation for JSONLayout.\r","1759","      <\/action>\r","1760","      <action issue=\"LOG4J2-800\" dev=\"ggregory\" type=\"update\">\r","1761","        All life cycle implementations should be serializable.\r","1762","        This is still work in progress.\r","1763","      <\/action>\r","1764","      <action issue=\"LOG4J2-801\" dev=\"ggregory\" type=\"update\">\r","1765","        org.apache.logging.log4j.core.Logger should be serializable.\r","1766","        This is still work in progress.\r","1767","      <\/action>\r","1768","      <action issue=\"LOG4J2-810\" dev=\"ggregory\" type=\"update\">\r","1769","        Update javax.mail to 1.5.2 from 1.5.0.\r","1770","      <\/action>\r","1771","      <action issue=\"LOG4J2-822\" dev=\"ggregory\" type=\"update\">\r","1772","        Update org.eclipse.persistence.jpa to 2.5.2 from 2.5.1.\r","1773","      <\/action>\r","1774","      <action issue=\"LOG4J2-867\" dev=\"ggregory\" type=\"update\">\r","1775","        FlumeAppender: maxDelay not in seconds, but milliseconds.\r","1776","        Add time scale to some settings, for example maxDelayMillis instead of maxDelay.\r","1777","        The old names are aliased for compatibility.\r","1778","      <\/action>\r","1779","    <\/release>\r","1780","    <release version=\"2.0.2\" date=\"2014-08-16\" description=\"Bug fixes and enhancements\">\r","1781","      <action issue=\"LOG4J2-775\" dev=\"ggregory\" type=\"update\">\r","1782","        Update Apache Flume to 1.5.0.1 from 1.5.0.\r","1783","      <\/action>\r","1784","      <action issue=\"LOG4J2-773\" dev=\"rpopma\" type=\"fix\">\r","1785","        Site: log4j-core component pages were still using the old logo.\r","1786","      <\/action>\r","1787","      <action issue=\"LOG4J2-760\" dev=\"rpopma\" type=\"fix\">\r","1788","        Documentation improvement: link to dependency tree from log4j-core component page,\r","1789","        link to log4j-core component page from FAQ page.\r","1790","      <\/action>\r","1791","      <action issue=\"LOG4J2-679\" dev=\"rpopma\" type=\"fix\">\r","1792","        Resolved race condition that caused log file rotation to fail with error: \"Unable to create directory ...\"\r","1793","      <\/action>\r","1794","      <action issue=\"LOG4J2-726\" dev=\"rpopma\" type=\"fix\">\r","1795","        Prevent application from hanging when PatternLayout configuration has opening '{' but no closing '}'.\r","1796","      <\/action>\r","1797","      <action issue=\"LOG4J2-769\" dev=\"rpopma\" type=\"fix\" due-to=\"Scott Harrington\">\r","1798","        Startup takes a long time if you have empty packages attribute.\r","1799","      <\/action>\r","1800","      <action issue=\"LOG4J2-763\" dev=\"rpopma\" type=\"fix\" due-to=\"Stephen Connolly\">\r","1801","        Improved asynchronous loggers and appenders to ensure the formatted message does not change even if\r","1802","        parameters are modified by the application. (ParameterizedMessage was already safe.)\r","1803","        Improved documentation.\r","1804","      <\/action>\r","1805","      <action issue=\"LOG4J2-729\" dev=\"rpopma\" type=\"fix\">\r","1806","        Emit warning message to console if no configuration file found.\r","1807","      <\/action>\r","1808","      <action issue=\"LOG4J2-765\" dev=\"rpopma\" type=\"fix\">\r","1809","        Improve warning message when missing log4j-core in the classpath.\r","1810","      <\/action>\r","1811","      <action issue=\"LOG4J2-722\" dev=\"rpopma\" type=\"fix\">\r","1812","        Clarified in documentation that Commons Logging jar is required when using log4j-jcl.\r","1813","      <\/action>\r","1814","      <action issue=\"LOG4J2-723\" dev=\"rpopma\" type=\"fix\">\r","1815","        Clarified in documentation that SLF4J API jar is required when using log4j-slf4j-impl.\r","1816","      <\/action>\r","1817","      <action issue=\"LOG4J2-730\" dev=\"rpopma\" type=\"update\">\r","1818","        Allow Log4jContextFactory subclasses to specify a custom ContextSelector.\r","1819","      <\/action>\r","1820","      <action issue=\"LOG4J2-759\" dev=\"rpopma\" type=\"fix\">\r","1821","        Fixed various minor site\/documentation issues, mostly versioning related.\r","1822","      <\/action>\r","1823","      <action issue=\"LOG4J2-756\" dev=\"rpopma\" type=\"fix\" due-to=\"Scott Harrington\">\r","1824","        Prevent JUnit test from creating unnecessary Log4j2Plugins.dat during build.\r","1825","      <\/action>\r","1826","    <\/release>\r","1827","    <release version=\"2.0.1\" date=\"2014-07-29\" description=\"Bug fixes\">\r","1828","      <action issue=\"LOG4J2-744\" dev=\"rpopma\" type=\"fix\" due-to=\"Scott Harrington\">\r","1829","        Avoid unnecessary Clock calls when TimestampMessage is logged.\r","1830","      <\/action>\r","1831","      <action issue=\"LOG4J2-704\" dev=\"rpopma\" type=\"fix\">\r","1832","        Improved error message if configuration file not found.\r","1833","      <\/action>\r","1834","      <action issue=\"LOG4J2-750\" dev=\"ggregory\" type=\"fix\" due-to=\"Mike Calmus\">\r","1835","        Webapp configuration page has incorrect class name.\r","1836","      <\/action>\r","1837","      <action issue=\"LOG4J2-749\" dev=\"rpopma\" type=\"fix\" due-to=\"Scott Harrington\">\r","1838","        Retain the default date pattern after fixing the ISO8601 pattern.\r","1839","      <\/action>\r","1840","      <action issue=\"LOG4J2-670\" dev=\"rpopma\" type=\"fix\">\r","1841","        DatePatternConverter ISO8601_PATTERN now conforms to ISO8601.\r","1842","      <\/action>\r","1843","      <action issue=\"LOG4J2-741\" dev=\"rpopma\" type=\"fix\">\r","1844","        Reinstate the package configuration attribute for discovering custom plugins.\r","1845","      <\/action>\r","1846","      <action issue=\"LOG4J2-742\" dev=\"ggregory\" type=\"fix\" due-to=\"Pascal Chollet\">\r","1847","        XInclude not working with relative path.\r","1848","      <\/action>\r","1849","      <action issue=\"LOG4J2-740\" dev=\"mattsicker\" type=\"fix\" due-to=\"Kosta Krauth\">\r","1850","        Fixed typo in webapp manual regarding sample web.xml file.\r","1851","      <\/action>\r","1852","      <action issue=\"LOG4J2-738\" dev=\"ggregory\" type=\"fix\" due-to=\"Timothy Stack\">\r","1853","        RollingFileManager deadlock if async action thread fails to start.\r","1854","      <\/action>\r","1855","      <action issue=\"LOG4J2-736\" dev=\"mattsicker\" type=\"fix\">\r","1856","        Fixed log4j-bom so that it won't specify a default scope on any third party dependencies.\r","1857","      <\/action>\r","1858","      <action issue=\"LOG4J2-735\" dev=\"mattsicker\" type=\"fix\">\r","1859","        Fixed log4j-bom so that it won't interfere with spring-bom and others.\r","1860","      <\/action>\r","1861","      <action issue=\"LOG4J2-731\" dev=\"mattsicker\" type=\"fix\">\r","1862","        Updated documentation regarding extensions to LoggerContextFactory and Log4j 2 providers.\r","1863","      <\/action>\r","1864","      <action issue=\"LOG4J2-373\" dev=\"mattsicker\" type=\"fix\">\r","1865","        Fixed ClassLoader issues in loading Log4j providers in an OSGi environment.\r","1866","      <\/action>\r","1867","      <action issue=\"LOG4J2-725\" dev=\"mattsicker\" type=\"add\">\r","1868","        Added WebLoggerContextUtils class to log4j-web for helper methods useful for asynchronous servlets.\r","1869","      <\/action>\r","1870","      <action issue=\"LOG4J2-710\" dev=\"rpopma\" type=\"add\">\r","1871","        Added documentation for Custom Levels and Custom Loggers.\r","1872","      <\/action>\r","1873","      <action issue=\"LOG4J2-719\" dev=\"rpopma\" type=\"fix\">\r","1874","        Correctly handle NetworkOnMainThreadException thrown on Android during Log4j2 initialization.\r","1875","      <\/action>\r","1876","      <action issue=\"LOG4J2-716\" dev=\"rpopma\" type=\"fix\">\r","1877","        Automatically disable log4j JMX when detecting we are running on Android.\r","1878","      <\/action>\r","1879","      <action issue=\"LOG4J2-657\" dev=\"rpopma\" type=\"fix\" due-to=\"Stefan Wehner\">\r","1880","        Fixed AbstractDatabaseManager to close connection on writeInternal error.\r","1881","      <\/action>\r","1882","      <action issue=\"LOG4J2-713\" dev=\"ggregory\" type=\"fix\" due-to=\"Nelson Melina\">\r","1883","        Android: java.lang.VerifyError: org\/apache\/logging\/log4j\/core\/util\/Closer\r","1884","      <\/action>\r","1885","      <action issue=\"LOG4J2-703\" dev=\"ggregory\" type=\"fix\" due-to=\"Nelson Melina\">\r","1886","        Android: Could not find class 'javax.naming.InitialContext', referenced from method org.apache.logging.log4j.core.lookup.JndiLookup.lookup.\r","1887","      <\/action>\r","1888","      <action issue=\"LOG4J2-732\" dev=\"ggregory\" type=\"updated\">\r","1889","        Update to LMAX Disruptor 3.3.0 from 3.2.1.\r","1890","      <\/action>\r","1891","      <action issue=\"LOG4J2-733\" dev=\"ggregory\" type=\"updated\">\r","1892","        Update to latest Jackson jars from the 2.4.1.X line.\r","1893","      <\/action>\r","1894","    <\/release>\r","1895","    <release version=\"2.0\" date=\"2014-07-12\" description=\"GA Release\">\r","1896","      <action issue=\"LOG4J2-705\" dev=\"rpopma\" type=\"fix\">\r","1897","        Fixed issue where Async Logger does not log thread context stack data.\r","1898","        API change: added method getImmutableStackOrNull() to ThreadContext.ContextStack interface.\r","1899","      <\/action>\r","1900","      <action issue=\"LOG4J2-631\" dev=\"rpopma\" type=\"fix\">\r","1901","        Update docs to clarify how to use formatter logger and standard logger together.\r","1902","      <\/action>\r","1903","      <action issue=\"LOG4J2-519\" dev=\"rpopma\" type=\"add\">\r","1904","        Added support for generating custom logger wrappers that replace the existing log levels\r","1905","        and extended logger wrappers that add custom log levels to the existing ones.\r","1906","      <\/action>\r","1907","      <action issue=\"LOG4J2-441\" dev=\"rgoers\" type=\"fix\">\r","1908","        LoggerConfigs with no Level now inherit the Level from their parent.\r","1909","      <\/action>\r","1910","      <action issue=\"LOG4J2-696\" dev=\"ggregory\" type=\"add\">\r","1911","        RegexFilter does not match multiline log messages.\r","1912","      <\/action>\r","1913","      <action issue=\"LOG4J2-699\" dev=\"rpopma\" type=\"fix\">\r","1914","        PatternLayout manual page missing documentation on header\/footer.\r","1915","      <\/action>\r","1916","      <action issue=\"LOG4J2-625\" dev=\"rpopma\" type=\"fix\">\r","1917","        Fixed Serialization error with SocketAppender and Async Loggers.\r","1918","        (Fixed in RC2, but wasn't included in release notes.)\r","1919","      <\/action>\r","1920","      <action issue=\"LOG4J2-538\" dev=\"rpopma\" type=\"fix\">\r","1921","        JMX GUI: fixed occasional ArrayIndexOutOfBoundsException after pressing \"reconfigure with XML below\".\r","1922","        (Fixed in RC2, but wasn't included in release notes.)\r","1923","      <\/action>\r","1924","      <action issue=\"LOG4J2-666\" dev=\"rpopma\" type=\"fix\">\r","1925","        AsyncLoggerContextSelector should ensure that different AsyncLoggerContext objects created by web app classloaders have unique names.\r","1926","      <\/action>\r","1927","      <action issue=\"LOG4J2-683\" dev=\"mattsicker\" type=\"fix\" due-to=\"Jurriaan Mous\">\r","1928","        Fix annotation processor warnings on JDK 1.7+.\r","1929","      <\/action>\r","1930","      <action issue=\"LOG4J2-694\" dev=\"mattsicker\" type=\"fix\">\r","1931","        Fix strange compilation error that popped up in a test class.\r","1932","      <\/action>\r","1933","      <action issue=\"LOG4J2-692\" dev=\"rgoers\" type=\"fix\">\r","1934","        Update documentation to specify only Maven 3 is supported.\r","1935","      <\/action>\r","1936","      <action issue=\"LOG4J2-690\" dev=\"rgoers\" type=\"fix\" due-to=\"Philip Helger\">\r","1937","        Log4j Web test dependencies should be in scope \"test\" in the pom.\r","1938","      <\/action>\r","1939","      <action issue=\"LOG4J2-682\" dev=\"ggregory\" type=\"fix\" due-to=\"Scott Harrington\">\r","1940","        Special characters (tab and so on) in PatternLayout do not work.\r","1941","      <\/action>\r","1942","      <action issue=\"LOG4J2-685\" dev=\"ggregory\" type=\"update\">\r","1943","        Make org.apache.logging.log4j.core.layout.AbstractLayout immutable.\r","1944","      <\/action>\r","1945","      <action issue=\"LOG4J2-686\" dev=\"ggregory\" type=\"fix\">\r","1946","        Core's OptionConverter support for \\b is broken (affects PatternLayout).\r","1947","      <\/action>\r","1948","      <action issue=\"LOG4J2-687\" dev=\"ggregory\" type=\"fix\">\r","1949","        Rename org.apache.logging.log4j.core.util.Closer.closeSilent() to closeSilently().\r","1950","      <\/action>\r","1951","      <action issue=\"LOG4J2-688\" dev=\"ggregory\" type=\"fix\">\r","1952","        Make org.apache.logging.log4j.core.layout.PatternLayout immutable.\r","1953","      <\/action>\r","1954","      <action issue=\"LOG4J2-689\" dev=\"ggregory\" type=\"update\">\r","1955","        Update Jackson to 2.4.1.\r","1956","      <\/action>\r","1957","      <action issue=\"LOG4J2-707\" dev=\"ggregory\" type=\"fix\">\r","1958","        Some exceptions are not logged when configuration problems are detected.\r","1959","      <\/action>\r","1960","      <action issue=\"LOG4J2-709\" dev=\"ggregory\" type=\"update\">\r","1961","        Update Apache Commons Logging to 1.2 from 1.1.3.\r","1962","      <\/action>\r","1963","    <\/release>\r","1964","    <release version=\"2.0-rc2\" date=\"2014-06-21\" description=\"Bug fixes and enhancements\">\r","1965","      <action issue=\"LOG4J2-675\" dev=\"rpopma\" type=\"add\">\r","1966","        RollingFile and RollingRandomAccessFile now write the layout footer before rollover.\r","1967","      <\/action>\r","1968","      <action issue=\"LOG4J2-581\" dev=\"rpopma\" type=\"fix\" due-to=\"Alexander Khokhlov\">\r","1969","        RollingRandomAccessFile now writes the layout header after rollover.\r","1970","      <\/action>\r","1971","      <action issue=\"LOG4J2-622\" dev=\"rpopma\" type=\"fix\" due-to=\"Farooq Khan\">\r","1972","        RollingFileManager now correctly honours the bufferedIO configuration after rollover.\r","1973","      <\/action>\r","1974","      <action issue=\"LOG4J2-674\" dev=\"rpopma\" type=\"add\">\r","1975","        Made RollingFileAppender buffer size configurable.\r","1976","      <\/action>\r","1977","      <action issue=\"LOG4J2-141\" dev=\"rpopma\" type=\"fix\" due-to=\"Joern Huxhorn\">\r","1978","        Improved documentation regarding log4j status logger.\r","1979","      <\/action>\r","1980","      <action issue=\"LOG4J2-539\" dev=\"rpopma\" type=\"fix\" due-to=\"Colin Froggatt\">\r","1981","        Fixed issue with \"Reconfigure using XML below\" function in JMX Client GUI.\r","1982","        ConfigurationSource is now a top-level class and can be obtained with Configuration.getConfigurationSource().\r","1983","        LoggerContext.getConfiguration().getConfigurationSource()\r","1984","        provides a reliable public method for obtaining a logger context's configuration location and content.\r","1985","      <\/action>\r","1986","      <action issue=\"LOG4J2-619\" dev=\"rgoers\" type=\"fix\" due-to=\"Scott Harrington\">\r","1987","        Invalid XML configuration files do not prevent the config file from being checked again.\r","1988","      <\/action>\r","1989","      <action issue=\"LOG4J2-637\" dev=\"rpopma\" type=\"fix\" due-to=\"Mansoor Sajjad, Jon Wilmoth\">\r","1990","        JMX: Updating a Logger's level via jConsole now correctly takes effect.\r","1991","      <\/action>\r","1992","      <action issue=\"LOG4J2-668\" dev=\"rpopma\" type=\"fix\">\r","1993","        Correctly process log events when combining AsyncLoggers with AsyncAppender.\r","1994","      <\/action>\r","1995","      <action issue=\"LOG4J2-669\" dev=\"rpopma\" type=\"fix\">\r","1996","        Prevent NPE when combining AsyncLoggers with AsyncLoggerConfigs.\r","1997","      <\/action>\r","1998","      <action issue=\"LOG4J2-42\" dev=\"rgoers\" type=\"add\">\r","1999","        Create an appender to route log events to the ServletContext log.\r","2000","      <\/action>\r","2001","      <action issue=\"LOG4J2-419\" dev=\"rgoers\" type=\"update\" due-to=\"Woonsan Ko\">\r","2002","        Support default value for missing key in look ups with fallbacking to looking in the properties map.\r","2003","      <\/action>\r","2004","      <action issue=\"LOG4J2-563\" dev=\"rgoers\" type=\"fix\" due-to=\"Michael Friedmann\">\r","2005","        FlumeAvroManager now always uses a client type of default_failover.\r","2006","      <\/action>\r","2007","      <action issue=\"LOG4J2-554\" dev=\"rgoers\" type=\"update\">\r","2008","        Allow configuration files to be located as Servlet Context resources.\r","2009","      <\/action>\r","2010","      <action issue=\"LOG4J2-535\" dev=\"rgoers\" type=\"fix\">\r","2011","        Reset rollover time when size rollover is triggered.\r","2012","      <\/action>\r","2013","      <action issue=\"LOG4J2-664\" dev=\"mattsicker\" type=\"fix\">\r","2014","        Moved plugin cache file to META-INF for OSGi compatibility.\r","2015","      <\/action>\r","2016","      <action issue=\"LOG4J2-640\" dev=\"mattsicker\" type=\"fix\">\r","2017","        Fix NPE that can be caused by a null ThreadContextClassLoader.\r","2018","      <\/action>\r","2019","      <action issue=\"LOG4J2-655\" dev=\"mattsicker\" type=\"add\">\r","2020","        Add Vagrantfile for testing in GNU+Linux.\r","2021","      <\/action>\r","2022","      <action issue=\"LOG4J2-651\" dev=\"ggregory\" type=\"fix\">\r","2023","        Log4j 2 throws ArrayIndexOutOfBoundsException.\r","2024","      <\/action>\r","2025","      <action issue=\"LOG4J2-654\" dev=\"rpopma\" type=\"add\">\r","2026","        Add log4j-perf module to provide a home for all log4j performance tests.\r","2027","        Add support for JMH microbenchmark performance tests.\r","2028","      <\/action>\r","2029","      <action issue=\"LOG4J2-652\" dev=\"mattsicker\" type=\"add\">\r","2030","        Add support for default plugin values and attributes.\r","2031","      <\/action>\r","2032","      <action issue=\"LOG4J2-598\" dev=\"mattsicker\" type=\"add\">\r","2033","        Add support for types other than String for plugin factory values\/attributes.\r","2034","      <\/action>\r","2035","      <action issue=\"LOG4J2-250\" dev=\"rpopma\" type=\"update\">\r","2036","        Refactor Log4jLogEvent to lazily create ThrowableProxy.\r","2037","      <\/action>\r","2038","      <action issue=\"LOG4J2-647\" dev=\"ggregory\" type=\"update\">\r","2039","        Upgrade to Flume 1.5.0.\r","2040","      <\/action>\r","2041","      <action issue=\"LOG4J2-644\" dev=\"ggregory\" type=\"add\">\r","2042","        Implement a SecureSocketAppender and secure server (SSL\/TLS).\r","2043","      <\/action>\r","2044","      <action issue=\"LOG4J2-646\" dev=\"ggregory\" type=\"update\">\r","2045","        Merge the TLS Syslog appender into the Syslog appender.\r","2046","      <\/action>\r","2047","      <action issue=\"LOG4J2-620\" dev=\"rgoers\" type=\"fix\">\r","2048","        Perform reconfiguration in a separate thread to prevent deadlocks.\r","2049","      <\/action>\r","2050","      <action issue=\"LOG4J2-641\" dev=\"mattsicker\" type=\"update\">\r","2051","        Override commons-logging dependency version in tests.\r","2052","      <\/action>\r","2053","      <action issue=\"LOG4J2-639\" dev=\"rpopma\" type=\"fix\" due-to=\"Mck SembWever\">\r","2054","        Prevent NPE in AsyncLogger and AsyncLoggerConfig if logger is used after log4j has been shut down.\r","2055","      <\/action>\r","2056","      <action issue=\"LOG4J2-469\" dev=\"rgoers\" type=\"fix\">\r","2057","        FailoverAppender was not resetting its status after the primary appender recovered.\r","2058","      <\/action>\r","2059","      <action issue=\"LOG4J2-623\" dev=\"rgoers\" type=\"fix\">\r","2060","        Generate MDC properties as a JSON map in JSONLayout.\r","2061","      <\/action>\r","2062","      <action issue=\"LOG4J2-566\" dev=\"rpopma\" type=\"update\" due-to=\"Luigi Alice\">\r","2063","        Made RollingRandomAccessFileAppender buffer size configurable.\r","2064","      <\/action>\r","2065","      <action issue=\"LOG4J2-520\" dev=\"rpopma\" type=\"fix\" due-to=\"JavaTech, Andre Bogus\">\r","2066","        Resolved issue where AsyncAppender dropped events if queue still contained\r","2067","        events when application is stopped.\r","2068","      <\/action>\r","2069","      <action issue=\"LOG4J2-392\" dev=\"rpopma\" type=\"fix\" due-to=\"Andre Bogus\">\r","2070","        Resolved a problem with the previous solution for LOG4J2-392 that resulted in dropped events\r","2071","        when using AsyncLoggerConfig with slow appenders when application is stopped.\r","2072","      <\/action>\r","2073","      <action issue=\"LOG4J2-613\" dev=\"mattsicker\" type=\"fix\">\r","2074","        The OSGi version of log4j-web imports Servlet 2.5 at minimum instead of 3.0.\r","2075","      <\/action>\r","2076","      <action issue=\"LOG4J2-602\" dev=\"rgoers\" type=\"fix\">\r","2077","        Unit tests are now less verbose during the build process.\r","2078","      <\/action>\r","2079","      <action issue=\"LOG4J2-570\" dev=\"mattsicker\" type=\"fix\">\r","2080","        Fix shutdown thread memory leak in servlet containers.\r","2081","      <\/action>\r","2082","      <action issue=\"LOG4J2-628\" dev=\"rpopma\" type=\"update\">\r","2083","        Use Clock to generate all log event timestamps, not just for Async Loggers.\r","2084","      <\/action>\r","2085","      <action issue=\"LOG4J2-629\" dev=\"rpopma\" type=\"add\">\r","2086","          Document the system properties used in Log4J 2.\r","2087","      <\/action>\r","2088","      <action issue=\"LOG4J2-542\" dev=\"rgoers\" type=\"fix\">\r","2089","        Make Throwable transient in ThrowableProxy.\r","2090","      <\/action>\r","2091","      <action issue=\"LOG4J2-617\" dev=\"mattsicker\" type=\"update\">\r","2092","        Update SLF4J to 1.7.7.\r","2093","      <\/action>\r","2094","      <action issue=\"LOG4J2-616\" dev=\"mattsicker\" type=\"update\">\r","2095","        Update Jackson to 2.3.3.\r","2096","      <\/action>\r","2097","      <action issue=\"LOG4J2-440\" dev=\"mattsicker\" type=\"fix\">\r","2098","        During shutdown, a NullPointerException could be thrown due to the NullConfiguration class no longer being\r","2099","        available to the ClassLoader.\r","2100","      <\/action>\r","2101","      <action issue=\"LOG4J2-346\" dev=\"mattsicker\" type=\"fix\">\r","2102","        Cyclic dependency with log4j-slf4j-impl in OSGi.\r","2103","      <\/action>\r","2104","      <action issue=\"LOG4J2-345\" dev=\"mattsicker\" type=\"fix\">\r","2105","        The log4j-1.2-api module didn't export any packages to OSGi.\r","2106","      <\/action>\r","2107","      <action issue=\"LOG4J2-605\" dev=\"mattsicker\" type=\"fix\">\r","2108","        Password data from the NoSQL plugins no longer shows up in cleartext in debug logging.\r","2109","      <\/action>\r","2110","      <action issue=\"LOG4J2-448\" dev=\"rgoers\" type=\"fix\" due-to=\"X86core\">\r","2111","        A StringIndexOutOfBounds exception could occur during property substitution.\r","2112","      <\/action>\r","2113","      <action issue=\"LOG4J2-597\" dev=\"rgoers\" type=\"fix\">\r","2114","        StatusLogger was not skipping multiple instances of the FQCN class, causing messages from classes in\r","2115","        the Verbose list to be printed.\r","2116","      <\/action>\r","2117","      <action issue=\"LOG4J2-585\" dev=\"rgoers\" type=\"update\" due-to=\"Bruce Brouwer\">\r","2118","        Add support for multiple parents to Markers.\r","2119","      <\/action>\r","2120","      <action issue=\"LOG4J2-595\" dev=\"mattsicker\" type=\"add\">\r","2121","        Introduce Java annotation processor as the new plugin pre-caching mechanism. This is available in log4j-core.\r","2122","        All custom plugins created before this should be re-built against the current log4j-core.\r","2123","      <\/action>\r","2124","      <action issue=\"LOG4J2-564\" dev=\"mattsicker\" type=\"fix\">\r","2125","          Renamed SLF4J logger class to Log4jLogger.\r","2126","      <\/action>\r","2127","      <action issue=\"LOG4J2-579\" dev=\"ggregory\" type=\"fix\">\r","2128","          Rework Level comparison APIs.\r","2129","      <\/action>\r","2130","      <action issue=\"LOG4J2-576\" dev=\"ggregory\" type=\"add\">\r","2131","          Add org.apache.logging.log4j.Logger.getLevel().\r","2132","      <\/action>\r","2133","      <action issue=\"LOG4J2-574\" dev=\"rpopma\" type=\"update\">\r","2134","          Make Blocking the default WaitStrategy for Async Loggers.\r","2135","      <\/action>\r","2136","      <action issue=\"LOG4J2-555\" dev=\"rpopma\" type=\"update\" due-to=\"Bruce Brouwer\">\r","2137","          Introduce ExtendedLogger interface to facilitate implementing and extending Loggers.\r","2138","      <\/action>\r","2139","      <action issue=\"LOG4J2-560\" dev=\"rgoers\" type=\"fix\">\r","2140","          SyslogAppenderTest and RFC5424LayoutTest were failing in Java 8.\r","2141","      <\/action>\r","2142","      <action issue=\"LOG4J2-561\" dev=\"ggregory\" type=\"update\" due-to=\"vibin\">\r","2143","        Allow spaces around commas in Configuration's package attribute.\r","2144","      <\/action>\r","2145","      <action issue=\"LOG4J2-547\" dev=\"rgoers\" type=\"update\" due-to=\"Bruce Brouwer\">\r","2146","        Have Logger API expose a PrintWriter instead of custom LoggerStream.\r","2147","      <\/action>\r","2148","      <action issue=\"LOG4J2-439\" dev=\"rgoers\" type=\"add\" due-to=\"Bruce Brouwer\">\r","2149","        Add EncodingPatternConverter to escape newlines and HTML special characters.\r","2150","      <\/action>\r","2151","      <action issue=\"LOG4J2-496\" dev=\"rgoers\" type=\"update\">\r","2152","        Allow header and footer to be specified as lookup patterns in PatternLayout.\r","2153","      <\/action>\r","2154","      <action issue=\"LOG4J2-499\" dev=\"rgoers\"  type=\"fix\">\r","2155","        Add equals and hashcode to Log4jLogEvent.\r","2156","      <\/action>\r","2157","      <action issue=\"LOG4J2-410\" dev=\"rgoers\" type=\"update\" due-to=\"Ivlin Zeng\">\r","2158","        SLf4JLogger is now Serializable.\r","2159","      <\/action>\r","2160","      <action issue=\"LOG4J2-427\" dev=\"rgoers\" type=\"add\" due-to=\"Alexander Reelsen\">\r","2161","        Add support for configuration via YAML.\r","2162","      <\/action>\r","2163","      <action issue=\"LOG4J2-378\" dev=\"rgoers\" type=\"fix\">\r","2164","        Add DateLookup and ThreadContextLookup to default lookups.\r","2165","      <\/action>\r","2166","      <action issue=\"LOG4J2-468\" dev=\"rgoers\" type=\"update\">\r","2167","        Add support to add a LoggerConfig. Document two ways to modify the configuration.\r","2168","      <\/action>\r","2169","      <action issue=\"LOG4J2-582\" dev=\"ggregory\" type=\"update\">\r","2170","        Rename org.apache.logging.log4j.core.net.SocketServer to TCPSocketServer and refactor with UDP.\r","2171","      <\/action>\r","2172","      <action issue=\"LOG4J2-592\" dev=\"ggregory\" type=\"update\">\r","2173","        Update Jackson to 2.3.2 from 2.2.2.\r","2174","      <\/action>\r","2175","    <\/release>\r","2176","    <release version=\"2.0-rc1\" date=\"2014-02-16\" description=\"Bug fixes and enhancements\">\r","2177","      <action dev=\"nickwilliams\" type=\"delete\">\r","2178","        Removed the DataSourceConnectionSource and the &lt;DriverManager&gt; plugin for the JDBC Appender. It is not\r","2179","        safe to use. Please use the DataSource or factory connection sources backed by a connection pool.\r","2180","      <\/action>\r","2181","      <action dev=\"nickwilliams\" type=\"update\">\r","2182","        Renamed the org.apache.logging.log4j.core.appender.db.nosql.mongo package to\r","2183","        org.apache.logging.log4j.core.appender.db.nosql.mongodb.\r","2184","      <\/action>\r","2185","      <action dev=\"grobmeier\" type=\"update\">\r","2186","        Renamed the org.apache.logging.log4j.core.appender.db.nosql.couch package to\r","2187","        org.apache.logging.log4j.core.appender.db.nosql.couchdb.\r","2188","      <\/action>\r","2189","      <action issue=\"LOG4J2-500\" dev=\"rpopma\" type=\"fix\">\r","2190","        (JMX - ObjectNames changed!) Unloading one web application unloads JMX MBeans for all web applications.\r","2191","      <\/action>\r","2192","      <action issue=\"LOG4J2-507\" dev=\"ggregory\" type=\"update\">\r","2193","        Space Level numbers by 100 instead of 1.\r","2194","      <\/action>\r","2195","      <action issue=\"LOG4J2-531\" dev=\"rpopma\" type=\"fix\" due-to=\"Geoff Ballinger\">\r","2196","        Fixed bugs where rolled log files were overwritten by RollingFile appender with\r","2197","        composite time and size based policies.\r","2198","      <\/action>\r","2199","      <action issue=\"LOG4J2-475\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Matt Sicker\">\r","2200","        Changed the MongoDBConnection to add a MongoDB encoding hook instead of a decoding hook.\r","2201","      <\/action>\r","2202","      <action issue=\"LOG4J2-489\" dev=\"nickwilliams\" type=\"fix\">\r","2203","        Fixed the JPAAppender's overuse of transactions by connecting (borrowing from pool) on new write internal or on\r","2204","        flush.\r","2205","      <\/action>\r","2206","      <action issue=\"LOG4J2-457\" dev=\"nickwilliams\" type=\"fix\">\r","2207","        Fixed failure of JDBC and JPA appender to properly release database connections by connecting (borrowing from\r","2208","        pool) on new write internal or on flush.\r","2209","      <\/action>\r","2210","      <action issue=\"LOG4J2-442\" dev=\"nickwilliams\" type=\"fix\">\r","2211","        Fixed problem with JDBC and JPA appender connectivity in WebSphere by connecting (borrowing from pool) on new\r","2212","        write internal or on flush.\r","2213","      <\/action>\r","2214","      <action issue=\"LOG4J2-438\" dev=\"nickwilliams\" type=\"fix\">\r","2215","        Ensured the JDBCAppender commits transactions after a single write or a flush of multiple writes.\r","2216","      <\/action>\r","2217","      <action issue=\"LOG4J2-407\" dev=\"nickwilliams\" type=\"fix\">\r","2218","        Fixed inability to recover from lost database connection in database appenders by connecting (borrowing from\r","2219","        pool) on new write internal or on flush.\r","2220","      <\/action>\r","2221","      <action issue=\"LOG4J2-530\" dev=\"rpopma\" type=\"add\">\r","2222","        (JMX) JMX Client GUI should dynamically update when LoggerContext MBeans are registered\/unregistered in MBean\r","2223","        server.\r","2224","      <\/action>\r","2225","      <action issue=\"LOG4J2-511\" dev=\"rpopma\" type=\"fix\" due-to=\"James Pretorius\">\r","2226","        Stop AsyncLoggerConfig Disruptor thread(s), then AsyncAppender thread(s) first\r","2227","        before stopping other appenders.\r","2228","      <\/action>\r","2229","      <action issue=\"LOG4J2-392\" dev=\"rpopma\" type=\"fix\" due-to=\"ilynaf, Andre Bogus\">\r","2230","        Stop AsyncLoggerConfig Disruptor thread(s), then AsyncAppender thread(s) first\r","2231","        before stopping other appenders.\r","2232","      <\/action>\r","2233","      <action issue=\"LOG4J2-345\" dev=\"rpopma\" type=\"fix\" due-to=\"Roland Weiglhofer, Matt Sicker\">\r","2234","        (OSGi) logging.log4j-1.2-api doesn't export the log4j API 1.2. Dependent bundles can not be resolved.\r","2235","      <\/action>\r","2236","      <action issue=\"LOG4J2-523\" dev=\"ggregory\" type=\"fix\">\r","2237","        LocalizedMessage serialization is broken.\r","2238","      <\/action>\r","2239","      <action issue=\"LOG4J2-385\" dev=\"rpopma\" type=\"fix\" due-to=\"Ace Funk, Porfirio Partida\">\r","2240","        Fixed issues with time-based file rollover (monthly, weekly, hourly and every minute).\r","2241","      <\/action>\r","2242","      <action issue=\"LOG4J2-452\" dev=\"nickwilliams\" type=\"fix\">\r","2243","        Added a ServletContext attribute that, when set to \"true\", disables Log4j's auto-initialization in\r","2244","        Servlet 3.0+ web applications.\r","2245","      <\/action>\r","2246","      <action issue=\"LOG4J2-512\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Chandra Sekhar Kakarla, Matt Sicker\">\r","2247","        Exposed Log4j web support interface and methods and the LoggerContext through ServletContext attributes\r","2248","        so that threads not affected by filters (such as asynchronous threads) can utilize the LoggerContext. Also\r","2249","        updated the Log4j filter so that it supports async.\r","2250","      <\/action>\r","2251","      <action issue=\"LOG4J2-409\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Frank Steinmann, Thomas Neidhart\">\r","2252","        Created a utility to properly escape backslashes before creating URIs, and changed URI creation to use the\r","2253","        utility instead of instantiating URI directly.\r","2254","      <\/action>\r","2255","      <action issue=\"LOG4J2-344\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Keir Lawson, Tomasz Wladzinski\">\r","2256","        Changed the Servlet 3.0 auto-initializer to add the filter by class to get around a WebLogic bug.\r","2257","      <\/action>\r","2258","      <action issue=\"LOG4J2-359\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Abhinav Shah\">\r","2259","        Changed the Servlet 3.0 auto-initializer so that it does nothing in a Servlet 2.5 or older application. This\r","2260","        ensures behavioral consistency across containers. This includes additional fixes to abort initialization if a\r","2261","        duplicate filter already exists and to check the actual Servlet EFFECTIVE version.\r","2262","      <\/action>\r","2263","      <action issue=\"LOG4J2-517\" dev=\"rpopma\" type=\"fix\">\r","2264","        Switch in log4j-1.2-api Category.getEffectiveLevel has no cases for FATAL, OFF.\r","2265","      <\/action>\r","2266","      <action issue=\"LOG4J2-41\" dev=\"rgoers\" type=\"update\" due-to=\"Nick Williams\">\r","2267","        Add support for custom logging levels.\r","2268","      <\/action>\r","2269","      <action issue=\"LOG4J2-406\" dev=\"rpopma\" type=\"fix\" due-to=\"Kerrigan Joseph\">\r","2270","        (JMX) Unregister all log4j JMX MBeans when the LoggerContext is stopped\r","2271","        to allow web application classes to be GC-ed on undeploy.\r","2272","      <\/action>\r","2273","      <action issue=\"LOG4J2-405\" dev=\"rgoers\" type=\"fix\">\r","2274","        Configuration was being processed twice at startup.\r","2275","      <\/action>\r","2276","      <action issue=\"LOG4J2-479\" dev=\"rpopma\" type=\"add\" due-to=\"MK\">\r","2277","        ThreadContext now uses plain ThreadLocal by default, unless system property\r","2278","        isThreadContextMapInheritable has value \"true\".\r","2279","      <\/action>\r","2280","      <action issue=\"LOG4J2-398\" dev=\"rgoers\" type=\"fix\">\r","2281","        Configure properties and setup Interpolator before processing rest of configuration.\r","2282","      <\/action>\r","2283","      <action issue=\"LOG4J2-481\" dev=\"rgoers\" type=\"add\" due-to=\"Matt Sicker\">\r","2284","        Add Stream interface to Loggers.\r","2285","      <\/action>\r","2286","      <action issue=\"LOG4J2-490\" dev=\"rgoers\" type=\"update\" due-to=\"Matt Sicker\">\r","2287","        Update EasyMock to version 3.2.\r","2288","      <\/action>\r","2289","      <action issue=\"LOG4J2-470\" dev=\"rgoers\" type=\"fix\">\r","2290","        hostName property was not being set until after the first configuration element.\r","2291","      <\/action>\r","2292","      <action issue=\"LOG4J2-464\" dev=\"rgoers\" type=\"fix\">\r","2293","        Support arrays as sub-elements of a JSON configuration.\r","2294","      <\/action>\r","2295","      <action issue=\"LOG4J2-492\" dev=\"rpopma\" type=\"fix\" due-to=\"Shaddy Baddah, Herlani Junior\">\r","2296","        (JMX) Fixed MalformedObjectNameException if context name contains '=' or newline characters.\r","2297","      <\/action>\r","2298","      <action issue=\"LOG4J2-377\" dev=\"rpopma\" type=\"fix\" due-to=\"Roland Weiglhofer, Matt Sicker\">\r","2299","        (OSGi) Fix NPE during shutdown.\r","2300","      <\/action>\r","2301","      <action issue=\"LOG4J2-463\" dev=\"rpopma\" type=\"fix\" due-to=\"Michael Diamond, Matt Sicker\">\r","2302","        Fixed documentation for MyApp example application in the Automatic Configuration section\r","2303","      <\/action>\r","2304","      <action issue=\"LOG4J2-408\" dev=\"rpopma\" type=\"fix\" due-to=\"Dongqing Hu, Matt Sicker\">\r","2305","        Fixed error in documentation code example in manual\/eventlogging.html\r","2306","      <\/action>\r","2307","      <action issue=\"LOG4J2-451\" dev=\"rpopma\" type=\"fix\" due-to=\"Vinay Pothnis, Matt Sicker\">\r","2308","        Fixed typo in documentation: system property should be log4j2.loggerContextFactory\r","2309","      <\/action>\r","2310","      <action issue=\"LOG4J2-443\" dev=\"rpopma\" type=\"fix\" due-to=\"Colin Froggatt, Tudor Har\">\r","2311","        (JMX) Fixed issue where log4j2 LoggerContext did not show up in JMX GUI or JConsole.\r","2312","      <\/action>\r","2313","      <action issue=\"LOG4J2-485\" dev=\"rpopma\" type=\"fix\">\r","2314","        Fixed issue where toString methods that perform logging could deadlock AsyncAppender.\r","2315","      <\/action>\r","2316","      <action issue=\"LOG4J2-445\" dev=\"rpopma\" type=\"fix\" due-to=\"Anthony Baldocchi\">\r","2317","        ResolverUtil cannot find packages in file URLs which include the '+' character.\r","2318","      <\/action>\r","2319","      <action issue=\"LOG4J2-430\" dev=\"rgoers\" type=\"fix\" due-to=\"David Gstir\">\r","2320","        Use the formatted Message in RFC5424Layout for non-StructuredDataMessages.\r","2321","      <\/action>\r","2322","      <action issue=\"LOG4J2-459\" dev=\"rgoers\" type=\"fix\">\r","2323","        Set external context when constructing the LoggerContext.\r","2324","      <\/action>\r","2325","      <action issue=\"LOG4J2-466\" dev=\"rpopma\" type=\"fix\" due-to=\"Jan Tepke\">\r","2326","        Cannot load log4j2 config file if path contains plus '+' characters.\r","2327","      <\/action>\r","2328","      <action issue=\"LOG4J2-462\" dev=\"rpopma\" type=\"fix\" due-to=\"Daisuke Baba\">\r","2329","        Fix LogEvent to never return null Level, fixes LevelPatternConverter.format may throw NPE.\r","2330","      <\/action>\r","2331","      <action issue=\"LOG4J2-465\" dev=\"rpopma\" type=\"fix\" due-to=\"Daisuke Baba\">\r","2332","        Fix LogEvent to never return null Level, fixes ThresholdFilter throws NPE.\r","2333","      <\/action>\r","2334","      <action issue=\"LOG4J2-471\" dev=\"rpopma\" type=\"fix\" due-to=\"Anthony Baldocchi\">\r","2335","        Fixed issue where toString methods that perform logging could deadlock AsyncLogger.\r","2336","      <\/action>\r","2337","      <action issue=\"LOG4J2-482\" dev=\"rpopma\" type=\"add\" due-to=\"Hongdi Ren\">\r","2338","        Documentation fix: The attribute of Route to refer to an appender is \"ref\" not \"AppenderRef\".\r","2339","      <\/action>\r","2340","      <action issue=\"LOG4J2-467\" dev=\"rpopma\" type=\"add\" due-to=\"Anthony Baldocchi\">\r","2341","        Added option to toggle Thread name caching in AsyncLogger.\r","2342","      <\/action>\r","2343","      <action issue=\"LOG4J2-478\" dev=\"ggregory\" type=\"fix\" due-to=\"Michael Friedmann.\">\r","2344","        The message and ndc fields are not JavaScript escaped in JSONLayout.\r","2345","      <\/action>\r","2346","      <action issue=\"LOG4J2-455\" dev=\"rpopma\" type=\"fix\" due-to=\"Robin Zhang Tao\">\r","2347","        RingBufferLogEvent should return Message timestamp for TimestampMessage messages.\r","2348","      <\/action>\r","2349","      <action issue=\"LOG4J2-477\" dev=\"rpopma\" type=\"fix\" due-to=\"Tal Liron\">\r","2350","        NPE in ClassLoaderContextSelector.\r","2351","      <\/action>\r","2352","      <action issue=\"LOG4J2-454\" dev=\"rpopma\" type=\"fix\" due-to=\"Robin Zhang Tao\">\r","2353","        TimeBasedTriggeringPolicy should use event time millis.\r","2354","      <\/action>\r","2355","      <action issue=\"LOG4J2-472\" dev=\"rpopma\" type=\"fix\" due-to=\"Tal Liron\">\r","2356","        BaseConfiguration class does not properly implement Configuration interface.\r","2357","      <\/action>\r","2358","      <action issue=\"LOG4J2-447\" dev=\"ggregory\" type=\"fix\" due-to=\"Jeff Hudren, Mark Paluch, Scott Deboy\">\r","2359","        XMLLayout does not include marker name.\r","2360","      <\/action>\r","2361","      <action issue=\"LOG4J2-453\" dev=\"rgoers\" type=\"update\">\r","2362","        Update Flume Appender to use Flume 1.4.0.\r","2363","      <\/action>\r","2364","      <action issue=\"LOG4J2-423\" dev=\"rpopma\" type=\"add\">\r","2365","        (JMX) Added MBeans for instrumenting AsyncAppenders and AsyncLogger RingBuffers,\r","2366","        exposing queue size, remaining capacity and other attributes.\r","2367","      <\/action>\r","2368","      <action issue=\"LOG4J2-323\" dev=\"rpopma\" type=\"fix\">\r","2369","        Resolved memory leak by releasing reference to ThreadLocal when\r","2370","        AsyncLogger is stopped.\r","2371","      <\/action>\r","2372","      <action issue=\"LOG4J2-425\" dev=\"rpopma\" type=\"fix\">\r","2373","        Resolved memory leak by populating AsyncLoggerConfigHelper ring buffer\r","2374","        via EventTranslatorTwoArg, eliminating the need for a ThreadLocal.\r","2375","      <\/action>\r","2376","      <action issue=\"LOG4J2-420\" dev=\"ggregory\" type=\"add\">\r","2377","        Create a lookup for resource bundle substitution.\r","2378","      <\/action>\r","2379","      <action issue=\"LOG4J2-417\" dev=\"ggregory\" type=\"fix\">\r","2380","        Fix Event Level \/ LoggerConfig Level table at the architecture documentation page.\r","2381","      <\/action>\r","2382","      <action issue=\"LOG4J2-415\" dev=\"ggregory\" type=\"add\">\r","2383","        Format log event time as UNIX time (seconds or milliseconds).\r","2384","      <\/action>\r","2385","      <action issue=\"LOG4J2-404\" dev=\"rgoers\" type=\"fix\" due-to=\"Kamal Bahadur\">\r","2386","        @EnterpriseNumber\" was missing in the ID of structured data when RFC5424Layout is used\r","2387","      <\/action>\r","2388","      <action issue=\"LOG4J2-379\" dev=\"rpopma\" type=\"fix\">\r","2389","        Fixed issue that prevented Log4J from working in Google App Engine.\r","2390","      <\/action>\r","2391","      <action issue=\"LOG4J2-401\" dev=\"ggregory\" type=\"add\">\r","2392","        Configure FileAppender buffer size.\r","2393","      <\/action>\r","2394","      <action issue=\"LOG4J2-402\" dev=\"ggregory\" type=\"add\">\r","2395","        Configure RandomAccessFileAppender buffer size.\r","2396","      <\/action>\r","2397","      <action issue=\"LOG4J2-528\" dev=\"ggregory\" type=\"update\">\r","2398","        Rename package org.apache.logging.log4j.core.appender.rolling.helper to org.apache.logging.log4j.core.appender.rolling.action.\r","2399","      <\/action>\r","2400","      <action issue=\"LOG4J2-532\" dev=\"ggregory\" type=\"update\">\r","2401","        Resource leak in Flume appender when it cannot create a BerkeleyDB db.\r","2402","      <\/action>\r","2403","      <action issue=\"LOG4J2-413\" dev=\"ggregory\" type=\"update\">\r","2404","        PatternLayout option to not output ANSI escape codes if no Console is available.\r","2405","      <\/action>\r","2406","    <\/release>\r","2407","    <release version=\"2.0-beta9\" date=\"2013-09-14\" description=\"Bug fixes and enhancements\">\r","2408","      <action issue=\"LOG4J2-317\" dev=\"ggregory\" type=\"update\">\r","2409","        Renamed FastFileAppender and FastRollingFileAppender to RandomAccessFileAppender\r","2410","        and RollingRandomAccessFileAppender. Configurations using the Fast(Rolling)File element\r","2411","        no longer work and should be modified to use the (Rolling)RandomAccessFile element.\r","2412","      <\/action>\r","2413","      <action dev=\"nickwilliams\" type=\"update\">\r","2414","        Changed the \"suppressExceptions\" configuration attribute for all Appenders to \"ignoreExceptions\" to avoid\r","2415","        confusion with Java 7 suppressed exceptions. Also renamed the Appender#isExceptionSuppressed() method to\r","2416","        Appender#ignoreExceptions() to avoid the same confusion. All Appenders by default internally log and then ignore\r","2417","        exceptions encountered while logging. Setting \"ignoreExceptions\" to \"false\" on an Appender causes it to allow\r","2418","        exceptions to propagate to the caller. You must set \"ignoreExceptions\" to \"false\" for Appenders you are wrapping\r","2419","        in the Failover Appender.\r","2420","      <\/action>\r","2421","      <action dev=\"nickwilliams\" type=\"update\">\r","2422","        Changed the (relatively new) PatternLayout configuration attribute \"suppressExceptions\" to\r","2423","        \"alwaysWriteExceptions\" to more correctly indicate what it does. As such, the meaning of this attribute has\r","2424","        reversed (previous \"true\"s should become \"false\"s, and vice versa). Since this was an undocumented attribute up\r","2425","        until now, it's unlikely this change will affect any users.\r","2426","      <\/action>\r","2427","      <action issue=\"LOG4J2-226\" dev=\"rgoers\" type=\"fix\">\r","2428","        Fix table of contents generation in pdf.\r","2429","      <\/action>\r","2430","      <action issue=\"LOG4J2-395\" dev=\"rgoers\" type=\"fix\" due-to=\"Abhinav Shah\">\r","2431","        Allow classpath scheme when specifying configuration file location as a system property.\r","2432","      <\/action>\r","2433","      <action issue=\"LOG4J2-393\" dev=\"rgoers\" type=\"fix\">\r","2434","        Initialize PluginManager once during configuration. Move advertisement setup into BaseConfiguration.\r","2435","      <\/action>\r","2436","      <action issue=\"LOG4J2-391\" dev=\"rgoers\" type=\"fix\" due-to=\"Kamal Bahadur\">\r","2437","        FlumePersistentManager now handles LockConflictExceptions in Berkeley Db.\r","2438","      <\/action>\r","2439","      <action issue=\"LOG4J2-399\" dev=\"ggregory\" type=\"add\">\r","2440","        Allow the default file rollover strategy to define the compression level.\r","2441","      <\/action>\r","2442","      <action issue=\"LOG4J2-338\" dev=\"rgoers\" type=\"add\" due-to=\"Tibor Benke\">\r","2443","        Add TLSAppender. Also added missing license headers to several files.\r","2444","      <\/action>\r","2445","      <action issue=\"LOG4J2-380\" dev=\"rgoers\" type=\"fix\">\r","2446","        Use rollover date when substituting ${date} in the filePattern.\r","2447","      <\/action>\r","2448","      <action issue=\"LOG4J2-253\" dev=\"rpopma\" type=\"add\">\r","2449","        Added FAQ page to the site.\r","2450","      <\/action>\r","2451","      <action issue=\"LOG4J2-362\" dev=\"rpopma\" type=\"add\">\r","2452","        Add a diagram to the site (FAQ page) that explains when to use which jar.\r","2453","      <\/action>\r","2454","      <action issue=\"LOG4J2-322\" dev=\"nickwilliams\" type=\"fix\">\r","2455","        Centralized reflective use of Reflection#getCallerClass and properly handled its instability in various versions\r","2456","        of Java.\r","2457","      <\/action>\r","2458","      <action issue=\"LOG4J2-293\" dev=\"rgoers\" type=\"fix\">\r","2459","        Reset the Configuration if the ClassLoaderContextSelector creates a LoggerContext without a configuration\r","2460","        location and then is later provided one.\r","2461","      <\/action>\r","2462","      <action issue=\"LOG4J2-293\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Abhinav Shah\">\r","2463","        Changed the ConfigurationFactory to recognize and properly use the classpath: URI scheme in addition to the\r","2464","        classloader: URI scheme.\r","2465","      <\/action>\r","2466","      <action issue=\"LOG4J2-359\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Abhinav Shah\">\r","2467","        Changed the Servlet 3.0 auto-initializer so that it does nothing in a Servlet 2.5 or older application. This\r","2468","        ensures behavioral consistency across containers.\r","2469","      <\/action>\r","2470","      <action issue=\"LOG4J2-374\" dev=\"ggregory\" type=\"add\" due-to=\"Tibor Benke\">\r","2471","        Add more options to PatternLayout to display more detailed information about a Throwable.\r","2472","      <\/action>\r","2473","      <action issue=\"LOG4J2-383\" dev=\"ggregory\" type=\"add\">\r","2474","        [Pattern Layout] Customize level names by length.\r","2475","      <\/action>\r","2476","      <action issue=\"LOG4J2-384\" dev=\"ggregory\" type=\"add\">\r","2477","        [Pattern Layout] Customize level names to lower-case.\r","2478","      <\/action>\r","2479","      <action issue=\"LOG4J2-355\" dev=\"ggregory\" type=\"update\" due-to=\"Tibor Benke\">\r","2480","        Add support for multiple SD-ELEMENTs in a RFC 5424 syslog message.\r","2481","      <\/action>\r","2482","      <action dev=\"nickwilliams\" type=\"update\">\r","2483","        Cleaned up tests and cleared up documentation for the JPA appender following the resolution of EclipseLink\r","2484","        issue #412454.\r","2485","      <\/action>\r","2486","      <action issue=\"LOG4J2-310\" dev=\"rpopma\" type=\"fix\" due-to=\"Olivier Lemasle\">\r","2487","        Fixed issue where SMTPAppender did not send mails with error or fatal level without prior info event.\r","2488","      <\/action>\r","2489","      <action issue=\"LOG4J2-368\" dev=\"rgoers\" type=\"fix\">\r","2490","        Add PatternLayout constructor to Log4j 1.2 bridge for Velocity.\r","2491","      <\/action>\r","2492","      <action issue=\"LOG4J2-333\" dev=\"ggregory\" type=\"fix\" due-to=\"Herv¨¦ Boutemy\">\r","2493","        Match artifact ids with Maven module names.\r","2494","      <\/action>\r","2495","      <action issue=\"LOG4J2-364\" dev=\"rgoers\" type=\"add\" due-to=\"David Nault\">\r","2496","        Add WebLookup to retrieve information from the ServletContext.\r","2497","      <\/action>\r","2498","      <action issue=\"LOG4J2-367\" dev=\"ggregory\" type=\"fix\" due-to=\"David Parry\">\r","2499","        JMS appenders send two messages for one append.\r","2500","      <\/action>\r","2501","      <action issue=\"LOG4J2-319\" dev=\"ggregory\" type=\"fix\">\r","2502","        Double stack trace logging when using %throwable in %style and %highlight.\r","2503","      <\/action>\r","2504","      <action issue=\"LOG4J2-360\" dev=\"rgoers\" type=\"add\">\r","2505","        Allow Plugins to have aliases.\r","2506","      <\/action>\r","2507","      <action issue=\"LOG4J2-358\" dev=\"nickwilliams\" type=\"fix\">\r","2508","        NoSQLAppender using MongoDB provider ignores username and password attributes\r","2509","      <\/action>\r","2510","      <action issue=\"LOG4J2-356\" dev=\"ggregory\" type=\"add\">\r","2511","        Create a JSON Layout.\r","2512","      <\/action>\r","2513","      <action issue=\"LOG4J2-343\" dev=\"rpopma\" type=\"fix\" due-to=\"Henning Schmiedehausen\">\r","2514","        Removed unnecessary generics from Appender interface and implementing classes.\r","2515","      <\/action>\r","2516","      <action issue=\"LOG4J2-351\" dev=\"rpopma\" type=\"fix\" due-to=\"Roland Weiglhofer\">\r","2517","        [OSGi] wrong Fragment-Host in manifest files.\r","2518","      <\/action>\r","2519","      <action issue=\"LOG4J2-336\" dev=\"rpopma\" type=\"fix\" due-to=\"Andre Bogus\">\r","2520","        AsyncLogger errors after multiple calls to LoggerContext.reconfigure().\r","2521","      <\/action>\r","2522","      <action issue=\"LOG4J2-347\" dev=\"rpopma\" type=\"fix\" due-to=\"David Phillips\">\r","2523","        Give the AsyncAppender thread a more descriptive name for easier debugging\/profiling.\r","2524","      <\/action>\r","2525","      <action issue=\"LOG4J2-332\" dev=\"rgoers\" type=\"fix\" due-to=\"Herv¨¦ Boutemy\">\r","2526","        Modified documentation to refer to SLF4J Binding instead of SLF4J Bridge.\r","2527","      <\/action>\r","2528","      <action issue=\"LOG4J2-342\" dev=\"rgoers\" type=\"fix\">\r","2529","        Ignore xml:base attributes.\r","2530","      <\/action>\r","2531","      <action issue=\"LOG4J2-309\" dev=\"rgoers\" type=\"fix\">\r","2532","        Insure jars and distributions only have a single License and Notice file.\r","2533","      <\/action>\r","2534","      <action issue=\"LOG4J2-341\" dev=\"ggregory\" type=\"add\">\r","2535","        Enable XInclude for XML configurations.\r","2536","      <\/action>\r","2537","      <action issue=\"LOG4J2-320\" dev=\"ggregory\" type=\"fix\">\r","2538","        JPAAppender stops logging because META-INF\/log4j-provider.properties is left open.\r","2539","      <\/action>\r","2540","      <action issue=\"LOG4J2-335\" dev=\"rgoers\" type=\"fix\">\r","2541","        FlumePersistentManager's writer thread had high CPU usage.\r","2542","      <\/action>\r","2543","      <action issue=\"LOG4J2-331\" dev=\"nickwilliams\" type=\"fix\">\r","2544","        Removed erroneous check for affected MongoDB records, which always returns zero on inserts.\r","2545","      <\/action>\r","2546","      <action issue=\"LOG4J2-330\" dev=\"nickwilliams\" type=\"fix\">\r","2547","        Added a BSON Transformer so that MongoDB can persist Log4j events.\r","2548","      <\/action>\r","2549","      <action issue=\"LOG4J2-329\" dev=\"rgoers\" type=\"fix\">\r","2550","        StatusLogger now only creates StatusData objects if they are the appropriate logging level.\r","2551","      <\/action>\r","2552","      <action issue=\"LOG4J2-328\" dev=\"rgoers\" type=\"fix\">\r","2553","        FlumePersistentManager was calling Berkeley DB's count method too frequently.\r","2554","      <\/action>\r","2555","      <action issue=\"LOG4J2-280\" dev=\"rpopma\" type=\"fix\">\r","2556","        Additional fix to make AsyncAppender threads daemon threads and improve their thread name.\r","2557","      <\/action>\r","2558","      <action issue=\"LOG4J2-165\" dev=\"rgoers\" type=\"fix\">\r","2559","        The slf4j-ext jar is now an optional dependency of the SLF4J bridge.\r","2560","      <\/action>\r","2561","      <action issue=\"LOG4J2-318\" dev=\"rgoers\" type=\"update\">\r","2562","        Allow shutdown hook to be disabled in the configuration.\r","2563","      <\/action>\r","2564","      <action issue=\"LOG4J2-166\" dev=\"rgoers\" type=\"fix\">\r","2565","        RoutingAppender's default Route can now be an appender reference.\r","2566","      <\/action>\r","2567","      <action issue=\"LOG4J2-313\" dev=\"rgoers\" type=\"add\" due-to=\"Woonsan Ko\">\r","2568","        Add JNDILookup plugin.\r","2569","      <\/action>\r","2570","      <action issue=\"LOG4J2-299\" dev=\"rgoers\" type=\"fix\">\r","2571","        Add getThrowable method to ThrowableProxy.\r","2572","      <\/action>\r","2573","      <action issue=\"LOG4J2-216\" dev=\"rgoers\" type=\"fix\">\r","2574","        ThrowableProxy no longer extends Throwable.\r","2575","      <\/action>\r","2576","      <action issue=\"LOG4J2-311\" dev=\"rpopma\" type=\"fix\">\r","2577","        Synchronized flush() and close() methods in the XxxFileManager and OutputStreamManager classes.\r","2578","      <\/action>\r","2579","      <action issue=\"LOG4J2-312\" dev=\"ggregory\" type=\"update\">\r","2580","        XML layout improvements (compact vs. pretty, namespace, namespace prefix, root element).\r","2581","      <\/action>\r","2582","      <action issue=\"LOG4J2-388\" dev=\"ggregory\" type=\"update\">\r","2583","        Update Java Mail dependency to 1.5.0 from 1.4.7.\r","2584","      <\/action>\r","2585","      <action issue=\"LOG4J2-325\" dev=\"ggregory\" type=\"update\">\r","2586","        Update JDBC tests to use H2 database 1.3.173 from 1.3.172.\r","2587","      <\/action>\r","2588","      <action issue=\"LOG4J2-366\" dev=\"ggregory\" type=\"update\">\r","2589","        Update commons-logging to 1.1.3 from 1.1.1.\r","2590","      <\/action>\r","2591","      <action issue=\"LOG4J2-390\" dev=\"ggregory\" type=\"update\">\r","2592","        Update HSQLDB dependency to 2.3.0 from 2.2.9.\r","2593","      <\/action>\r","2594","      <action issue=\"LOG4J2-308\" dev=\"rpopma\" type=\"update\">\r","2595","        Clarified which library versions were used in Async Loggers performance test.\r","2596","      <\/action>\r","2597","      <action issue=\"LOG4J2-307\" dev=\"rpopma\" type=\"update\">\r","2598","        Updated Async Loggers' LMAX Disruptor library from 3.0.1 to 3.2.0.\r","2599","      <\/action>\r","2600","      <action issue=\"LOG4J2-306\" dev=\"ggregory\" type=\"update\">\r","2601","        Update JSON Jackson library to 2.2.2 from 2.2.1.\r","2602","      <\/action>\r","2603","      <action issue=\"LOG4J2-387\" dev=\"ggregory\" type=\"update\">\r","2604","        Update Jackson dependency to 1.9.13 from 1.9.11.\r","2605","      <\/action>\r","2606","      <action issue=\"LOG4J2-305\" dev=\"ggregory\" type=\"add\">\r","2607","        Ease porting from 1.x Logger.getRootLogger(): add LogManager.getRootLogger().\r","2608","      <\/action>\r","2609","      <action issue=\"LOG4J2-304\" dev=\"rpopma\" type=\"fix\">\r","2610","        Fixed Async Loggers memory leak.\r","2611","      <\/action>\r","2612","      <action issue=\"LOG4J2-291\" dev=\"nickwilliams\" type=\"fix\">\r","2613","        Fixed JDBC, JPA, and NoSQL appenders so that the failover appender properly fails over on error.\r","2614","      <\/action>\r","2615","      <action dev=\"nickwilliams\" type=\"update\">\r","2616","        Improved site by adding quick jump-off page and menu for Javadoc links for all components.\r","2617","      <\/action>\r","2618","      <action issue=\"LOG4J2-397\" dev=\"ggregory\" type=\"fix\" due-to=\"Yonatan Graber\">\r","2619","        Logger.info(Message) Javadoc is incorrect.\r","2620","      <\/action>\r","2621","    <\/release>\r","2622","    <release version=\"2.0-beta8\" date=\"2013-07-10\" description=\"Bug fixes and enhancements\">\r","2623","      <action issue=\"LOG4J2-270\" dev=\"nickwilliams\" type=\"update\">\r","2624","        Improved logging initialization in Servlet containers, especially Servlet 3.0 and newer where Log4j now\r","2625","        initializes and deinitializes automatically with no deployment descriptor configuration.\r","2626","      <\/action>\r","2627","      <action issue=\"LOG4J2-302\" dev=\"rpopma\" type=\"fix\">\r","2628","        Added toString methods to ThreadContextStack\/Map implementation classes.\r","2629","      <\/action>\r","2630","      <action issue=\"LOG4J2-301\" dev=\"rgoers\" type=\"update\">\r","2631","        Add printf methods to Logger API.\r","2632","      <\/action>\r","2633","      <action issue=\"LOG4J2-300\" dev=\"rgoers\" type=\"fix\">\r","2634","        WriterThread was ending when no agents are available which caused an OutOfMemoryError.\r","2635","      <\/action>\r","2636","      <action issue=\"LOG4J2-282\" dev=\"rgoers\" type=\"update\">\r","2637","        Allow the default status level to be specified as a system property.\r","2638","      <\/action>\r","2639","      <action issue=\"LOG4J2-278\" dev=\"rgoers\" type=\"fix\">\r","2640","        Filter calls from Avro or Flume to be ignored by the FlumeAppender.\r","2641","      <\/action>\r","2642","      <action issue=\"LOG4J2-279\" dev=\"rgoers\" type=\"fix\">\r","2643","        FlumePersistentManager now calls Berkeley DB from threads to avoid encountering interrupts in the application.\r","2644","      <\/action>\r","2645","      <action issue=\"LOG4J2-296\" dev=\"ggregory\" type=\"fix\">\r","2646","        Wasted work in FlumePersistentManager.createManager.\r","2647","      <\/action>\r","2648","      <action issue=\"LOG4J2-297\" dev=\"ggregory\" type=\"fix\">\r","2649","        Wasted work in TestConfigurator.testEnvironment.\r","2650","      <\/action>\r","2651","      <action issue=\"LOG4J2-298\" dev=\"ggregory\" type=\"fix\">\r","2652","        Wasted work in StyleConverterTest.setupClass.\r","2653","      <\/action>\r","2654","      <action issue=\"LOG4J2-280\" dev=\"rpopma\" type=\"fix\">\r","2655","        AsyncLogger threads are now daemon threads and won't prevent the JVM from shutting down anymore.\r","2656","      <\/action>\r","2657","      <action issue=\"LOG4J2-295\" dev=\"rpopma\" type=\"fix\">\r","2658","        Fast(Rolling)FileAppender now correctly handles messages exceeding the buffer size.\r","2659","      <\/action>\r","2660","      <action issue=\"LOG4J2-271\" dev=\"rpopma\" type=\"fix\">\r","2661","        FastRollingFileAppender with TimeBasedTriggeringPolicy now works correctly if append=false.\r","2662","      <\/action>\r","2663","      <action issue=\"LOG4J2-267\" dev=\"rpopma\" type=\"fix\">\r","2664","        FastRollingFileAppender with TimeBasedTriggeringPolicy now works correctly if append=false.\r","2665","      <\/action>\r","2666","      <action issue=\"LOG4J2-292\" dev=\"rpopma\" type=\"fix\">\r","2667","        Fast(Rolling)FileAppender now correctly appends to (does not overwrite) existing file.\r","2668","      <\/action>\r","2669","      <action issue=\"LOG4J2-294\" dev=\"rgoers\" type=\"update\">\r","2670","        LogManager.getLogger can now be called without a logger name or with a null logger name.\r","2671","      <\/action>\r","2672","      <action issue=\"LOG4J2-289\" dev=\"rgoers\" type=\"fix\">\r","2673","        Upgrade javadoc plugin to 2.9.1 to fix javadoc security issue.\r","2674","      <\/action>\r","2675","      <action issue=\"LOG4J2-288\" dev=\"gregory\" type=\"update\">\r","2676","        Update JUnit to 4.11 from 4.7.\r","2677","      <\/action>\r","2678","      <action issue=\"LOG4J2-286\" dev=\"gregory\" type=\"update\">\r","2679","        Update test H2 JDBC driver to 1.172 from 1.171.\r","2680","      <\/action>\r","2681","      <action issue=\"LOG4J2-285\" dev=\"gregory\" type=\"update\">\r","2682","        Update Jansi jar to 1.11 from 1.9.\r","2683","      <\/action>\r","2684","      <action issue=\"LOG4J2-284\" dev=\"gregory\" type=\"update\">\r","2685","        Update Log4j 1 dependency to 1.2.17 from 1.2.16.\r","2686","      <\/action>\r","2687","      <action issue=\"LOG4J2-386\" dev=\"gregory\" type=\"update\">\r","2688","        Update NoSQL dependencies: lightcouch 0.0.6 from 0.0.5, mongodb 2.11.2 from 2.11.1.\r","2689","      <\/action>\r","2690","      <action issue=\"LOG4J2-283\" dev=\"gregory\" type=\"update\">\r","2691","        Remove dependency on Apache ORO jar.\r","2692","      <\/action>\r","2693","      <action issue=\"LOG4J2-277\" dev=\"gregory\" type=\"update\">\r","2694","        Wasted work in RollingAppenderSizeTest.testAppender() and others.\r","2695","      <\/action>\r","2696","      <action issue=\"LOG4J2-139\" dev=\"rgoers\" type=\"fix\">\r","2697","        Fix NullPointerException (regression due to fix for LOG4J2-228)\r","2698","      <\/action>\r","2699","      <action issue=\"LOG4J2-168\" dev=\"rgoers\" type=\"update\" due-to=\"Scott Severtson\">\r","2700","        Include arbitrary message fields in RFC-5424 structured data.\r","2701","      <\/action>\r","2702","      <action issue=\"LOG4J2-275\" dev=\"rgoers\" type=\"fix\">\r","2703","        FlumeAvroManager fails to notify client of failing event if Flume RPCClient cannot be created.\r","2704","      <\/action>\r","2705","      <action issue=\"LOG4J2-274\" dev=\"ggregory\" type=\"update\">\r","2706","        Wasted work in UUIDUtil initialization.\r","2707","      <\/action>\r","2708","      <action issue=\"LOG4J2-273\" dev=\"ggregory\" type=\"update\">\r","2709","        Wasted work in XMLLayout.toSerializable().\r","2710","      <\/action>\r","2711","    <\/release>\r","2712","    <release version=\"2.0-beta7\" date=\"2013-06-01\" description=\"Bug fixes and enhancements\">\r","2713","      <action issue=\"LOG4J2-249\" dev=\"rgoers\" type=\"update\">\r","2714","        Allow context parameters in Log4jContextListener to include properties.\r","2715","      <\/action>\r","2716","      <action issue=\"LOG4J2-263\" dev=\"rgoers\" type=\"fix\">\r","2717","        Do not allow a charset on RFC5424Layout - use UTF-8.\r","2718","      <\/action>\r","2719","      <action issue=\"LOG4J2-242\" dev=\"rgoers\" type=\"fix\">\r","2720","        StringFormattedMessage and MessageFormatMessage now will accept a Throwable as their last argument and\r","2721","        pass it on.\r","2722","      <\/action>\r","2723","      <action issue=\"LOG4J2-243\" dev=\"rgoers\" type=\"update\">\r","2724","        Allow custom LogEventFactories.\r","2725","      <\/action>\r","2726","      <action issue=\"LOG4J2-262\" dev=\"rgoers\" type=\"update\" due-to=\"Edward Sargisson\">\r","2727","        Add support for interceptors in the embedded Flume Appender.\r","2728","      <\/action>\r","2729","      <action issue=\"LOG4J2-269\" dev=\"rgoers\" type=\"fix\">\r","2730","        Use transaction when batch size is 1.\r","2731","      <\/action>\r","2732","      <action issue=\"LOG4J2-268\" dev=\"rgoers\" type=\"fix\">\r","2733","        Add guid to FlumeEvent headers for non-Map Messages.\r","2734","      <\/action>\r","2735","      <action issue=\"LOG4J2-246\" dev=\"rgoers\" type=\"fix\">\r","2736","        Data buffer is reset in finally clause.\r","2737","      <\/action>\r","2738","      <action issue=\"LOG4J2-228\" dev=\"rgoers\" type=\"fix\">\r","2739","        UDP now sends one event per packet.\r","2740","      <\/action>\r","2741","      <action dev=\"rpopma\" type=\"update\">\r","2742","        Method name changes in interface org.apache.logging.log4j.spi.ThreadContextMap:\r","2743","        getContext() to getCopy(), get() to getImmutableMapOrNull().\r","2744","      <\/action>\r","2745","      <action issue=\"LOG4J2-154\" dev=\"rpopma\" type=\"update\">\r","2746","        Improve ThreadContext performance with copy-on-write map and stack.\r","2747","      <\/action>\r","2748","      <action issue=\"LOG4J2-261\" dev=\"rgoers\" type=\"fix\" due-to=\"Edward Sargisson\">\r","2749","        Add missing \"not\" to error message.\r","2750","      <\/action>\r","2751","      <action issue=\"LOG4J2-10\" dev=\"rgoers\" type=\"add\" due-to=\"Timothy Ward\">\r","2752","        Break up core into multiple osgi jars.\r","2753","      <\/action>\r","2754","      <action issue=\"LOG4J2-223\" dev=\"rgoers\" type=\"fix\">\r","2755","        Remove LoggerContext when LoggerContext is stopped.\r","2756","      <\/action>\r","2757","      <action issue=\"LOG4J2-260\" dev=\"ggregory\" type=\"fix\">\r","2758","        XML layout does not specify charset in content type.\r","2759","      <\/action>\r","2760","      <action issue=\"LOG4J2-259\" dev=\"ggregory\" type=\"fix\">\r","2761","        HTML layout does not specify charset in content type.\r","2762","      <\/action>\r","2763","      <action issue=\"LOG4J2-258\" dev=\"ggregory\" type=\"fix\">\r","2764","        HTML layout does not output meta element for charset.\r","2765","      <\/action>\r","2766","      <action issue=\"LOG4J2-257\" dev=\"ggregory\" type=\"fix\">\r","2767","        XML layout ignores charset for the XML processing intruction's encoding attribute.\r","2768","      <\/action>\r","2769","      <action issue=\"LOG4J2-255\" dev=\"rpopma\" type=\"fix\">\r","2770","        Multi-byte character strings are now assumed to be in the platform default encoding, not UTF-8.\r","2771","      <\/action>\r","2772","      <action issue=\"LOG4J2-254\" dev=\"rgoers\" type=\"fix\">\r","2773","        Mark OutputStream in OutputStreamManager as volatile. Mark header and footer as final.\r","2774","      <\/action>\r","2775","      <action issue=\"LOG4J2-244\" dev=\"rgoers\" type=\"fix\">\r","2776","        Rewrite Appender was ignoring filters on referenced appenders.\r","2777","      <\/action>\r","2778","      <action issue=\"LOG4J2-245\" dev=\"rgoers\" type=\"fix\">\r","2779","        Avoid EmptyStack exception if getCallerClass and SecurityManager are not available.\r","2780","      <\/action>\r","2781","      <action issue=\"LOG4J2-229\" dev=\"ggregory\" type=\"add\" due-to=\"Nick Williams\">\r","2782","        New JDBC, JPA, and NoSQL database Appenders.\r","2783","      <\/action>\r","2784","      <action issue=\"LOG4J2-247\" dev=\"ggregory\" type=\"fix\">\r","2785","        SocketServer.isActive should be volatile because it is accessed from different threads.\r","2786","      <\/action>\r","2787","      <action issue=\"LOG4J2-251\" dev=\"sdeboy\" type=\"add\">\r","2788","        Provide configuration information (location, content type, content if possible) via a registered Advertiser.\r","2789","      <\/action>\r","2790","    <\/release>\r","2791","    <release version=\"2.0-beta6\" date=\"2013-05-05\" description=\"Bug fixes and enhancements\">\r","2792","      <action issue=\"LOG4J2-231\" dev=\"rgoers\" type=\"fix\">\r","2793","        Logger.getParent() was not returning the correct Logger.\r","2794","      <\/action>\r","2795","      <action issue=\"LOG4J2-201\" dev=\"rgoers\" type=\"fix\">\r","2796","        Renamed Plugin annotation attribute from \"type\" to \"category\".\r","2797","      <\/action>\r","2798","      <action issue=\"LOG4J2-237\" dev=\"rpopma\" type=\"update\">\r","2799","        Moved JMX Client GUI classes into separate jmx-gui submodule.\r","2800","      <\/action>\r","2801","      <action issue=\"LOG4J2-219\" dev=\"rpopma\" type=\"fix\" due-to=\"Peter DePasquale\">\r","2802","        Fix: install default root logger if not configured (this is unchanged),\r","2803","        but make sure to include configured named loggers. Clarified documentation.\r","2804","      <\/action>\r","2805","      <action issue=\"LOG4J2-159\" dev=\"rgoers\" type=\"fix\">\r","2806","        Use OSGi version format in Fragment-Host\r","2807","      <\/action>\r","2808","      <action issue=\"LOG4J2-234\" dev=\"rgoers\" type=\"fix\">\r","2809","        RegexFilter threw a NullPointerException when used as a context-wide filter.\r","2810","      <\/action>\r","2811","      <action issue=\"LOG4J2-192\" dev=\"rgoers\" type=\"fix\">\r","2812","        Add support for interpolating Environment variables when processing the configuration.\r","2813","      <\/action>\r","2814","      <action issue=\"LOG4J2-235\" dev=\"rpopma\" type=\"fix\" due-to=\"Sebastian Oerding\">\r","2815","        Removed dependency on tools jar from core module, made jconsole dependency optional.\r","2816","      <\/action>\r","2817","      <action issue=\"LOG4J2-233\" dev=\"rpopma\" type=\"fix\">\r","2818","        Fixed link to log4j-user mailing list.\r","2819","      <\/action>\r","2820","      <action issue=\"LOG4J2-230\" dev=\"rpopma\" type=\"update\" due-to=\"Wojciech Zar?ba\">\r","2821","        Improved error reporting when misconfigured.\r","2822","      <\/action>\r","2823","      <action issue=\"LOG4J2-222\" dev=\"rgoers\" type=\"fix\" due-to=\"Steven Yang\">\r","2824","        Disruptor will now shutdown during Tomcat shutdown.\r","2825","      <\/action>\r","2826","      <action dev=\"rpopma\" type=\"update\">\r","2827","        Renamed AsynchAppender to AsyncAppender. Plugin name became Async (was Asynch).\r","2828","      <\/action>\r","2829","      <action dev=\"rpopma\" type=\"update\">\r","2830","        Removed CheckStyle false positives for NewlineAtEndOfFile and whitespace following '*' at end of line in javadoc.\r","2831","      <\/action>\r","2832","      <action dev=\"rpopma\" type=\"update\">\r","2833","        Moved Clock interface to package org.apache.logging.log4j.core.helpers.\r","2834","      <\/action>\r","2835","      <action issue=\"LOG4J2-225\" dev=\"rpopma\" type=\"update\">\r","2836","        Documentation updates to clarify use and impact of location in pattern layouts.\r","2837","      <\/action>\r","2838","      <action issue=\"LOG4J2-224\" dev=\"rgoers\" type=\"fix\">\r","2839","        The FlumeAppender failed to start if the Flume RPCClient could not connect to any Flume agents.\r","2840","      <\/action>\r","2841","      <action issue=\"LOG4J2-223\" dev=\"rgoers\" type=\"fix\">\r","2842","        Fix LoggerContext start and stop to eliminate IllegalStateException and NoClassDefFound errors.\r","2843","      <\/action>\r","2844","      <action issue=\"LOG4J2-221\" dev=\"rgoers\" type=\"fix\" due-to=\"Nick Williams\">\r","2845","        Remove hundreds of compiler warnings.\r","2846","      <\/action>\r","2847","      <action issue=\"LOG4J2-215\" dev=\"rpopma\" type=\"fix\">\r","2848","        Various small documentation fixes.\r","2849","      <\/action>\r","2850","      <action issue=\"LOG4J2-217\" dev=\"rpopma\" type=\"fix\" due-to=\"Fabien Sanglard\">\r","2851","        Ensure PluginManager streams are always closed.\r","2852","      <\/action>\r","2853","    <\/release>\r","2854","    <release version=\"2.0-beta5\" date=\"2013-04-20\" description=\"Bug fixes and enhancements\">\r","2855","      <action issue=\"LOG4J2-205\" dev=\"rgoers\" type=\"fix\">\r","2856","        Fix deadlock in SocketAppender. Added option to not wait for socket reconnect.\r","2857","      <\/action>\r","2858","      <action issue=\"LOG4J2-207\" dev=\"rgoers\" type=\"add\" due-to=\"Remko Popma\">\r","2859","        Add JMX support.\r","2860","      <\/action>\r","2861","      <action issue=\"LOG4J2-211\" dev=\"rgoers\" type=\"fix\" due-to=\"Nick Williams\">\r","2862","        Removing extra spaces in entry and exit method output.\r","2863","      <\/action>\r","2864","      <action issue=\"LOG4J2-214\" dev=\"rgoers\" type=\"update\" due-to=\"Remko Popma\">\r","2865","        Async documentation update.\r","2866","      <\/action>\r","2867","      <action issue=\"LOG4J2-212\" dev=\"rgoers\" type=\"fix\">\r","2868","        Loggers without a \".\" had no parent logger.\r","2869","      <\/action>\r","2870","      <action issue=\"LOG4J2-208\" dev=\"rgoers\" type=\"update\" due-to=\"Remko Popma\">\r","2871","        Move async subproject into core.\r","2872","      <\/action>\r","2873","      <action issue=\"LOG4J2-212\" dev=\"rgoers\" type=\"fix\">\r","2874","        Call LoggerContext.stop when the application is shutdown.\r","2875","      <\/action>\r","2876","      <action issue=\"LOG4J2-210\" dev=\"rgoers\" type=\"fix\" due-to=\"Arkin Yetis\">\r","2877","        MapMessage was not enclosing key value in quotes when generating XML.\r","2878","      <\/action>\r","2879","      <action issue=\"LOG4J2-198\" dev=\"rgoers\" type=\"fix\">\r","2880","        FlumeAvroManager now uses Flume RPCClient.\r","2881","      <\/action>\r","2882","      <action issue=\"LOG4J2-196\" dev=\"rgoers\" type=\"fix\">\r","2883","        FlumeAvroManager now uses Flume RPCClient.\r","2884","      <\/action>\r","2885","      <action issue=\"LOG4J2-207\" dev=\"ggregory\" type=\"fix\">\r","2886","        Use the Maven group ID org.apache.logging.log4j for all artifacts.\r","2887","      <\/action>\r","2888","      <action issue=\"LOG4J2-187\" dev=\"rgoers\" type=\"add\" due-to=\"Nick Williams\">\r","2889","        Add tag library.\r","2890","      <\/action>\r","2891","      <action issue=\"LOG4J2-195\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">\r","2892","        Unit tests now create files in the target directory.\r","2893","      <\/action>\r","2894","      <action issue=\"LOG4J2-193\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">\r","2895","        RollingFastFileAppender (in log4j-async) did not roll over.\r","2896","      <\/action>\r","2897","      <action issue=\"LOG4J2-199\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">\r","2898","        Highlight subprojects in sub-navigation.\r","2899","      <\/action>\r","2900","      <action issue=\"LOG4J2-200\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">\r","2901","        LoggerContext method renamed to removeFilter from removeFiler.\r","2902","      <\/action>\r","2903","      <action issue=\"LOG4J2-194\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">\r","2904","        ThrowableFormatOptionsTest failed on Windows due to CR\/LF issue.\r","2905","      <\/action>\r","2906","      <action issue=\"LOG4J2-190\" dev=\"rgoers\" type=\"fix\" due-to=\"Werner\">\r","2907","        BaseConfiguration addLoggerAppender saved appender using the Logger name.\r","2908","      <\/action>\r","2909","      <action issue=\"LOG4J2-160\" dev=\"rgoers\" type=\"update\" due-to=\"Joanne Polsky\">\r","2910","        Move Throwable pattern converter options processing to ThrowableFormatOptions class.\r","2911","      <\/action>\r","2912","      <action issue=\"LOG4J2-157\" dev=\"rgoers\" type=\"update\" due-to=\"Remko Popma\">\r","2913","        Allowed Loggers access to the properties in the LoggerConfig.\r","2914","      <\/action>\r","2915","      <action issue=\"LOG4J2-153\" dev=\"rgoers\" type=\"update\" due-to=\"Remko Popma\">\r","2916","        Added ability to include or exclude location information.\r","2917","      <\/action>\r","2918","      <action issue=\"LOG4J2-151\" dev=\"rgoers\" type=\"update\" due-to=\"Remko Popma\">\r","2919","        Allow Logger and LoggerContext to be subclassed.\r","2920","      <\/action>\r","2921","      <action issue=\"LOG4J2-164\" dev=\"rgoers\" type=\"add\" due-to=\"Remko Popma\">\r","2922","        Add methods is\/setEndOfBatch to LogEvent.\r","2923","      <\/action>\r","2924","      <action issue=\"LOG4J2-163\" dev=\"rgoers\" type=\"add\" due-to=\"Remko Popma\">\r","2925","        Add support for asynchronous loggers.\r","2926","      <\/action>\r","2927","      <action issue=\"LOG4J2-189\" dev=\"rgoers\" type=\"fix\" due-to=\"Werner\">\r","2928","        The blocking parameter did not work properly on AsynchAppender.\r","2929","      <\/action>\r","2930","      <action issue=\"LOG4J2-188\" dev=\"rgoers\" type=\"fix\" due-to=\"Werner\">\r","2931","        AppenderRefs on AsynchAppender didn't support the level and filter elements.\r","2932","      <\/action>\r","2933","      <action issue=\"LOG4J2-176\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">\r","2934","        Avoid IllegalArgumentException in AsynchAppender.\r","2935","      <\/action>\r","2936","      <action issue=\"LOG4J2-179\" dev=\"ggregory\" type=\"add\">\r","2937","        Add Logger interface APIs to log at given levels.\r","2938","      <\/action>\r","2939","      <action issue=\"LOG4J2-181\" dev=\"rgoers\" type=\"fix\">\r","2940","        OutputStreamManager now adds the layout header whenever the OutputStream is set.\r","2941","      <\/action>\r","2942","      <action issue=\"LOG4J2-177\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">\r","2943","        Fix NullPointerException in DatagramOutputStream when flush is called from multiple threads.\r","2944","      <\/action>\r","2945","      <action dev=\"rgoers\" type=\"add\">\r","2946","        Added FlumePersistentManager which writes to BerkeleyDB and then writes to Flume asynchronously.\r","2947","      <\/action>\r","2948","      <action issue=\"LOG4J2-175\" dev=\"sdeboy\" type=\"fix\">\r","2949","        Plugin cache should be reset when addPackages is called.\r","2950","      <\/action>\r","2951","      <action issue=\"LOG4J2-155\" dev=\"sdeboy\" type=\"add\">\r","2952","        Expose file appender configuration details via an advertisement mechanism.\r","2953","      <\/action>\r","2954","      <action issue=\"LOG4J2-159\" dev=\"rgoers\" type=\"fix\" due-to=\"Jan Winter\">\r","2955","        Add Fragment-Host to MANIFEST.MF for log4j-core.\r","2956","      <\/action>\r","2957","      <action issue=\"LOG4J2-167\" dev=\"rgoers\" type=\"fix\">\r","2958","        Configurator throws a ClassCastException if LogManager returns a SimpleLoggerContext.\r","2959","      <\/action>\r","2960","      <action issue=\"LOG4J2-169\" dev=\"rgoers\" type=\"fix\">\r","2961","        ConfigurationFactory was adding factories on every call.\r","2962","      <\/action>\r","2963","      <action issue=\"LOG4J2-161\" dev=\"rgoers\" type=\"fix\">\r","2964","        Modify ClassLoaderContextSelector to use the first ClassLoader in the child parent hierarchy that\r","2965","        has a Context with a configuration to allow JSPs to use the WebApp's context and configuration.\r","2966","      <\/action>\r","2967","      <action issue=\"LOG4J2-158\" dev=\"rgoers\" due-to=\"Scott Severtson\">\r","2968","        Add RFC 5424 compliant escaping rules to RFC5424Layout.\r","2969","      <\/action>\r","2970","    <\/release>\r","2971","    <release version=\"2.0-beta4\" date=\"2013-01-28\" description=\"Bug fixes and enhancements\">\r","2972","      <action issue=\"LOG4J2-156\" dev=\"ggregory\" type=\"fix\" due-to=\"Andreas Born\">\r","2973","        LocalizedMessageTest fails on linux system.\r","2974","      <\/action>\r","2975","      <action issue=\"LOG4J2-152\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">\r","2976","        RollingFileAppender's FileRenameAction was throwing a NullPointerException if no directory was specified\r","2977","        on the target file name.\r","2978","      <\/action>\r","2979","      <action issue=\"LOG4J2-150\" dev=\"rgoers\" type=\"fix\">\r","2980","        Convert all System.getProperty calls to use PropertiesUtil to suppress SecurityExceptions.\r","2981","      <\/action>\r","2982","      <action issue=\"LOG4J2-147\" dev=\"rgoers\" type=\"fix\" due-to=\"William Burns\">\r","2983","        ThreadContextMapFilter was matching on the key instead of the value of the key.\r","2984","      <\/action>\r","2985","      <action dev=\"rgoers\" type=\"fix\">\r","2986","        Allow FlumeAvroManager to initialize even if it cannot connect to an agent.\r","2987","      <\/action>\r","2988","      <action issue=\"LOG4J2-149\" dev=\"rgoers\" type=\"fix\" due-to=\"Scott Severtson\">\r","2989","        SMTPAppender will only cache filtered events.\r","2990","      <\/action>\r","2991","      <action issue=\"LOG4J2-145\" dev=\"ggregory\" type=\"fix\">\r","2992","        Add missing serial version IDs.\r","2993","      <\/action>\r","2994","      <action issue=\"LOG4J2-144\" dev=\"ggregory\" type=\"fix\">\r","2995","        NullPointerException in RFC5424Layout.\r","2996","      <\/action>\r","2997","      <action issue=\"LOG4J2-143\" dev=\"rgoers\" type=\"fix\">\r","2998","        MessagePatternConverter now returns \"null\" if the log message is null.\r","2999","      <\/action>\r","3000","      <action issue=\"LOG4J2-142\" dev=\"rgoers\" type=\"fix\">\r","3001","        Serialized LogEvents were not reset in the output stream causing them to deserialize incorrectly.\r","3002","      <\/action>\r","3003","      <action issue=\"LOG4J2-139\" dev=\"rgoers\" type=\"fix\">\r","3004","        Fix null pointer exception in SocketAppender if no protocol is specified. The protocol will default\r","3005","        to TCP for the SocketAppender and UDP for the SyslogAppender.\r","3006","      <\/action>\r","3007","      <action dev=\"rgoers\" type=\"add\">\r","3008","        Added Log4j 2 to SLF4J adapter.\r","3009","      <\/action>\r","3010","      <action issue=\"LOG4J2-140\" dev=\"ggregory\" type=\"fix\" due-to=\"Joern Huxhorn\">\r","3011","        Typo in documentation of SocketAppender.\r","3012","      <\/action>\r","3013","      <action issue=\"LOG4J2-137\" dev=\"rgoers\" type=\"fix\">\r","3014","        Fix hang in Dumbster SMTP test server.\r","3015","      <\/action>\r","3016","      <action issue=\"LOG4J2-136\" dev=\"rgoers\" type=\"update\" due-to=\"Scott Severtson\">\r","3017","        Allow newlines to be escaped in Syslog and RFC5424 layouts. Allow Throwables to be included in\r","3018","        the output from RFC5424Layout.\r","3019","      <\/action>\r","3020","      <action issue=\"LOG4J2-131\" dev=\"rgoers\" type=\"add\" due-to=\"Scott Severtson\">\r","3021","        Add SMTPAppender.\r","3022","      <\/action>\r","3023","      <action issue=\"LOG4J2-130\" dev=\"rgoers\" type=\"fix\">\r","3024","        PatternLayout should format throwables without requiring a converter.\r","3025","      <\/action>\r","3026","      <action dev=\"rgoers\" type=\"add\">\r","3027","        Added hostName and contextName to property map.\r","3028","      <\/action>\r","3029","      <action issue=\"LOG4J2-135\" dev=\"ggregory\" type=\"fix\" due-to=\"Ingo Feltes\">\r","3030","        BaseConfiguration does not close the first appender.\r","3031","      <\/action>\r","3032","      <action dev=\"rgoers\" type=\"add\">\r","3033","        Add MessageFormatMessage and FormattedMessage.\r","3034","      <\/action>\r","3035","      <action issue=\"LOG4J2-134\" dev=\"ggregory\" type=\"add\">\r","3036","        Use %red, %white, %blue, and so on in the console appender.\r","3037","      <\/action>\r","3038","      <action issue=\"LOG4J2-133\" dev=\"ggregory\" type=\"add\">\r","3039","        Allow custom message creation via a message factory.\r","3040","      <\/action>\r","3041","      <action issue=\"LOG4J2-132\" dev=\"ggregory\" type=\"fix\">\r","3042","        AbstractLogger.catching(Throwable) checks for DEBUG level but logs at ERROR level.\r","3043","      <\/action>\r","3044","      <action issue=\"LOG4J2-129\" dev=\"rgoers\" type=\"fix\">\r","3045","        RoutingAppender was only creating a single appender for the default Route.\r","3046","      <\/action>\r","3047","      <action issue=\"LOG4J2-126\" dev=\"rgoers\" type=\"fix\">\r","3048","        Allow JMS appenders to recover if the queue or topic is unavailable.\r","3049","      <\/action>\r","3050","      <action issue=\"LOG4J2-128\" dev=\"rgoers\" type=\"update\">\r","3051","        Add follow attribute to Console Appender.\r","3052","      <\/action>\r","3053","      <action issue=\"LOG4J2-127\" dev=\"rgoers\" type=\"fix\">\r","3054","        AbstractLogger methods were not passing Markers to the isEnabled methods.\r","3055","      <\/action>\r","3056","      <action dev=\"rgoers\" type=\"add\">\r","3057","        Added Flume Appender samples.\r","3058","      <\/action>\r","3059","      <action issue=\"LOG4J2-122\" dev=\"rgoers\" type=\"update\">\r","3060","        Add unit test to verify exceptions are thrown when the socket connection fails.\r","3061","      <\/action>\r","3062","      <action issue=\"LOG4J2-125\" dev=\"rgoers\" type=\"fix\">\r","3063","        JMSQueue and JMSTopic Appenders did not allow name to be specified.\r","3064","      <\/action>\r","3065","      <action issue=\"LOG4J2-111\" dev=\"rgoers\" type=\"fix\">\r","3066","        Enhanced javadoc copyright statement.\r","3067","      <\/action>\r","3068","      <action issue=\"LOG4J2-110\" dev=\"rgoers\" type=\"update\">\r","3069","        Renamed log4j12-api to log4j-1.2-api.\r","3070","      <\/action>\r","3071","      <action issue=\"LOG4J2-120\" dev=\"rgoers\" type=\"fix\">\r","3072","        TCPSocketManager would fail if the initial connection could not be established.\r","3073","      <\/action>\r","3074","      <action issue=\"LOG4J2-119\" dev=\"rgoers\" type=\"fix\">\r","3075","        A broken socket connection would cause the TCPSocketManager to continuously reconnect.\r","3076","      <\/action>\r","3077","      <action issue=\"LOG4J2-123\" dev=\"rgoers\" type=\"fix\" due-to=\"Olivier Lamy\">\r","3078","        The example for ThreadContextMapFilter was incorrect.\r","3079","      <\/action>\r","3080","      <action issue=\"LOG4J2-116\" dev=\"rgoers\" type=\"fix\">\r","3081","        File renaming was using the wrong date value. Enhanced DefaultRolloverStrategy to store newest files in\r","3082","        highest index as well as lowest.\r","3083","      <\/action>\r","3084","      <action issue=\"LOG4J2-115\" dev=\"rgoers\" type=\"fix\">\r","3085","        ThreadContext Map elements with null values are now ignored when constructing a Flume event and in the\r","3086","        RFC5424 Layout.\r","3087","      <\/action>\r","3088","      <action issue=\"LOG4J2-113\" dev=\"rgoers\" type=\"fix\">\r","3089","        StructuredDataFilter createFilter was annotated with PluginAttr instead of PluginElement for the\r","3090","        KeyValuePairs.\r","3091","      <\/action>\r","3092","      <action issue=\"LOG4J2-114\" dev=\"rgoers\" type=\"fix\" due-to=\"Arkin Yetis\">\r","3093","        StructuredDataMessage was validating the length of the values in the event Map instead of the lengths\r","3094","        of the keys.\r","3095","      <\/action>\r","3096","    <\/release>\r","3097","    <release version=\"2.0-beta3\" date=\"2012-11-11\" description= \"Bug fixes and enhancements\">\r","3098","      <action issue=\"LOG4J2-108\" dev=\"rgoers\" type=\"fix\">\r","3099","        Fix NullPointerException in ClassLoaderContextSelector when no class is returned from\r","3100","        the SecurityManager.\r","3101","      <\/action>\r","3102","      <action issue=\"LOG4J2-105\" dev=\"rgoers\" type=\"update\">\r","3103","        Add ability to customize the names of the Levels in the LevelPatternConverter.\r","3104","      <\/action>\r","3105","      <action issue=\"LOG4J2-107\" dev=\"rgoers\" type=\"fix\">\r","3106","        PatternParser was not properly handling adjacent nested options\r","3107","      <\/action>\r","3108","      <action issue=\"LOG4J2-95\" dev=\"rgoers\" type=\"fix\">\r","3109","        Add support for loading plugins inside the OSGi bundle.\r","3110","      <\/action>\r","3111","      <action issue=\"LOG4J2-85\" dev=\"rgoers\" type=\"update\">\r","3112","        Add ThreadContext.push(String format, Object... args)\r","3113","      <\/action>\r","3114","      <action issue=\"LOG4J2-103\" dev=\"rgoers\" type=\"fix\" due-to=\"Das Archive\">\r","3115","        The LogEvent was wrapping a ThrowableProxy with another ThrowableProxy when deserializing.\r","3116","      <\/action>\r","3117","      <action dev=\"rgoers\" type=\"update\">\r","3118","        Created combined jar to combine API and Core contents for users who only want the Log4j implementation.\r","3119","      <\/action>\r","3120","      <action issue=\"LOG4J2-104\" dev=\"rgoers\" type=\"fix\">\r","3121","        Convert LogManager binding to use \"regular\" java properties instead of XML properties to workaround a\r","3122","        bug in Oracle's xmlparserv2 jar.\r","3123","      <\/action>\r","3124","      <action issue=\"LOG4J2-28\" dev=\"rgoers\" type=\"add\">\r","3125","        Added PropertiesRewritePolicy and ability to define properties on a Logger.\r","3126","      <\/action>\r","3127","      <action issue=\"LOG4J2-87\" dev=\"rgoers\" type=\"update\">\r","3128","        Build pdf of user's guide.\r","3129","      <\/action>\r","3130","      <action issue=\"LOG4J2-29\" dev=\"rgoers\" type=\"update\">\r","3131","        Added font and fontSize parameters to HTMLLayout. Replace newlines in message with br tag.\r","3132","      <\/action>\r","3133","      <action issue=\"LOG4J2-55\" dev=\"rgoers\" type=\"add\">\r","3134","        Added ability to configure from an InputSource.\r","3135","      <\/action>\r","3136","      <action issue=\"LOG4J2-102\" dev=\"rgoers\" type=\"fix\" due-to=\"Emanuele Colombo\">\r","3137","        The Facility value was being improperly calculated.\r","3138","      <\/action>\r","3139","      <action issue=\"LOG4J2-101\" dev=\"rgoers\" type=\"fix\" due-to=\"Emanuele Colombo\">\r","3140","        A NullPointerException would occur if no format value was passed to the SyslogAppender.\r","3141","      <\/action>\r","3142","      <action issue=\"LOG4J2-99\" dev=\"rgoers\" type=\"fix\" due-to=\"Das Archive\">\r","3143","        MapRewritePolicy had an extra call to putAll that caused updates to behave like adds.\r","3144","      <\/action>\r","3145","      <action dev=\"rgoers\" type=\"fix\">\r","3146","        Avoid NPE when duplicate LoggerContextFactorys are present. Allow factories to specify a weight to allow\r","3147","        real implementations to outrank test implementations. Provide a simple default LoggerContextFactory.\r","3148","      <\/action>\r","3149","      <action issue=\"LOG4J2-97\" dev=\"rgoers\" type=\"fix\">\r","3150","        Added several missing classes and methods for Log4j 1.x compatibility.\r","3151","      <\/action>\r","3152","      <action issue=\"LOG4J2-94\" dev=\"rgoers\" type=\"fix\" due-to=\"Denis Treskunov\">\r","3153","        Interpolator was not stripping Lookup key separator when trying to locate the default value for a variable.\r","3154","      <\/action>\r","3155","      <action dev=\"rgoers\" type=\"fix\">\r","3156","        Log4j 1.2 Category.forcedLog was wrapping the message with an ObjectMessage even if the parameter was an\r","3157","        ObjectMessage.\r","3158","      <\/action>\r","3159","    <\/release>\r","3160","    <release version=\"2.0-beta2\" date=\"2012-10-07\" description=\"Bug fixes and enhancements\">\r","3161","      <action dev=\"rgoers\" type=\"update\">\r","3162","        Made ParameterizedMessage, StringFormattedMessage and ThreadDumpMessage immutable. LocalizedMessage is\r","3163","        immutable except that it will be updated with the logger name when it is added to the LogEvent.\r","3164","      <\/action>\r","3165","      <action dev=\"rgoers\" type=\"fix\">\r","3166","        DefaultConfiguration was not starting the Console Appender.\r","3167","      <\/action>\r","3168","      <action issue=\"LOG4J2-35\" dev=\"rgoers\" type=\"add\">\r","3169","        Add interval and modulate options to TimeBasedTriggeringPolicy to allow more fine-grained control of\r","3170","        when file rolling should occur.\r","3171","      <\/action>\r","3172","      <action issue=\"LOG4J2-58\" dev=\"rgoers\" type=\"add\">\r","3173","        Add support for filtering packages from stack traces.\r","3174","      <\/action>\r","3175","      <action issue=\"LOG4J2-84\" dev=\"rgoers\" type=\"add\">\r","3176","        If system property \"disableThreadContextStack\" is set pushes to the ThreadContext will be ignored. If\r","3177","        system property \"disableThreadContext\" is set both puts and pushes will be ignored.\r","3178","      <\/action>\r","3179","      <action issue=\"LOG4J2-83\" dev=\"rgoers\" type=\"add\">\r","3180","        If system property \"disableThreadContextMap\" is set puts to the ThreadContext will be ignored. If\r","3181","        system property \"disableThreadContext\" is set both puts and pushes will be ignored.\r","3182","      <\/action>\r","3183","      <action dev=\"rgoers\" type=\"add\">\r","3184","        Add support for ANSI colors by adding the highlight and style pattern converters. Fix pattern\r","3185","        parsing to allow nested patterns.\r","3186","      <\/action>\r","3187","      <action issue=\"LOG4J2-92\" dev=\"rgoers\" type=\"fix\">\r","3188","        Converted DynamicThresholdFilter to use KeyValuePair. Fixed bugs in the Map-based filters\r","3189","        to allow declaration of multiple values for a key to match the documentation.\r","3190","      <\/action>\r","3191","      <action issue=\"LOG4J2-88\" dev=\"rgoers\" type=\"fix\">\r","3192","        Many logging methods in AbstractLogger were set to an incorrect logging level. catching was\r","3193","        using the THROWING marker and was set to debug instead of error.\r","3194","      <\/action>\r","3195","      <action dev=\"rgoers\" type=\"add\">\r","3196","        Allow the status logging to be directed to stderr or to a file.\r","3197","      <\/action>\r","3198","      <action issue=\"LOG4J2-91\" dev=\"rgoers\" type=\"fix\">\r","3199","        Log4j 1.2 adapter's Category class was missing 3 log methods.\r","3200","      <\/action>\r","3201","      <action issue=\"LOG4J2-84\" dev=\"rgoers\" type=\"fix\">\r","3202","        If the ThreadContext stack is empty the LogEvent will contain a null value to reduce the overhead of\r","3203","        creating log events and in the size of the serialized object. Changed the ThreadContext stack to use\r","3204","        a custom stack interface instead of java.util.Stack as that class is overly heavy. This change will\r","3205","        cause an API incompatibility.\r","3206","      <\/action>\r","3207","      <action issue=\"LOG4J2-83\" dev=\"rgoers\" type=\"fix\">\r","3208","        If the ThreadContext map is empty the LogEvent will contain a null value to reduce the overhead of creating\r","3209","        log events and in the size of the serialized object.\r","3210","      <\/action>\r","3211","      <action dev=\"rgoers\" type=\"add\">\r","3212","        Add getFormats to MultiformatMessage and allow StructuredDataMessage to format as XML.\r","3213","      <\/action>\r","3214","      <action issue=\"LOG4J2-90\" dev=\"rgoers\" type=\"fix\">\r","3215","        Add documentation on client vs server mode to performance page.\r","3216","      <\/action>\r","3217","      <action dev=\"rgoers\" type=\"fix\">\r","3218","        Move variable substitution from PatternLayout to appropriate converters to improve performance.\r","3219","      <\/action>\r","3220","    <\/release>\r","3221","    <release version=\"2.0-beta1\" date=\"2012-09-18\" description=\"Bug fixes and enhancements\">\r","3222","      <action dev=\"rgoers\" type=\"add\">\r","3223","        Added AsynchAppender.\r","3224","      <\/action>\r","3225","      <action issue=\"LOG4J-81\" dev=\"rgoers\" type=\"fix\">\r","3226","        PatternLayout was not honoring format modifiers.\r","3227","      <\/action>\r","3228","      <action dev=\"rgoers\" type=\"fix\">\r","3229","        Created web module to allow web applications to include the Log4j context listener in WEB-INF\/lib even if\r","3230","        Log4j is in the container's class path. Allow locating the LoggerContext to include the ClassLoader. Updated\r","3231","        the Loader utility to always choose the child ClassLoader. Verified in Jboss 5 and Tomcat.\r","3232","      <\/action>\r","3233","      <action issue=\"LOG4J2-82\" dev=\"rgoers\" type=\"fix\">\r","3234","        MarkerFilter called MarkerManager.getMarker causing the Marker to be created during the processing of the\r","3235","        configuration. This prevents the application from creating the Marker with any parents. MarkerWrapper in\r","3236","        SLF4J-impl was getting a ClassCastException in instanceOf because the Marker isn't a MarkerWrapper.\r","3237","      <\/action>\r","3238","      <action issue=\"LOG4J2-80\" dev=\"rgoers\" type=\"fix\" due-to=\"Oliver Lamy\">\r","3239","        Allow Log4j 2 to be used as the implementation with SLF4J and SLF4J's jcl-over-slf4j by adding filtering\r","3240","        to the log method in SLF4JLogger.\r","3241","      <\/action>\r","3242","      <action issue=\"LOG4J2-78\" dev=\"rgoers\" type=\"fix\">\r","3243","        LogFactoryImpl.setAttribute in the Commons Logging bridge got a NullPointerException when passed a null value.\r","3244","        It will now remove the attribute.\r","3245","      <\/action>\r","3246","      <action issue=\"LOG4J2-77\" dev=\"rgoers\" type=\"fix\">\r","3247","        RoutingAppender was calling the stop method for each of its referenced Appenders and was calling\r","3248","        the stop method of the default Appender a second time. It will now only call the stop method of\r","3249","        Appenders it creates.\r","3250","      <\/action>\r","3251","      <action issue=\"LOG4J2-76\" dev=\"rgoers\" type=\"fix\">\r","3252","        RewriteAppender was calling the stop method of the referenced appender causing the referenced appender's\r","3253","        manager to have its use count decremented too many times.\r","3254","      <\/action>\r","3255","      <action issue=\"LOG4J2-74\" dev=\"rgoers\" type=\"fix\">\r","3256","        Logger.error(Marker, Message, Throwable) was internally using Level.TRACE.\r","3257","      <\/action>\r","3258","      <action issue=\"LOG4J2-75\" dev=\"rgoers\" type=\"fix\">\r","3259","        Enhanced Log4jContextListener to accept a configuration file location. Modified FileConfigurationMonitor\r","3260","        to monitor files configured that way. Fixed other reconfiguration related bugs. Tested in JBoss and\r","3261","        Tomcat.\r","3262","      <\/action>\r","3263","      <action issue=\"LOG4J2-72\" dev=\"rgoers\" type=\"fix\">\r","3264","        NullPointerException in RollingFileManager when filePattern does not cause the file to be compressed.\r","3265","      <\/action>\r","3266","      <action issue=\"LOG4J2-71\" dev=\"rgoers\" type=\"fix\">\r","3267","        FileRenameAction did not create the parent directories of the archive files causing the rollover to fail.\r","3268","      <\/action>\r","3269","      <action dev=\"rgoers\" type=\"update\">\r","3270","        Update the versions of SLF4J and Logback.\r","3271","      <\/action>\r","3272","    <\/release>\r","3273","    <release version=\"2.0-alpha2\" date=\"2012-08-24\" description=\"Bug fixes and minor enhancements\">\r","3274","      <action issue=\"LOG4J2-70\" dev=\"rgoers\" type=\"add\">\r","3275","        Add getLogger(Class) to LogManager.\r","3276","      <\/action>\r","3277","      <action issue=\"LOG4J2-69\" dev=\"rgoers\" type=\"add\">\r","3278","        Allow Flume agents to be embedded into the Flume Appender.\r","3279","      <\/action>\r","3280","      <action issue=\"LOG4J2-68\" dev=\"rgoers\" type=\"add\">\r","3281","        Add support for formatting using String.format().\r","3282","      <\/action>\r","3283","      <action issue=\"LOG4J2-67\" dev=\"rgoers\" type=\"add\">\r","3284","        Allow components besides core to create a PluginMap for faster plugin loading and not\r","3285","        having to specify the plugin package in the configuration.\r","3286","      <\/action>\r","3287","      <action issue=\"LOG4J2-64\" dev=\"rgoers\" type=\"fix\">\r","3288","        Fix compilation problems in Java 7.\r","3289","      <\/action>\r","3290","      <action issue=\"LOG4J2-65\" dev=\"rgoers\" type=\"fix\">\r","3291","        Allow variable substitution on the configuration attributes and on the root log level.\r","3292","      <\/action>\r","3293","    <\/release>\r","3294","    <release version=\"2.0-alpha1\" date=\"2012-07-29\" description=\"Rewrite of Log4j\">\r","3295","      <action issue=\"LOG4J2-60\" dev=\"rgoers\" type=\"add\" due-to=\"Shane Kelly\">\r","3296","        Added ability to filter on the AppenderRef by adding either a level or a filter.\r","3297","      <\/action>\r","3298","      <action issue=\"LOG4J2-56\" dev=\"rgoers\" type=\"fix\" due-to=\"John Owen Atala\">\r","3299","        Level.toLevel would throw an IllegalArgumentException instead of returning the default value.\r","3300","      <\/action>\r","3301","      <action issue=\"LOG4J2-51\" dev=\"rgoers\" type=\"fix\" due-to=\"John Vasileff\">\r","3302","        Remove LoggerContext support for custom logger factories. All Loggers returned\r","3303","        by LoggerContext should be compatibile and of the same type.\r","3304","      <\/action>\r","3305","      <action issue=\"LOG4J2-50\" dev=\"rgoers\" type=\"fix\" due-to=\"John Vasileff\">\r","3306","        Make sure all application facing log methods use their own FQCN. This patch\r","3307","        resolves a unit test failure for the %C pattern when using the Category logger.\r","3308","      <\/action>\r","3309","    <\/release>\r","3310","  <\/body>\r","3311","<\/document>\r"],"delete":["0","<?xml version=\"1.0\" encoding=\"UTF-8\"?>","1","<!-- vi: set sw=2: -->","2","<!--","3","   Licensed to the Apache Software Foundation (ASF) under one or more","4","   contributor license agreements.  See the NOTICE file distributed with","5","   this work for additional information regarding copyright ownership.","6","   The ASF licenses this file to You under the Apache License, Version 2.0","7","   (the \"License\"); you may not use this file except in compliance with","8","   the License.  You may obtain a copy of the License at","9","","10","       http:\/\/www.apache.org\/licenses\/LICENSE-2.0","11","","12","   Unless required by applicable law or agreed to in writing, software","13","   distributed under the License is distributed on an \"AS IS\" BASIS,","14","   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","15","   See the License for the specific language governing permissions and","16","   limitations under the License.","17","-->","18","<document xmlns=\"http:\/\/maven.apache.org\/changes\/1.0.0\"","19","          xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\"","20","          xsi:schemaLocation=\"http:\/\/maven.apache.org\/changes\/1.0.0 http:\/\/maven.apache.org\/xsd\/changes-1.0.0.xsd\">","21","  <properties>","22","    <title>Changes<\/title>","23","  <\/properties>","24","  <body>","25","    <release version=\"2.8\" date=\"2016-MM-DD\" description=\"GA Release 2.8\">","26","      <action issue=\"LOG4J2-1731\" dev=\"rpopma\" type=\"fix\" due-to=\"Chris Ribble\">","27","        SslSocketManager now respects connectTimeoutMillis.","28","      <\/action>","29","      <action issue=\"LOG4J2-1682\" dev=\"ggregory\" type=\"fix\" due-to=\"Markus Waidhofer\">","30","        Logger using LocalizedMessageFactory prints key instead of message.","31","      <\/action>","32","      <action issue=\"LOG4J2-1720\" dev=\"mikes\" type=\"fix\">","33","        Make GelfLayout independent of Jackson.","34","      <\/action>","35","      <action issue=\"LOG4J2-1719\" dev=\"rpopma\" type=\"fix\">","36","        Fixed race condition in ObjectMessage and SimpleMessage, ensuring that the log message contains the value the object has during the logging call.","37","      <\/action>","38","      <action issue=\"LOG4J2-1688\" dev=\"rpopma\" type=\"fix\">","39","        Fixed bug where elements of a log message parameter array were nulled out in garbage-free mode.","40","      <\/action>","41","      <action issue=\"LOG4J2-1692\" dev=\"mikes\" type=\"fix\" due-to=\"Greg Thomas\">","42","        Add putAll() method to CloseableThreadContext.","43","      <\/action>","44","      <action issue=\"LOG4J2-1689\" dev=\"mikes\" type=\"fix\">","45","        Add ThreadContextMap3 interface supporting method removeAll(Iterable&lt;String&gt;).","46","      <\/action>","47","      <action issue=\"LOG4J2-1685\" dev=\"mikes\" type=\"fix\" due-to=\"Raman Gupta\">","48","        Option 'disableAnsi' in PatternLayout to unconditionally disable ANSI escape codes.","49","      <\/action>","50","      <action issue=\"LOG4J2-1706\" dev=\"rpopma\" type=\"fix\">","51","        Make TimeFilter usable as global filter and as logger filter.","52","      <\/action>","53","      <action issue=\"LOG4J2-1722\" dev=\"rpopma\" type=\"fix\">","54","        (GC) Avoid allocating temporary objects in VariablesNotEmptyReplacementConverter.","55","      <\/action>","56","      <action issue=\"LOG4J2-1717\" dev=\"rpopma\" type=\"fix\">","57","        (GC) Avoid allocating temporary objects in EncodingPatternConverter.","58","      <\/action>","59","      <action issue=\"LOG4J2-1716\" dev=\"rpopma\" type=\"fix\">","60","        (GC) Avoid allocating temporary objects in MapPatternConverter. (Note that constructing a MapMessage is not garbage-free.)","61","      <\/action>","62","      <action issue=\"LOG4J2-1683\" dev=\"rpopma\" type=\"fix\">","63","        (GC) Avoid allocating temporary objects in MapMessage.","64","      <\/action>","65","      <action issue=\"LOG4J2-1715\" dev=\"rpopma\" type=\"fix\">","66","        (GC) Avoid allocating temporary objects in NdcPatternConverter. (Note that use of the ThreadContext stack is not garbage-free.)","67","      <\/action>","68","      <action issue=\"LOG4J2-1714\" dev=\"rpopma\" type=\"fix\">","69","        (GC) Avoid allocating temporary objects in AbstractStyleNameConverter.","70","      <\/action>","71","      <action issue=\"LOG4J2-1680\" dev=\"rpopma\" type=\"fix\">","72","        (GC) Avoid allocating temporary objects in TimeFilter.","73","      <\/action>","74","      <action issue=\"LOG4J2-1679\" dev=\"rpopma\" type=\"fix\">","75","        (GC) Avoid allocating temporary objects in StructuredDataFilter.","76","      <\/action>","77","      <action issue=\"LOG4J2-1678\" dev=\"rpopma\" type=\"fix\">","78","        (GC) Avoid allocating temporary objects in ThreadContextMapFilter.","79","      <\/action>","80","      <action issue=\"LOG4J2-1677\" dev=\"rpopma\" type=\"fix\">","81","        (GC) Avoid allocating temporary objects in MapFilter.","82","      <\/action>","83","      <action issue=\"LOG4J2-1674\" dev=\"rpopma\" type=\"fix\">","84","        (GC) Avoid allocating temporary objects in ThresholdFilter.","85","      <\/action>","86","      <action issue=\"LOG4J2-1673\" dev=\"rpopma\" type=\"fix\">","87","        (GC) Avoid allocating temporary objects in MarkerFilter.","88","      <\/action>","89","      <action issue=\"LOG4J2-1672\" dev=\"rpopma\" type=\"fix\">","90","        (GC) Avoid allocating temporary objects in LevelRangeFilter.","91","      <\/action>","92","      <action issue=\"LOG4J2-1671\" dev=\"rpopma\" type=\"fix\">","93","        (GC) Avoid allocating temporary objects in EqualsIgnoreCaseReplacementConverter.","94","      <\/action>","95","      <action issue=\"LOG4J2-1670\" dev=\"rpopma\" type=\"fix\">","96","        (GC) Avoid allocating temporary objects in EqualsReplacementConverter.","97","      <\/action>","98","      <action issue=\"LOG4J2-1669\" dev=\"rpopma\" type=\"fix\">","99","        (GC) Avoid allocating temporary objects in MaxLengthConverter.","100","      <\/action>","101","      <action issue=\"LOG4J2-1668\" dev=\"rpopma\" type=\"fix\">","102","        (GC) Avoid allocating temporary objects in MarkerPatternConverter.","103","      <\/action>","104","      <action issue=\"LOG4J2-1667\" dev=\"rpopma\" type=\"fix\">","105","        (GC) Avoid allocating temporary objects in SequenceNumberPatternConverter.","106","      <\/action>","107","      <action issue=\"LOG4J2-1666\" dev=\"rpopma\" type=\"fix\">","108","        (GC) Avoid allocating temporary objects in RelativeTimePatternConverter.","109","      <\/action>","110","      <action issue=\"LOG4J2-1665\" dev=\"rpopma\" type=\"fix\">","111","        (GC) Avoid allocating temporary objects in IntegerPatternConverter.","112","      <\/action>","113","      <action issue=\"LOG4J2-1637\" dev=\"rpopma\" type=\"fix\">","114","        Fixed problems when used in OSGi containers (IllegalAccessError, NoClassDefFoundError).","115","      <\/action>","116","      <action issue=\"LOG4J2-1226\" dev=\"rpopma\" type=\"fix\">","117","        Improve LogEvent serialization to handle non-serializable Messages and deserializing when required classes are missing.","118","      <\/action>","119","      <action issue=\"LOG4J2-1663\" dev=\"rpopma\" type=\"fix\">","120","        Ensure SortedArrayStringMap can be serialized and deserialized without errors regardless of content.","121","      <\/action>","122","      <action issue=\"LOG4J2-1658\" dev=\"rpopma\" type=\"fix\">","123","        Prevent NPE in ThreadContextMapFactory::createThreadContextMap when initializing Log4j with Configurator::initialize and the BasicContextSelector is used.","124","      <\/action>","125","      <action issue=\"LOG4J2-1645\" dev=\"mikes\" type=\"fix\">","126","        Immutable empty StringMap.","127","      <\/action>","128","      <action issue=\"LOG4J2-1623\" dev=\"mikes\" type=\"fix\">","129","        Configurable JVM shutdown hook timeout.","130","      <\/action>","131","      <action issue=\"LOG4J2-1712\" dev=\"ggregory\" type=\"fix\">","132","        Pick up bug fixes from Apache Commons Lang's org.apache.commons.lang3.time package.","133","      <\/action>","134","      <action issue=\"LOG4J2-1636\" dev=\"ggregory\" type=\"fix\" due-to=\"Eldar Gabdullin\">","135","        Console Appender does not pick up Oracle Java 8's sun.stdout.encoding and sun.stderr.encoding.","136","      <\/action>","137","      <action issue=\"LOG4J2-1639\" dev=\"ggregory\" type=\"fix\" due-to=\"Sridhar Gopinath\">","138","        Fix MemoryMappedFileAppender.createAppender() Javadoc for immediateFlush.","139","      <\/action>","140","      <action issue=\"LOG4J2-1676\" dev=\"ggregory\" type=\"fix\" due-to=\"Joern Huxhorn\">","141","        Some LogEvents may not carry a Throwable (Use Message.getThrowable() in log(Message) methods.)","142","      <\/action>","143","      <action issue=\"LOG4J2-1723\" dev=\"ggregory\" type=\"fix\" due-to=\"Ludovic HOCHET\">","144","        Unwanted transitive dependency on geronimo-jms_1.1_spec causes OSGi tests to fail.","145","      <\/action>","146","      <action issue=\"LOG4J2-1664\" dev=\"ggregory\" type=\"fix\" due-to=\"Ludovic HOCHET\">","147","        Improve OSGi unit tests.","148","      <\/action>","149","      <action issue=\"LOG4J2-1687\" dev=\"ggregory\" type=\"fix\" due-to=\"Robert Christiansen\">","150","        NPE in ThrowableProxy when resolving stack in Java EE\/OSGi environment.","151","      <\/action>","152","      <action issue=\"LOG4J2-1642\" dev=\"ggregory\" type=\"fix\" due-to=\"Johno Crawford\">","153","        DefaultShutdownCallbackRegistry can throw a NoClassDefFoundError.","154","      <\/action>","155","      <action issue=\"LOG4J2-1474\" dev=\"ggregory\" type=\"fix\" due-to=\"yin mingjun, Neon\">","156","        CronTriggeringPolicy raise exception and fail to rollover log file when evaluateOnStartup is true.","157","      <\/action>","158","      <action issue=\"LOG4J2-1734\" dev=\"ggregory\" type=\"fix\">","159","        SslSocketManagerFactory might leak Sockets when certain startup errors occur.","160","      <\/action>","161","      <action issue=\"LOG4J2-1736\" dev=\"ggregory\" type=\"fix\">","162","        TcpSocketManagerFactory might leak Sockets when certain startup errors occur.","163","      <\/action>","164","      <action issue=\"LOG4J2-1740\" dev=\"ggregory\" type=\"fix\">","165","        Add CronTriggeringPolicy programmatically leads to NPE.","166","      <\/action>     ","167","      <action issue=\"LOG4J2-1644\" dev=\"ggregory\" type=\"update\" due-to=\"Tim Gokcen, Pavel Sivolobtchik\">","168","        Inefficient locking in AbstractLoggerAdapter.","169","      <\/action>","170","      <action issue=\"LOG4J2-1641\" dev=\"ggregory\" type=\"update\">","171","        Update JeroMQ from 0.3.5 to 0.3.6.","172","      <\/action>","173","      <action issue=\"LOG4J2-1647\" dev=\"mattsicker\" type=\"update\">","174","        Update Commons Lang from 3.4 to 3.5.","175","      <\/action>","176","      <action issue=\"LOG4J2-1646\" dev=\"mattsicker\" type=\"update\">","177","        Migrate to Mockito 2.x in unit tests.","178","      <\/action>","179","      <action issue=\"LOG4J2-1655\" dev=\"ggregory\" type=\"update\">","180","        Update Jackson from 2.8.3 to 2.8.4.","181","      <\/action>","182","      <action issue=\"LOG4J2-1735\" dev=\"ggregory\" type=\"update\">","183","        Update Jackson from 2.8.4 to 2.8.5.","184","      <\/action>","185","      <action issue=\"LOG4J2-1656\" dev=\"ggregory\" type=\"update\">","186","        Update Apache Flume from 1.6.0 to 1.7.0.","187","      <\/action>","188","      <action issue=\"LOG4J2-1698\" dev=\"ggregory\" type=\"update\">","189","        Update LMAX Disruptor from 3.3.5 to 3.3.6.","190","      <\/action>","191","      <action issue=\"LOG4J2-1700\" dev=\"ggregory\" type=\"update\">","192","        Update Jansi from 1.13 to 1.14.","193","      <\/action>","194","      <action issue=\"LOG4J2-969\" dev=\"ggregory\" type=\"add\">","195","        Refactor SyslogAppender so that Layout is a Plugin element.","196","      <\/action>","197","      <action issue=\"LOG4J2-1660\" dev=\"rpopma\" type=\"add\">","198","        Added public method ThreadContext::getThreadContextMap; removed class ThreadContextAccess.","199","      <\/action>","200","      <action issue=\"LOG4J2-1379\" dev=\"mattsicker\" type=\"add\">","201","        Add documentation regarding YAML configuration format.","202","      <\/action>","203","      <action issue=\"LOG4J2-1718\" dev=\"rpopma\" type=\"add\">","204","        Introduce marker interface AsynchronouslyFormattable.","205","      <\/action>","206","      <action issue=\"LOG4J2-1681\" dev=\"rpopma\" type=\"add\">","207","        Introduce interfaces IndexedStringMap and IndexedReadOnlyStringMap, supporting garbage-free iteration over sorted map.","208","      <\/action>","209","      <action issue=\"LOG4J2-1695\" dev=\"ggregory\" type=\"add\">","210","        Add a Builder to ScriptPatternSelector and deprecate ScriptPatternSelector.createSelector().","211","      <\/action>","212","      <action issue=\"LOG4J2-1696\" dev=\"ggregory\" type=\"add\">","213","        Add a Builder to MarkerPatternSelector and deprecate MarkerPatternSelector.createSelector().","214","      <\/action>","215","      <action issue=\"LOG4J2-1697\" dev=\"ggregory\" type=\"add\">","216","        Add a SerializerBuilder to PatternLayout and deprecate PatternLayout.createSerializer().","217","      <\/action>","218","      <action issue=\"LOG4J2-1701\" dev=\"ggregory\" type=\"add\">","219","        Add a Builder to RandomAccessFileAppender and deprecate RandomAccessFileAppender.createAppender().","220","      <\/action>","221","      <action issue=\"LOG4J2-1703\" dev=\"ggregory\" type=\"add\">","222","        Add a Builder to MemoryMappedFileAppender and deprecate MemoryMappedFileAppender.createAppender().","223","      <\/action>","224","      <action issue=\"LOG4J2-1704\" dev=\"ggregory\" type=\"add\">","225","        Add a Builder to RollingRandomAccessFileAppender and deprecate RollingRandomAccessFileAppender.createAppender().","226","      <\/action>","227","      <action issue=\"LOG4J2-1709\" dev=\"ggregory\" type=\"add\">","228","        Add a Builder to SyslogAppender and deprecate SyslogAppender.createAppender().","229","      <\/action>","230","      <action issue=\"LOG4J2-1707\" dev=\"ggregory\" type=\"add\">","231","        Allow TCP Socket Appender to set socket options.","232","      <\/action>","233","      <action issue=\"LOG4J2-1708\" dev=\"ggregory\" type=\"add\">","234","        Allow Secure Socket Appender to set socket options.","235","      <\/action>","236","      <action issue=\"LOG4J2-1737\" dev=\"ggregory\" type=\"add\">","237","        Add a Builder to SyslogLayout and deprecate SyslogLayout.createLayout(Facility, boolean, String, Charset).","238","      <\/action>","239","      <action issue=\"LOG4J2-1738\" dev=\"ggregory\" type=\"add\">","240","        Add a Builder to JsonLayout and deprecate org.apache.logging.log4j.core.layout.JsonLayout.createLayout(Configuration, boolean, boolean, boolean, boolean, boolean, boolean, String, String, Charset, boolean).","241","      <\/action>","242","      <action issue=\"LOG4J2-1739\" dev=\"ggregory\" type=\"add\">","243","        Add Builder to KafkaAppender and deprecate KafkaAppender.createAppender(Layout, Filter, String, boolean, String, Property[], Configuration).","244","      <\/action>","245","      <action issue=\"LOG4J2-1733\" dev=\"ggregory\" type=\"add\" due-to=\"Vincent Tieleman\">","246","        Add SyncSend attribute to KafkaAppender (as in KafkaLog4jAppender).","247","      <\/action>","248","    <\/release>","249","    <release version=\"2.7\" date=\"2016-10-02\" description=\"GA Release 2.7\">","250","      <action issue=\"LOG4J2-1618\" dev=\"rpopma\" type=\"fix\" due-to=\"Raman Gupta\">","251","        Fixed ClassCastException when using JUL logging during shutdown.","252","      <\/action>","253","      <action issue=\"LOG4J2-1620\" dev=\"ggregory\" type=\"fix\" due-to=\"Sascha Scholz\">","254","        2.7-rc1: RollingFileAppender immediateFlush default value should be true, not false.","255","      <\/action>","256","      <action issue=\"LOG4J2-1611\" dev=\"rpopma\" type=\"fix\">","257","        Improved performance of context data injector for web applications to be on par with standalone applications.","258","      <\/action>","259","      <action issue=\"LOG4J2-1591\" dev=\"rpopma\" type=\"fix\">","260","        Introduced new interface LifeCycle2 with stop(long,TimeUnit) method to avoid breaking backwards compatibility with new Configurator.shutdown(LoggerContext, long, TimeUnit) API.","261","      <\/action>","262","      <action issue=\"LOG4J2-1590\" dev=\"rpopma\" type=\"fix\">","263","        Fixed issue with filters extending AbstractFilter that did not override methods with unrolled varargs.","264","      <\/action>","265","      <action issue=\"LOG4J2-1583\" dev=\"rpopma\" type=\"fix\" due-to=\"Larry West\">","266","        Fixed scrambled log messages triggered by nested logging from toString() method of a logging parameter object.","267","      <\/action>","268","      <action issue=\"LOG4J2-1259\" dev=\"ggregory\" type=\"fix\" due-to=\"Misagh Moayyed, Steffen Offermann\">","269","        Log4j threads are no longer leaking on Tomcat shutdown.","270","      <\/action>","271","      <action issue=\"LOG4J2-1051\" dev=\"rpopma\" type=\"fix\" due-to=\"Lukasz Lenart\">","272","        When starting on Google App Engine, Interpolator now suppresses the NoClassDefFoundError stack trace  for the jvmrunargs lookup.","273","      <\/action>","274","      <action issue=\"LOG4J2-1582\" dev=\"rpopma\" type=\"fix\">","275","        When initializing on platforms where JMX is not available, Interpolator component no longer prints stack trace for warning messages.","276","      <\/action>","277","      <action issue=\"LOG4J2-1581\" dev=\"rpopma\" type=\"fix\">","278","        Unregistering JMX components no longer prints a stack trace when the MBean has already been unregistered.","279","      <\/action>","280","      <action issue=\"LOG4J2-1313\" dev=\"rpopma\" type=\"fix\" due-to=\"Philipp Knobel, Leon Finker\">","281","        Support Property values to be specified in configuration as a value attribute as well as an element.","282","      <\/action>","283","      <action issue=\"LOG4J2-1575\" dev=\"rpopma\" type=\"fix\">","284","        (GC) LoggerConfig now stores configuration properties in a List, not a Map to prevent creating temporary Iterator objects. Added method LoggerConfig#getPropertyList(), deprecated method #getProperties().","285","      <\/action>","286","      <action issue=\"LOG4J2-1457\" dev=\"mattsicker\" type=\"fix\" due-to=\"Leon Finker\">","287","        Fixed class loader deadlock when using async logging and extended stack trace pattern.","288","      <\/action>","289","      <action issue=\"LOG4J2-1563\" dev=\"ggregory\" type=\"fix\" due-to=\"Jason Tedor\">","290","        Fix to prevent Log4j 2.6.2 and higher from losing exceptions when a security manager is present.","291","      <\/action>","292","      <action issue=\"LOG4J2-1530\" dev=\"mikes\" type=\"fix\">","293","        Fixed issue where LogEvent.getContextStack() returned null.","294","      <\/action>","295","      <action issue=\"LOG4J2-1518\" dev=\"rpopma\" type=\"fix\" due-to=\"Leon Finker\">","296","        Prevent deadlock in Async Loggers when queue is full and logged Object's toString() logs another message.","297","      <\/action>","298","      <action issue=\"LOG4J2-1542\" dev=\"rpopma\" type=\"fix\" due-to=\"Rog¨¦rio Lecari?o Leite\">","299","        Prevent ArrayIndexOutOfBoundsException in ParameterizedMessage.formatTo for single-char or empty messages.","300","      <\/action>","301","      <action issue=\"LOG4J2-1549\" dev=\"mikes\" type=\"fix\" due-to=\"Jason Bedard\">","302","        Fixed issue where AsyncLoggerContextSelector+PropertiesConfigurationBuilder defaulted to includeLocation=true.","303","      <\/action>","304","      <action issue=\"LOG4J2-1562\" dev=\"ggregory\" type=\"fix\">","305","        Prevent SocketAppender memory usage from growing unbounded if it cannot connect to a server.","306","      <\/action>","307","      <action issue=\"LOG4J2-1559\" dev=\"ggregory\" type=\"fix\" due-to=\"Andrey Plotkin\">","308","        Prevent NPE in Level.isInRange.","309","      <\/action>","310","      <action issue=\"LOG4J2-1511\" dev=\"ggregory\" type=\"fix\" due-to=\"Srikanth Surukuntu\">","311","        DynamicThresholdFilter filtered incorrectly when params were passed as individual arguments instead of varargs.","312","      <\/action>","313","      <action issue=\"LOG4J2-1548\" dev=\"ggregory\" type=\"fix\">","314","        [CronTriggeringPolicy] ConfigurationScheduler scheduled the task infinitely after first fire.","315","      <\/action>","316","      <action issue=\"LOG4J2-1506\" dev=\"ggregory\" type=\"fix\" due-to=\"Johannes Schleger\">","317","        Log4j should not unregister JMX MBeans when log4j2.disable.jmx property is true.","318","      <\/action>","319","      <action issue=\"LOG4J2-1490\" dev=\"ggregory\" type=\"fix\" due-to=\"Krzysztof Taborski\">","320","        Log4j2 should postpone creating log file until the appender actually receives an event.","321","      <\/action>","322","      <action issue=\"LOG4J2-1320\" dev=\"ggregory\" type=\"fix\" due-to=\"Paresh Varke, Pierrick Hymbert\">","323","        Support loading custom plugins from jar files and directories whose classpath entries use the \"vfs\" URL protocol.","324","      <\/action>","325","      <action issue=\"LOG4J2-1541\" dev=\"ggregory\" type=\"fix\">","326","        Fix file handle resource leak in XmlConfiguration.XmlConfiguration(ConfigurationSource).","327","      <\/action>","328","      <action issue=\"LOG4J2-1538\" dev=\"ggregory\" type=\"fix\" due-to=\"Igor Karpov\">","329","        Prevent NPE when dynamically removing filters.","330","      <\/action>","331","      <action issue=\"LOG4J2-1532\" dev=\"ggregory\" type=\"fix\">","332","        Attributes were not merged properly in composite configurations.","333","      <\/action>","334","      <action issue=\"LOG4J2-1529\" dev=\"mattsicker\" type=\"fix\" due-to=\"Sridevi Narra\">","335","        Attributes were not merged properly in composite configurations.","336","      <\/action>","337","      <action issue=\"LOG4J2-1527\" dev=\"rpopma\" type=\"fix\" due-to=\"Jose Leon\">","338","        Prevent NPE in RingBufferLogEvent.getFormattedMessage() when used in web applications.","339","      <\/action>","340","      <action issue=\"LOG4J2-905\" dev=\"ggregory\" type=\"fix\" due-to=\"Moritz L?ser\">","341","        Added ability to disable (date) lookup completely for compatibility with other libraries like Camel.","342","      <\/action>","343","      <action issue=\"LOG4J2-1526\" dev=\"mikes\" type=\"fix\">","344","        Added support for setting StatusLogger destination in ConfigurationBuilder.","345","      <\/action>","346","      <action issue=\"LOG4J2-1448\" dev=\"rpopma\" type=\"fix\" due-to=\"Keith Laban\">","347","        Allow comma separated agents, host list to be passed to FlumeAppender.","348","      <\/action>","349","      <action issue=\"LOG4J2-1500\" dev=\"ggregory\" type=\"fix\" due-to=\"Jose Leon\">","350","        Merging configurations failed with an NPE when comparing Nodes with different attributes.","351","      <\/action>","352","      <action issue=\"LOG4J2-1482\" dev=\"ggregory\" type=\"fix\" due-to=\"Sumit Singhal\">","353","        Fixed improper header in CsvParameterLayout.","354","      <\/action>","355","      <action issue=\"LOG4J2-1199\" dev=\"rpopma\" type=\"fix\">","356","        Documented that JVM Input Arguments Lookup (JMX) is not available on Google App Engine.","357","      <\/action>","358","      <action issue=\"LOG4J2-1438\" dev=\"rpopma\" type=\"fix\">","359","        (GC) Added method getParameter() to ObjectMessage (and ReusableObjectMessage).","360","      <\/action>","361","      <action issue=\"LOG4J2-1488\" dev=\"rpopma\" type=\"fix\" due-to=\"Richard Zschech\">","362","        (GC) Fixed ISO8601 %date conversion pattern with a period '.' separator for milliseconds is now garbage free.","363","      <\/action>","364","      <action issue=\"LOG4J2-1489\" dev=\"rpopma\" type=\"fix\" due-to=\"Richard Zschech\">","365","        (GC) Fixed %date conversion patterns with a timezone parameter are now garbage free.","366","      <\/action>","367","      <action issue=\"LOG4J2-1279\" dev=\"rpopma\" type=\"fix\" due-to=\"Tony Baines\">","368","        Prevent NullPointerException in FastDateParser$TimeZoneStrategy.","369","      <\/action>","370","      <action issue=\"LOG4J2-1341\" dev=\"rpopma\" type=\"fix\" due-to=\"Richard Zschech\">","371","        (GC) HighlightConverter and StyleConverter are now GC-free.","372","      <\/action>","373","      <action issue=\"LOG4J2-1467\" dev=\"rpopma, ggregory\" type=\"fix\" due-to=\"Ralf, Gary Gregory\">","374","        [OSGi] Fixed missing import package.","375","      <\/action>","376","      <action issue=\"LOG4J2-351\" dev=\"rpopma, ggregory\" type=\"fix\" due-to=\"Roland Weiglhofer\">","377","        [OSGi] Fixed wrong Fragment-Host in manifest files.","378","      <\/action>","379","      <action issue=\"LOG4J2-1313\" dev=\"rpopma\" type=\"fix\" due-to=\"Philipp Knobel\">","380","        Properties declared in configuration can now have their value either in the element body or in an attribute named \"value\".","381","      <\/action>","382","      <action issue=\"LOG4J2-1235\" dev=\"ggregory\" type=\"fix\" due-to=\"Niranjan Rao, Sascha Scholz, Aleksey Zvolinsky\">","383","        org.apache.logging.log4j.core.appender.routing.IdlePurgePolicy was not working correctly.","384","      <\/action>","385","      <action issue=\"LOG4J2-1502\" dev=\"ggregory\" type=\"fix\" due-to=\"Sumit Singhal\">","386","        Fixed issue where CsvParameterLayout and CsvLogEventLayout inserted NUL characters if data starts with {, (, [ or \"","387","      <\/action>","388","      <action issue=\"LOG4J2-1573\" dev=\"ggregory\" type=\"fix\" due-to=\"Steffen Offermann\">","389","        Layout is no longer optional.","390","      <\/action>","391","      <action issue=\"LOG4J2-1608\" dev=\"ggregory\" type=\"fix\">","392","        ServletAppender does not provide throwable object to ServletContext.","393","      <\/action>","394","      <action issue=\"LOG4J2-1599\" dev=\"ggregory\" type=\"fix\">","395","        Prevent potential NPE in org.apache.logging.log4j.message.ParameterFormatter.formatMessage3(StringBuilder, char[], int, Object[], int, int[]).","396","      <\/action>","397","      <action issue=\"LOG4J2-1600\" dev=\"ggregory\" type=\"fix\">","398","        Prevent potential NPE due to org.apache.logging.log4j.core.layout.MarkerPatternSelector.createSelector(PatternMatch[], String, boolean, boolean, Configuration).","399","      <\/action>","400","      <action issue=\"LOG4J2-1601\" dev=\"ggregory\" type=\"fix\">","401","        Prevent potential NPE due to org.apache.logging.log4j.core.layout.ScriptPatternSelector.createSelector(AbstractScript, PatternMatch[], String, boolean, boolean, Configuration).","402","      <\/action>","403","      <action issue=\"LOG4J2-1602\" dev=\"ggregory\" type=\"fix\">","404","        Prevent potential NPE in org.apache.logging.log4j.core.util.datetime.FormatCache.MultipartKey.equals(Object) when object is null.","405","      <\/action>","406","      <action issue=\"LOG4J2-1603\" dev=\"ggregory\" type=\"fix\">","407","        Redo hashCode() and equals() methods in org.apache.logging.log4j.core.net.ssl classes.","408","      <\/action>","409","      <action issue=\"LOG4J2-1610\" dev=\"ggregory\" type=\"fix\" due-to=\"Shubhankar\">","410","        Add targetNamespace to log4j-config.xsd. GitHub #43.","411","      <\/action>","412","      <action issue=\"LOG4J2-1619\" dev=\"ggregory\" type=\"fix\">","413","        new Log4jLogEvent().toString() throws an NPE.","414","      <\/action>","415","      <action issue=\"LOG4J2-1578\" dev=\"ggregory\" type=\"add\">","416","        RoutingAppender can be configured with scripts. Add Script in a Routes element.","417","      <\/action>","418","      <action issue=\"LOG4J2-1597\" dev=\"ggregory\" type=\"add\">","419","        Add a ScriptAppenderSelector to create an Appender specified by a Script.","420","      <\/action>","421","      <action issue=\"LOG4J2-1349\" dev=\"rpopma\" type=\"add\">","422","        (GC) Added support for garbage-free ThreadContext map. Disabled by default, users need to enable this explicitly.","423","      <\/action>","424","      <action issue=\"LOG4J2-1447\" dev=\"rpopma\" type=\"add\">","425","        (GC) Changed LogEvent's internal data structure for context data to be garbage-free. Added method LogEvent#getContextData(), deprecated method #getContextMap().","426","      <\/action>","427","      <action issue=\"LOG4J2-1010\" dev=\"rpopma\" type=\"add\" due-to=\"Mikael St?ldal\">","428","        Users can now inject context data from other sources than ThreadContext. Values can be any Object, not just Strings.","429","      <\/action>","430","      <action issue=\"LOG4J2-1568\" dev=\"mattsicker\" type=\"add\">","431","        Added support for java.util.concurrent.LinkedTransferQueue to AsyncAppender.","432","      <\/action>","433","      <action issue=\"LOG4J2-1430\" dev=\"mattsicker\" type=\"add\" due-to=\"John Cairns\">","434","        Added optional support for Conversant DisruptorBlockingQueue in AsyncAppender.","435","      <\/action>","436","      <action issue=\"LOG4J2-1439\" dev=\"mattsicker\" type=\"add\" due-to=\"Anthony Maire\">","437","        Added optional support for JCTools MPSC bounded lock-free queue in AsyncAppender.","438","      <\/action>","439","      <action issue=\"LOG4J2-1558\" dev=\"ggregory\" type=\"add\">","440","        SocketAppender now supports IO buffering.","441","      <\/action>","442","      <action issue=\"LOG4J2-1557\" dev=\"ggregory\" type=\"add\">","443","        Add a Builder for the SocketAppender (deprecates factory method).","444","      <\/action>","445","      <action issue=\"LOG4J2-1609\" dev=\"ggregory\" type=\"add\">","446","        Add a Builder to ServletAppender and deprecate factory method.","447","      <\/action>","448","      <action issue=\"LOG4J2-1553\" dev=\"ggregory\" type=\"add\">","449","        AbstractManager now implements AutoCloseable.","450","      <\/action>","451","      <action issue=\"LOG4J2-1528\" dev=\"mikes\" type=\"add\">","452","        Added ability to generate Log4j 2-style XML configuration file from ConfigurationBuilder.","453","      <\/action>","454","      <action issue=\"LOG4J2-1181\" dev=\"mikes\" type=\"add\">","455","        Added Logging API for Scala 2.10 and 2.11.","456","      <\/action>","457","      <action issue=\"LOG4J2-1512\" dev=\"mikes\" type=\"add\">","458","        Added options to exclude stack trace from JSON, XML and YAML layouts.","459","      <\/action>","460","      <action issue=\"LOG4J2-1539\" dev=\"ggregory\" type=\"add\">","461","        Added Core API Configurator.shutdown(LoggerContext, long, TimeUnit).","462","      <\/action>","463","      <action issue=\"LOG4J2-1501\" dev=\"ggregory\" type=\"add\">","464","        FileAppender is now able to create files on-demand.","465","      <\/action>","466","      <action issue=\"LOG4J2-1504\" dev=\"ggregory\" type=\"add\">","467","        RollingFileAppender is now able to create files on-demand.","468","      <\/action>","469","      <action issue=\"LOG4J2-1471\" dev=\"ggregory\" type=\"add\">","470","        [PatternLayout] Add an ANSI option to %xThrowable.","471","      <\/action>","472","      <action issue=\"LOG4J2-1472\" dev=\"ggregory\" type=\"add\">","473","        org.apache.logging.log4j.core.LoggerContext now implements Closeable.","474","      <\/action>","475","      <action issue=\"LOG4J2-1458\" dev=\"ggregory\" type=\"add\">","476","        [PatternLayout] Add an ANSI option to %message.","477","      <\/action>","478","      <action issue=\"LOG4J2-1505\" dev=\"ggregory\" type=\"add\">","479","        Create a Builder for the FileAppender plugin to facilitate adding attributes in the future.","480","      <\/action>","481","      <action issue=\"LOG4J2-1507\" dev=\"ggregory\" type=\"add\">","482","        Allow Builders to be completely generic.","483","      <\/action>","484","      <action issue=\"LOG4J2-1508\" dev=\"ggregory\" type=\"add\">","485","        Allow a Builder to subclass another Builder.","486","      <\/action>","487","      <action issue=\"LOG4J2-1516\" dev=\"rpopma\" type=\"add\" due-to=\"Gary Gregory\">","488","        Add ThreadContextMap2 interface supporting method putAll(Map&lt;String, String&gt;).","489","      <\/action>","490","      <action issue=\"LOG4J2-1519\" dev=\"ggregory\" type=\"add\">","491","        Add ThreadContext.putAll(Map&lt;String, String&gt;).","492","      <\/action>","493","      <action issue=\"LOG4J2-1520\" dev=\"ggregory\" type=\"add\">","494","        Add JUnit Rule implementations to manage the thread context.","495","      <\/action>","496","      <action issue=\"LOG4J2-1547\" dev=\"ggregory\" type=\"add\">","497","        The Core AbstractConfiguration now tracks its LoggerContext and add Configuration.getLoggerContext().","498","      <\/action>","499","      <action issue=\"LOG4J2-1540\" dev=\"ggregory\" type=\"add\">","500","        The Core AbstractManager now tracks its LoggerContext.","501","      <\/action>","502","      <action issue=\"LOG4J2-1577\" dev=\"ggregory\" type=\"add\">","503","        Add a Builder to the RoutingAppender and deprecate factory method.","504","      <\/action>","505","      <action issue=\"LOG4J2-1604\" dev=\"ggregory\" type=\"update\" due-to=\"Colin Hillman\">","506","        Log4j2 TcpSocketServer in background.","507","      <\/action>","508","      <action issue=\"LOG4J2-1574\" dev=\"ggregory\" type=\"update\">","509","        Allow the RollingFileAppender to use default pattern layout.","510","      <\/action>","511","      <action issue=\"LOG4J2-1556\" dev=\"ggregory\" type=\"update\">","512","        Custom Log4j threads now extend Log4jThread.","513","      <\/action>","514","      <action issue=\"LOG4J2-1605\" dev=\"ggregory\" type=\"update\">","515","        Improve error messages for TcpSocketServer and UdpSocketServer.","516","      <\/action>","517","      <action issue=\"LOG4J2-1458\" dev=\"ggregory\" type=\"update\">","518","        Updated Jackson from 2.7.5 to 2.8.0.","519","      <\/action>","520","      <action issue=\"LOG4J2-1494\" dev=\"ggregory\" type=\"update\">","521","        Updated Jackson from 2.8.0 to 2.8.1.","522","      <\/action>","523","      <action issue=\"LOG4J2-1569\" dev=\"ggregory\" type=\"update\">","524","        Updated Jackson from 2.8.1 to 2.8.2.","525","      <\/action>","526","      <action issue=\"LOG4J2-1598\" dev=\"ggregory\" type=\"update\">","527","        Updated Jackson from 2.8.2 to 2.8.3.","528","      <\/action>","529","      <action issue=\"LOG4J2-1495\" dev=\"ggregory\" type=\"update\">","530","        Updated LMAX Disruptor from 3.3.4 to 3.3.5.","531","      <\/action>","532","      <action issue=\"LOG4J2-1496\" dev=\"ggregory\" type=\"update\">","533","        Updated Kafka client from 0.9.1.0 to 0.10.0.0.","534","      <\/action>","535","      <action issue=\"LOG4J2-1533\" dev=\"ggregory\" type=\"update\">","536","        Updated Kafka client from 0.10.0.0 to 0.10.0.1.","537","      <\/action>","538","      <action issue=\"LOG4J2-1487\" dev=\"ggregory\" type=\"update\">","539","        Updated JMS test from ActiveMQ 5.13.3 to 5.13.4.","540","      <\/action>","541","      <action issue=\"LOG4J2-1551\" dev=\"ggregory\" type=\"update\">","542","        Updated JMS test from ActiveMQ 5.13.4 to 5.14.0.","543","      <\/action>","544","      <action issue=\"LOG4J2-1543\" dev=\"ggregory\" type=\"update\">","545","        Removed deprecated Core API org.apache.logging.log4j.core.util.Constants.UTF_8.","546","      <\/action>","547","      <action issue=\"LOG4J2-1544\" dev=\"ggregory\" type=\"update\">","548","        Removed deprecated Core API org.apache.logging.log4j.core.util.Assert.requireNonNull(T, String).","549","      <\/action>","550","      <action issue=\"LOG4J2-1545\" dev=\"ggregory\" type=\"update\">","551","        Removed deprecated Web API org.apache.logging.log4j.web.WebLookup.getServletContext().","552","      <\/action>","553","    <\/release>","554","    <release version=\"2.6.2\" date=\"2016-07-05\" description=\"GA Release 2.6.2\">","555","      <action issue=\"LOG4J2-904\" dev=\"rgoers\" type=\"fix\" due-to=\"Bernhard M?hr\">","556","        If copy and delete fails in rename action then resort to truncating the source file after copying it.","557","      <\/action>","558","      <action issue=\"LOG4J2-1250\" dev=\"rgoers\" type=\"fix\">","559","        CronTriggeringPolicy was not properly setting the prevFileTime value for the PatternProcessor so","560","        file dates and times on rolled files were incorrect.","561","      <\/action>","562","      <action issue=\"LOG4J2-1452\" dev=\"rpopma\" type=\"fix\" due-to=\"Mikael St?ldal\">","563","        Fixed issue where reusable messages broke flow tracing logic.","564","      <\/action>","565","      <action issue=\"LOG4J2-1440\" dev=\"rgoers\" type=\"fix\">","566","        Fix bug in OnStartupTriggeringPolicy that allowed it to roll over on every reconfiguration. Added","567","        minSize attribute.","568","      <\/action>","569","      <action issue=\"LOG4J2-1414\" dev=\"rpopma\" type=\"fix\" due-to=\"Ralph Goers\">","570","        Fixed minor issues with the 2.6.1 web site.","571","      <\/action>","572","      <action issue=\"LOG4J2-1434\" dev=\"rpopma\" type=\"fix\" due-to=\"Luke Butters\">","573","        Ensure that the thread-local StringBuilders used by Layouts to format log events to text will not","574","        retain excessive memory after a large message was logged.","575","      <\/action>","576","      <action issue=\"LOG4J2-1395\" dev=\"mikes\" type=\"add\">","577","        Add \"direct\" option to ConsoleAppender for increased performance.","578","      <\/action>","579","      <action issue=\"LOG4J2-1418\" dev=\"mikes\" type=\"fix\">","580","        Provide MessageFactory2 to custom Logger implementations.","581","      <\/action>","582","      <action issue=\"LOG4J2-1420\" dev=\"rgoers\" type=\"fix\">","583","        RollingRandomAccessFileManager was not properly rolling over on startup and was getting a NullPointerException.","584","      <\/action>","585","      <action issue=\"LOG4J2-1417\" dev=\"rpopma\" type=\"fix\">","586","        Fixed issue where Unbox utility ignored the value Constants.ENABLE_THREADLOCALS and always stored non-JDK classes in ThreadLocals.","587","      <\/action>","588","      <action issue=\"LOG4J2-1422\" dev=\"rpopma\" type=\"fix\">","589","        Fixed issue where AsyncAppenderQueueFullPolicyTest sometimes hangs.","590","      <\/action>","591","      <action issue=\"LOG4J2-1445\" dev=\"ggregory\" type=\"fix\" due-to=\"Ludovic HOCHET\">","592","        OnStartupTriggeringPolicyTest fails on Windows saying the file is used by another process.","593","      <\/action>","594","      <action issue=\"LOG4J2-1437\" dev=\"rpopma\" type=\"add\">","595","        (GC) ObjectMessage and ReusableObjectMessage now avoid calling toString() on auto-boxed primitive parameters.","596","      <\/action>","597","      <action issue=\"LOG4J2-1415\" dev=\"rpopma\" type=\"add\">","598","        (GC) ParameterFormatter now avoids calling toString() on auto-boxed primitive message parameters.","599","      <\/action>","600","      <action issue=\"LOG4J2-1412\" dev=\"rpopma\" type=\"add\">","601","        Unbox utility's ringbuffer of StringBuilders is now configurable.","602","      <\/action>","603","      <action issue=\"LOG4J2-1432\" dev=\"ggregory\" type=\"update\">","604","        Update Jackson from 2.7.4 to 2.7.5.","605","      <\/action>","606","      <action issue=\"LOG4J2-1433\" dev=\"ggregory\" type=\"update\">","607","        Update Jansi from 1.11 to 1.13.","608","      <\/action>","609","      <action issue=\"LOG4J2-1444\" dev=\"ggregory\" type=\"update\">","610","        Update Apache Commons Compress from 1.11 to 1.12.","611","      <\/action>","612","    <\/release>","613","    <release version=\"2.6.1\" date=\"2016-06-05\" description=\"GA Release 2.6.1\">","614","      <action issue=\"LOG4J2-1405\" dev=\"rgoers\" type=\"fix\">","615","        OnStartupTriggeringPolicy was forcing a rollover of empty files at startup and would append a second footer that was added by the prior shutdown.","616","      <\/action>","617","      <action issue=\"LOG4J2-1406\" dev=\"rpopma\" type=\"fix\" due-to=\"Trask Stalnaker\">","618","        Fixed bug in ReusableParameterizedMessage where Throwable was never updated so first error was logged over and over again and subsequent errors were not logged.","619","      <\/action>","620","      <action issue=\"LOG4J2-1409\" dev=\"rpopma\" type=\"fix\" due-to=\"Shahan\">","621","        Fixed ArrayIndexOutOfBoundsException that may occur in ReusableParameterizedMessage.","622","      <\/action>","623","      <action issue=\"LOG4J2-997\" dev=\"rgoers\" type=\"fix\" due-to=\"Maytee Chinavanichkit\">","624","        Add filter and remove filter were not working properly in AbstractFilterable.","625","      <\/action>","626","      <action issue=\"LOG4J2-1032\" dev=\"rgoers\" type=\"fix\">","627","        Changed RenameAction to use java.nio to better report rename failures.","628","      <\/action>","629","      <action issue=\"LOG4J2-1407\" dev=\"ggregory\" type=\"fix\">","630","        Fixed misleading WARN log events from Log4j about message factories and unexpected formatting.","631","      <\/action>","632","      <action issue=\"LOG4J2-1408\" dev=\"ggregory\" type=\"fix\">","633","        Added the module log4j-liquibase to BOM POM.","634","      <\/action>","635","      <action issue=\"LOG4J2-1180\" dev=\"ggregory\" type=\"fix\">","636","        Logger cache now accounts for message factory.","637","      <\/action>","638","      <action issue=\"LOG4J2-1402\" dev=\"rgoers\" type=\"fix\">","639","        Fix regression in properties configuration to support arbitrary component ids.","640","      <\/action>","641","      <action issue=\"LOG4J2-1385\" dev=\"ggregory\" type=\"update\">","642","        (GC) CSV layouts should not create a new CSVPrinter for each log event. Requires Apache Commons CSV 1.4.","643","      <\/action>","644","      <action issue=\"LOG4J2-1398\" dev=\"ggregory\" type=\"update\">","645","        Update liquibase-core from 3.4.2 to 3.5.1.","646","      <\/action>","647","      <action issue=\"LOG4J2-1399\" dev=\"ggregory\" type=\"update\">","648","        Update Apache Commons CSV from 1.3 to 1.4.","649","      <\/action>","650","      <action issue=\"LOG4J2-1411\" dev=\"mattsicker\" type=\"add\">","651","        Added documentation about plugin builders compared to factories.","652","      <\/action>","653","      <action issue=\"LOG4J2-1394\" dev=\"mattsicker,mikes\" type=\"fix\">","654","        Fixed minor issues with the 2.6 web site.","655","      <\/action>","656","    <\/release>","657","    <release version=\"2.6\" date=\"2016-05-25\" description=\"GA Release 2.6\">","658","      <action issue=\"LOG4J2-1270\" dev=\"rpopma\" type=\"add\">","659","        (GC) Added support for garbage-free logging in steady state.","660","        This includes Async Loggers and logging synchronously to the console and to a file,","661","        but does not include the AsyncAppender. This release makes the GelfLayout and","662","        the main patterns in the PatternLayout garbage-free.","663","      <\/action>","664","      <action issue=\"LOG4J2-1297\" dev=\"rpopma\" type=\"add\">","665","        (GC) Added manual page on garbage-free logging.","666","      <\/action>","667","      <action issue=\"LOG4J2-1373\" dev=\"rpopma\" type=\"add\">","668","        (GC) Update Logger wrapper Generator tool to generate methods for the new Logger methods.","669","      <\/action>","670","      <action issue=\"LOG4J2-1356\" dev=\"mikes\" type=\"update\">","671","        (GC) GelfLayout does now support garabage-free logging (with compressionType=OFF).","672","      <\/action>","673","      <action issue=\"LOG4J2-1326\" dev=\"rpopma\" type=\"add\">","674","        (GC) Added methods to the Logger interface for logging CharSequence messages.","675","      <\/action>","676","      <action issue=\"LOG4J2-1344\" dev=\"rpopma\" type=\"add\">","677","        (GC) FileAppender, RollingFileAppender and MemoryMappedFileAppender are now also garbage-free by default.","678","      <\/action>","679","      <action issue=\"LOG4J2-1343\" dev=\"rpopma\" type=\"update\">","680","        (GC) ConsoleAppender is now garbage-free by default. This logic is reusable for all AbstractOutputStreamAppender subclasses.","681","      <\/action>","682","      <action issue=\"LOG4J2-1278\" dev=\"rpopma\" type=\"add\">","683","        (GC) Added unrolled varargs methods to Logger API, added Unbox utility to avoid auto-boxing when logging primitive values.","684","      <\/action>","685","      <action issue=\"LOG4J2-1318\" dev=\"rpopma\" type=\"update\">","686","        (GC) Avoid allocating unnecessary temporary objects in LoggerContext's getLogger methods.","687","      <\/action>","688","      <action issue=\"LOG4J2-1333\" dev=\"rpopma\" type=\"update\">","689","        (GC) Avoid allocating unnecessary temporary objects in MarkerManager's getMarker methods.","690","      <\/action>","691","      <action issue=\"LOG4J2-1321\" dev=\"rpopma\" type=\"update\">","692","        (GC) Avoid allocating unnecessary temporary objects in PatternLayout's NamePatternConverter and ClassNamePatternConverter.","693","      <\/action>","694","      <action issue=\"LOG4J2-1271\" dev=\"rpopma\" type=\"add\">","695","        (GC) Add MessageFactory that avoid allocation by reusing a cached ParameterizedMessage instance.","696","      <\/action>","697","      <action issue=\"LOG4J2-1271\" dev=\"rpopma\" type=\"update\">","698","        (GC) ParameterizedMessage optimizations to avoid or at least postpone allocating temporary objects.","699","      <\/action>","700","      <action issue=\"LOG4J2-1283\" dev=\"rpopma\" type=\"update\">","701","        (GC) Provide ThreadLocal-based gc-free caching mechanism in DatePatternConverter for non-webapps.","702","      <\/action>","703","      <action issue=\"LOG4J2-1293\" dev=\"rpopma\" type=\"add\">","704","        (GC) Add interface StringBuilderFormattable to enable converting Messages and parameters to text without allocating temporary objects.","705","        ParameterizedMessage, ObjectMessage, SimpleMessage and ThreadDumpMessage now implement StringBuilderFormattable.","706","      <\/action>","707","      <action issue=\"LOG4J2-1291\" dev=\"rpopma\" type=\"update\">","708","        (GC) Update PatternLayout to utilize gc-free mechanism for LogEvent processing.","709","      <\/action>","710","      <action issue=\"LOG4J2-1292\" dev=\"rpopma\" type=\"update\">","711","        (GC) Update RandomAccessFileAppender and RollingRandomAccessFileAppender to utilize gc-free Layout.encode() method.","712","      <\/action>","713","      <action issue=\"LOG4J2-1274\" dev=\"rpopma\" type=\"add\">","714","        (GC) Add encode(LogEvent, ByteBufferDestination) method to Layout API to enable converting LogEvents to bytes without creating temporary objects.","715","      <\/action>","716","      <action issue=\"LOG4J2-1281\" dev=\"rpopma\" type=\"fix\">","717","        (GC) LoggerConfig.getProperties() should not allocate on each call.","718","      <\/action>","719","      <action issue=\"LOG4J2-1272\" dev=\"rpopma\" type=\"update\">","720","        (GC) Improve LoggerConfig's data structure for AppenderControl objects to avoid allocating temporary objects during","721","        traversal for each log event.","722","      <\/action>","723","      <action issue=\"LOG4J2-1269\" dev=\"rpopma\" type=\"fix\">","724","        (GC) AsyncLogger should use thread-local translator by default.","725","      <\/action>","726","      <action issue=\"LOG4J2-623\" dev=\"rpopma\" type=\"fix\">","727","        Generate MDC properties as a JSON map in JSONLayout, with option to output as list of map entries.","728","      <\/action>","729","      <action issue=\"LOG4J2-1362\" dev=\"rpopma\" type=\"add\" due-to=\"Gary Gregory\">","730","        Added a YAML layout.","731","      <\/action>","732","      <action issue=\"LOG4J2-1387\" dev=\"rpopma\" type=\"fix\">","733","        Fixed memory leak related to shutdown hook.","734","      <\/action>","735","      <action issue=\"LOG4J2-1179\" dev=\"rpopma\" type=\"add\">","736","        Documented benchmark results comparing Log4j 2 performance to other logging libraries.","737","      <\/action>","738","      <action issue=\"LOG4J2-1382\" dev=\"rpopma\" type=\"fix\">","739","        Copying a MutableLogEvent using Log4jLogEvent.Builder should not unnecessarily obtain caller location information.","740","      <\/action>","741","      <action issue=\"LOG4J2-1011\" dev=\"mikes\" type=\"add\">","742","        Document dependencies for layouts.","743","      <\/action>","744","      <action issue=\"LOG4J2-621\" dev=\"ggregory\" type=\"add\" due-to=\"Lee Theobald, Kamal Mettananda, Gary Gregory\">","745","        Pattern to drop first N package parts.","746","      <\/action>","747","      <action issue=\"LOG4J2-494\" dev=\"rgoers\" type=\"add\" due-to=\"Philipp Knobel\">","748","        Support merging configurations to for a composite configuration.","749","      <\/action>","750","      <action issue=\"LOG4J2-1357\" dev=\"mikes\" type=\"add\">","751","        Option to not log stack traces for logged Throwables in GelfLayout.","752","      <\/action>","753","      <action issue=\"LOG4J2-1375\" dev=\"rpopma\" type=\"update\">","754","        Update SLF4J from 1.7.13 to 1.7.21.","755","      <\/action>","756","      <action issue=\"LOG4J2-1374\" dev=\"rpopma\" type=\"update\">","757","        Migrate tests from Logback 1.1.3 to 1.1.7.","758","      <\/action>","759","      <action issue=\"LOG4J2-1384\" dev=\"ggregory\" type=\"update\">","760","        Update Apache Commons CSV from 1.2 to 1.3.","761","      <\/action>","762","      <action issue=\"LOG4J2-1372\" dev=\"rgoers\" type=\"fix\" due-to=\"Kamal Mettananda, Gary Gregory\">","763","        XMLLayout indents, but not the first child tag (Event).","764","      <\/action>","765","      <action issue=\"LOG4J2-1363\" dev=\"rgoers\" type=\"fix\">","766","        Properties Configuration did not support includeLocation attribute on Loggers.","767","      <\/action>","768","      <action issue=\"LOG4J2-1263\" dev=\"rgoers\" type=\"fix\">","769","        The ConfigurationSource was not saved for BuiltConfigurations so monitor interval had no effect.","770","      <\/action>","771","      <action issue=\"LOG4J2-1369\" dev=\"ggregory\" type=\"fix\" due-to=\"Alex Birch, Gary Gregory\">","772","        \"xz\" compression results in plaintext, uncompressed files.","773","      <\/action>","774","      <action issue=\"LOG4J2-1365\" dev=\"mikes\" type=\"update\">","775","        (Log4j-internal) Provide message text as CharSequence for some message types to optimize some layouts.","776","      <\/action>","777","      <action issue=\"LOG4J2-1368\" dev=\"rpopma\" type=\"fix\">","778","        (Log4j-internal) StatusLogger dropped exceptions when logging parameterized messages.","779","      <\/action>","780","      <action issue=\"LOG4J2-1348\" dev=\"ggregory\" type=\"add\" due-to=\"Greg Thomas, Gary Gregory\">","781","        Add an AutoCloseable ThreadContext class: CloseableThreadContext.","782","      <\/action>","783","      <action issue=\"LOG4J2-1345\" dev=\"rpopma\" type=\"update\">","784","        (Doc) Clarify documentation for properties that control Log4j behaviour.","785","      <\/action>","786","      <action issue=\"LOG4J2-1336\" dev=\"ggregory\" type=\"fix\" due-to=\"Zbynek Vyskovsky\">","787","        LoggerFactory in 1.2 API module is not compatible with 1.2.","788","      <\/action>","789","      <action issue=\"LOG4J2-1354\" dev=\"ggregory\" type=\"fix\" due-to=\"Arkadiusz Adolph\">","790","        No configuration reload is triggered under Windows when replacing the configuration file with one that has older last modified date.","791","      <\/action>","792","      <action issue=\"LOG4J2-1346\" type=\"fix\">","793","        Exception from Log4jServletContextListener prevents jetty-maven-plugin run-forked.","794","      <\/action>","795","      <action issue=\"LOG4J2-1339\" dev=\"rpopma\" type=\"fix\">","796","        (Perf) AsyncLogger performance optimization: avoid calling instanceof TimestampMessage in hot path.","797","      <\/action>","798","      <action issue=\"LOG4J2-1324\" dev=\"rpopma\" type=\"fix\">","799","        Improve error handling in the Async Logger background thread: the new default exception handler no longer rethrows the error.","800","      <\/action>","801","      <action issue=\"LOG4J2-1309\" dev=\"ggregory\" type=\"fix\">","802","        Configuration file error does not show cause exception.","803","      <\/action>","804","      <action issue=\"LOG4J2-1299\" dev=\"ggregory\" type=\"add\">","805","        Add pattern converter for thread id and priority in PatternLayout.","806","      <\/action>","807","      <action issue=\"LOG4J2-1289\" dev=\"ggregory\" type=\"fix\">","808","        Change flow logging text from \"entry' to \"Enter\" and \"exit\" to \"Exit\".","809","      <\/action>","810","      <action issue=\"LOG4J2-1284\" dev=\"rpopma\" type=\"fix\">","811","        Made default MessageFactory configurable.","812","      <\/action>","813","      <action issue=\"LOG4J2-1280\" dev=\"ggregory\" type=\"fix\">","814","        Deprecate org.apache.logging.log4j.util.MessageSupplier.","815","      <\/action>","816","      <action issue=\"LOG4J2-1280\" dev=\"rpopma\" type=\"fix\">","817","        Logger methods taking Supplier parameters now correctly handle cases where the supplied value is a Message.","818","      <\/action>","819","      <action issue=\"LOG4J2-1268\" dev=\"rpopma\" type=\"fix\">","820","        FixedDateFormat was incorrect for formats having MMM with the French locale.","821","      <\/action>","822","      <action issue=\"LOG4J2-1255\" dev=\"rgoers\" type=\"update\">","823","        Add enhanced entry and exit methods.","824","      <\/action>","825","      <action issue=\"LOG4J2-124\" dev=\"rgoers\" type=\"add\">","826","        Add shutdown methods to LogManager.","827","      <\/action>","828","      <action issue=\"LOG4J2-1222\" dev=\"rgoers\" type=\"fix\">","829","        Creation of a LoggerContext will fail if shutdown is in progress. LogManager will default to SimpleLogger instead.","830","      <\/action>","831","      <action issue=\"LOG4J2-1221\" dev=\"rpopma\" type=\"add\" due-to=\"Michael Barker\">","832","        Added async logger Timeout wait strategy and made this the default wait strategy for async loggers.","833","        This prevents a rare deadlock that may occur on Solaris.","834","      <\/action>","835","      <action issue=\"LOG4J2-1080\" dev=\"rpopma\" type=\"add\">","836","        Added option to discard events below a certain log level if the async logger ring buffer","837","        or async appender queue is full.","838","      <\/action>","839","      <action issue=\"LOG4J2-1237\" dev=\"ggregory\" type=\"add\" due-to=\"Mike Calmus, Gary Gregory\">","840","        Make PatternLayout header and footer accept a pattern.","841","      <\/action>","842","      <action issue=\"LOG4J2-1244\" dev=\"ggregory\" type=\"add\" due-to=\"Anshu Garg, Remko Popma, Gary Gregory\">","843","        Make header and footer values customizable in JSONLayout.","844","      <\/action>","845","      <action issue=\"LOG4J2-1245\" dev=\"ggregory\" type=\"add\">","846","        Make CSV Layout header and footers accept patterns.","847","      <\/action>","848","      <action issue=\"LOG4J2-1192\" dev=\"ggregory\" type=\"add\" due-to=\"J?rg Bretschneider, Gary Gregory\">","849","        Dynamic Subject for SMTP Appender.","850","      <\/action>","851","      <action issue=\"LOG4J2-1277\" dev=\"ggregory\" type=\"add\" due-to=\"Gary Gregory, Ludovic Hochet\">","852","        FormattedMessage, MessageFormatMessage and StringFormattedMessage should support passing in a Locale to ensure appropriate formatting.","853","      <\/action>","854","      <action issue=\"LOG4J2-1260\" dev=\"ggregory\" type=\"fix\" due-to=\"Blake Day, Gary Gregory\">","855","        TlsSyslogFrame calculates message length incorrectly.","856","      <\/action>","857","      <action issue=\"LOG4J2-1258\" dev=\"ggregory\" type=\"fix\" due-to=\"Francis Lalonde\">","858","        Async DynamicThresholdFilter does not use the log event's context map.","859","      <\/action>","860","      <action issue=\"LOG4J2-1232\" dev=\"ggregory\" type=\"fix\" due-to=\"Nikolai\">","861","        Incorrect log rotation in last week of year.","862","      <\/action>","863","      <action issue=\"LOG4J2-1248\" dev=\"rpopma\" type=\"fix\">","864","        Fixed broken nanotime in pattern layout.","865","      <\/action>","866","      <action issue=\"LOG4J2-908\" dev=\"ggregory\" type=\"fix\" due-to=\"Konstantinos Liakos, Patrick Flaherty, Robin Coe, Gary Gregory\">","867","        JSONLayout doesn't add a comma between log events.","868","      <\/action>","869","      <action issue=\"LOG4J2-1230\" dev=\"ggregory\" type=\"fix\" due-to=\"Vladimir Hudec, Ralph Goers, Gary Gregory\">","870","        Don't concatenate SYSLOG Messages.","871","      <\/action>","872","      <action issue=\"LOG4J2-1238\" dev=\"ggregory\" type=\"fix\">","873","        org.apache.logging.log4j.core.net.TcpSocketManager and other classes does not report internal exceptions to the status logger.","874","      <\/action>","875","      <action issue=\"LOG4J2-1212\" dev=\"rpopma\" type=\"fix\">","876","        Fix documentation to specify the correct default wait strategy used by async loggers.","877","      <\/action>","878","      <action issue=\"LOG4J2-1215\" dev=\"ggregory\" type=\"fix\" due-to=\"Erik Kemperman\">","879","        Documentation\/XSD inconsistencies.","880","      <\/action>","881","      <action issue=\"LOG4J2-1276\" dev=\"ggregory\" type=\"fix\" due-to=\"Ludovic Hochet\">","882","        LoggerMessageSupplierTest and LoggerSupplierTest are Locale sensitive.","883","      <\/action>","884","      <action issue=\"LOG4J2-1380\" dev=\"ggregory\" type=\"update\">","885","        Update Jackson from 2.7.3 to 2.7.4.","886","      <\/action>","887","      <action issue=\"LOG4J2-1304\" dev=\"ggregory\" type=\"update\">","888","        Update Jackson from 2.7.0 to 2.7.2.","889","      <\/action>","890","      <action issue=\"LOG4J2-1253\" dev=\"ggregory\" type=\"update\">","891","        Update LMAX Disruptor from 3.3.2 to 3.3.4.","892","      <\/action>","893","      <action issue=\"LOG4J2-1219\" dev=\"ggregory\" type=\"update\">","894","        Update SLF4J from 1.7.12 to 1.7.13.","895","      <\/action>","896","      <action issue=\"LOG4J2-1239\" dev=\"ggregory\" type=\"update\">","897","        Update Jackson from 2.6.3 to 2.6.4.","898","      <\/action>","899","      <action issue=\"LOG4J2-1249\" dev=\"ggregory\" type=\"update\">","900","        Update Jackson from 2.6.4 to 2.7.0.","901","      <\/action>","902","      <action issue=\"LOG4J2-1351\" dev=\"ggregory\" type=\"update\">","903","        Update Jackson from 2.7.2 to 2.7.3.","904","      <\/action>","905","      <action issue=\"LOG4J2-1240\" dev=\"ggregory\" type=\"update\">","906","        Update Liquibase from 3.3.5 to 3.4.2.","907","      <\/action>","908","      <action issue=\"LOG4J2-1294\" dev=\"ggregory\" type=\"update\">","909","        Update Kafka client from 0.9.0.0 to 0.9.0.1.","910","      <\/action>","911","      <action issue=\"LOG4J2-1352\" dev=\"ggregory\" type=\"update\">","912","        Update javax.mail from 1.5.4 to 1.5.5.","913","      <\/action>","914","      <action issue=\"LOG4J2-1358\" dev=\"ggregory\" type=\"update\">","915","        Update Apache Commons Compress from 1.10 to 1.11.","916","      <\/action>","917","      <action issue=\"LOG4J2-1388\" dev=\"rpopma\" type=\"update\">","918","        Update Google java-allocation-instrumenter from 3.0 to 3.0.1.","919","      <\/action>","920","      <action issue=\"LOG4J2-1233\" dev=\"ggregory\" type=\"update\" due-to=\"Bahri Gencsoy\">","921","        Misleading Value In Properties Example.","922","      <\/action>","923","      <action issue=\"LOG4J2-1251\" dev=\"mattsicker\" type=\"fix\" due-to=\"Romain Manni-Bucau\">","924","        Fix JUL bridge issue where LogRecord.getParameters() is used when null.","925","      <\/action>","926","      <action issue=\"LOG4J2-1254\" dev=\"rpopma\" type=\"fix\" due-to=\"Josh Trow\">","927","        Fix typo in Flow Tracing documentation.","928","      <\/action>","929","      <action issue=\"LOG4J2-920\" dev=\"mattsicker\" type=\"fix\" due-to=\"Ludovic Hochet\">","930","        ClassNotFoundException for BundleContextSelector when initialising in an OSGi environment.","931","      <\/action>","932","      <action issue=\"LOG4J2-1300\" dev=\"mattsicker\" type=\"update\">","933","        Remove serializability from classes that don't need it.","934","      <\/action>","935","      <action issue=\"LOG4J2-1303\" dev=\"mattsicker\" type=\"add\">","936","        Add documentation links to runtime dependencies in each component intro page.","937","      <\/action>","938","      <action issue=\"LOG4J2-1275\" dev=\"mattsicker\" type=\"fix\" due-to=\"Ludovic Hochet\">","939","        Fix RollingAppenderNoUnconditionalDeleteTest repeat test runs from failing.","940","      <\/action>","941","      <action issue=\"LOG4J2-1262\" dev=\"mattsicker\" type=\"fix\">","942","        Stop throwing unnecessary exception in Log4jServletContextListener.contextDestroyed().","943","      <\/action>","944","      <action issue=\"LOG4J2-1252\" dev=\"mattsicker\" type=\"add\">","945","        JeroMqAppender should support layouts.","946","      <\/action>","947","      <action issue=\"LOG4J2-1227\" dev=\"mattsicker\" type=\"fix\" due-to=\"Olivier Lemasle\">","948","        NullPointerException in MapLookup.lookup if the event is null.","949","      <\/action>","950","      <action issue=\"LOG4J2-1306\" dev=\"mattsicker\" type=\"update\">","951","        JeroMqAppender should use ShutdownCallbackRegistry instead of runtime hooks.","952","      <\/action>","953","      <action issue=\"LOG4J2-1217\" dev=\"mattsicker\" type=\"add\" due-to=\"Thies Wellpott\">","954","        PatternLayout option to limit length of text.","955","      <\/action>","956","      <action issue=\"LOG4J2-1308\" dev=\"mattsicker\" type=\"update\">","957","        Remove need to pre-specify appender et al. identifiers in property file config format.","958","      <\/action>","959","      <action issue=\"LOG4J2-1050\" dev=\"mattsicker\" type=\"fix\" due-to=\"Adam Retter\">","960","        Add a Log4jLookup class to help write log files relative to log4j2.xml.","961","      <\/action>","962","      <action issue=\"LOG4J2-1133\" dev=\"mattsicker\" type=\"add\">","963","        Add JNDI lookup documentation.","964","      <\/action>","965","      <action issue=\"LOG4J2-1310\" dev=\"mattsicker\" type=\"fix\">","966","        JndiLookup mindlessly casts to String and should use String.valueOf().","967","      <\/action>","968","      <action issue=\"LOG4J2-1206\" dev=\"mattsicker\" type=\"update\">","969","        org.apache.logging.log4j.core.LoggerContext#updateLoggers should call firePropertyChangeEvent.","970","      <\/action>","971","      <action issue=\"LOG4J2-248\" dev=\"mattsicker\" type=\"fix\">","972","        Log4jWebInitializerImpl: Use Thread instead of Class for fallback classloader.","973","      <\/action>","974","      <action issue=\"LOG4J2-1169\" dev=\"mattsicker\" type=\"add\" due-to=\"Gerald Kritzinger\">","975","        PatternLayout: Possible variable substitution in equals substitution parameter.","976","      <\/action>","977","      <action issue=\"LOG4J2-1322\" dev=\"mattsicker\" type=\"update\">","978","        Update Log4j 1.x migration guide to include information about system property lookup syntax changes.","979","      <\/action>","980","      <action issue=\"LOG4J2-1330\" dev=\"mattsicker\" type=\"fix\">","981","        Fix NoClassDefFoundError in ReflectionUtil on Google App Engine.","982","      <\/action>","983","    <\/release>","984","    <release version=\"2.5\" date=\"2015-12-06\" description=\"GA Release 2.5\">","985","      <action issue=\"LOG4J2-324\" dev=\"rpopma\" type=\"fix\">","986","        Reduced memory usage of status messages in bounded queue; support zero-length queue that stores no messages.","987","      <\/action>","988","      <action issue=\"LOG4J2-1173\" dev=\"rpopma\" type=\"fix\">","989","        Fixed rollover error when copying to a directory mapped to a remote Linux host.","990","      <\/action>","991","      <action issue=\"LOG4J2-435\" dev=\"rpopma\" type=\"add\" due-to=\"Robert Schaft\">","992","        Added support for custom delete actions triggered by a rollover.","993","      <\/action>","994","      <action issue=\"LOG4J2-649\" dev=\"rgoers\" type=\"update\" due-to=\"Aleksey Zvolinsky\">","995","        Add PurgePolicy and IdlePurgePolicy to RoutingAppender.","996","      <\/action>","997","      <action issue=\"LOG4J2-1202\" dev=\"rgoers\" type=\"update\">","998","        Remove ConfigurationMonitor. The WatchManager is now used to check for configuration changes.","999","      <\/action>","1000","      <action issue=\"LOG4J2-1195\" dev=\"mikes\" type=\"fix\" due-to=\"Melvin Du\">","1001","        Make KafkaAppender support SerializedLayout.","1002","      <\/action>","1003","      <action issue=\"LOG4J2-89\" dev=\"rgoers\" type=\"add\">","1004","        Allow rollover to occur at any time. Add CronTriggeringPolicy.","1005","      <\/action>","1006","      <action issue=\"LOG4J2-381\" dev=\"rgoers\" type=\"fix\" due-to=\"Anthony Baldocchi\">","1007","        Allow triggering policy and rollover strategy to be modified during reconfiguration.","1008","      <\/action>","1009","      <action issue=\"LOG4J2-1136\" dev=\"rgoers\" type=\"add\">","1010","        Add support for JSR 223 scripts in filters and the PatternSelector.","1011","      <\/action>","1012","      <action issue=\"LOG4J2-1168\" dev=\"ggregory\" type=\"add\" due-to=\"Steven Swor\">","1013","        Add getters for source and destination file in file rename action.","1014","      <\/action>","1015","      <action issue=\"LOG4J2-1175\" dev=\"ggregory\" type=\"add\">","1016","        Add getters for classes in org.apache.logging.log4j.core.appender.rolling.action.","1017","      <\/action>","1018","      <action issue=\"LOG4J2-898\" dev=\"rpopma\" type=\"add\">","1019","        Added system property to allow users to control whether messages should be formatted in the background.","1020","      <\/action>","1021","      <action issue=\"LOG4J2-1178\" dev=\"ggregory\" type=\"add\">","1022","        Support use-case for JDBC's CommonDataSource.setLogWriter(PrintWriter) and java.sql.DriverManager.setLogWriter(PrintWriter).","1023","      <\/action>","1024","      <action issue=\"LOG4J2-1187\" dev=\"ggregory\" type=\"add\">","1025","        Support use case for java.sql.DriverManager.setLogStream(PrintStream).","1026","      <\/action>","1027","      <action issue=\"LOG4J2-1029\" dev=\"rpopma\" type=\"fix\" due-to=\"Stefan Leonhartsberger\">","1028","        Performance improvement when gathering location information.","1029","      <\/action>","1030","      <action issue=\"LOG4J2-1172\" dev=\"rpopma\" type=\"fix\">","1031","        Fixed ThreadLocal leak [AsyncLogger$Info] on Tomcat when using AsyncLoggerContextSelector.","1032","      <\/action>","1033","      <action issue=\"LOG4J2-1176\" dev=\"rpopma\" type=\"fix\">","1034","        Fixed memory leak when log4j jars are in Tomcat's lib folder.","1035","      <\/action>","1036","      <action issue=\"LOG4J2-1180\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">","1037","        Logger cache does not account for message factory.","1038","      <\/action>","1039","      <action issue=\"LOG4J2-879\" dev=\"rpopma\" type=\"fix\">","1040","        Documentation: fixed minor issues with the site and manual pages.","1041","      <\/action>","1042","      <action issue=\"LOG4J2-999\" dev=\"rpopma\" type=\"fix\" due-to=\"Joan Balaguer¨®\">","1043","        RollingFileAppender should also roll over when log event time is equal to rollover time, not only when later.","1044","      <\/action>","1045","      <action issue=\"LOG4J2-873\" dev=\"rpopma\" type=\"fix\" due-to=\"Martin Dickins, LC, Luke Woodward\">","1046","        Fixed bug where omitting the &lt;display-name&gt; element in web.xml caused incorrect log4j initialization,","1047","        resulting in memory leaks when the web application was stopped or reloaded.","1048","      <\/action>","1049","      <action issue=\"LOG4J2-323\" dev=\"rpopma\" type=\"fix\">","1050","        Better web app support for async loggers: Fixed a memory leak that occurred when the logging jars are placed","1051","        in the container's classpath and the configuration file uses AsyncRoot\/AsyncLogger.","1052","        The problem was that the first web application started the Disruptor background thread [AsyncLoggerConfig-1] but did not stop it until all web apps are stopped.","1053","        Each web application now has its own Disruptor which is stopped\/started together with the web app.","1054","      <\/action>","1055","      <action issue=\"LOG4J2-493\" dev=\"rpopma\" type=\"fix\">","1056","        Better web app support for async loggers: it is now possible to place the logging jars in the container's","1057","        classpath when making all loggers asynchronous by using AsyncLoggerContextSelector. This fixes a problem where","1058","        logging would stop working after stopping and restarting a web application.","1059","      <\/action>","1060","      <action issue=\"LOG4J2-1171\" dev=\"rpopma\" type=\"fix\">","1061","        Use servlet context name for logger context name when available.","1062","      <\/action>","1063","      <action issue=\"LOG4J2-1159\" dev=\"rpopma\" type=\"fix\">","1064","        Fixed a ThreadLocal memory leak in Tomcat8 that mentions AsyncLoggers when Async Loggers are not used.","1065","      <\/action>","1066","      <action issue=\"LOG4J2-1166\" dev=\"rpopma\" type=\"fix\">","1067","        AbstractConfiguration executor should use a DaemonThreadFactory.","1068","      <\/action>","1069","      <action issue=\"LOG4J2-1165\" dev=\"rpopma\" type=\"fix\">","1070","        Improve Log4j initialization status messages.","1071","      <\/action>","1072","      <action issue=\"LOG4J2-1156\" dev=\"rpopma\" type=\"fix\">","1073","        Web site corrections and updates.","1074","      <\/action>","1075","      <action issue=\"LOG4J2-1158\" dev=\"ggregory\" type=\"fix\" due-to=\"Michael Fortin, Gary Gregory\">","1076","        Log4J JUL adapter is using MessageFormat on String passed by java.util.function.Supplier&lt;String>.","1077","      <\/action>","1078","      <action issue=\"LOG4J2-801\" dev=\"mattsicker\" type=\"fix\">","1079","        org.apache.logging.log4j.core.Logger should be serializable.","1080","      <\/action>","1081","      <action issue=\"LOG4J2-1157\" dev=\"mattsicker\" type=\"fix\" due-to=\"Norbert Bartels\">","1082","        Fix compilation error for classes annotated with @Plugin.","1083","      <\/action>","1084","      <action issue=\"LOG4J2-948\" dev=\"mattsicker\" type=\"fix\" due-to=\"Andrew Flower\">","1085","        Fix plugin documentation error about Converters.","1086","      <\/action>","1087","      <action issue=\"LOG4J2-1193\" dev=\"ggregory\" type=\"fix\">","1088","        Prefix all thread names Log4j creates with \"Log4j2-\".","1089","      <\/action>","1090","      <action issue=\"LOG4J2-1194\" dev=\"ggregory\" type=\"fix\" due-to=\"Adam Brin\">","1091","        Documentation does not match parameters for LoggerNameLevelRewritePolicy.","1092","      <\/action>","1093","      <action issue=\"LOG4J2-1196\" dev=\"mattsicker\" type=\"fix\" due-to=\"Ren¨¦ Zanner\">","1094","        MongoDbConnection does not close MongoClient.","1095","      <\/action>","1096","      <action issue=\"LOG4J2-1174\" dev=\"ggregory\" type=\"update\">","1097","        Update Jackson from 2.6.2 to 2.6.3.","1098","      <\/action>","1099","      <action issue=\"LOG4J2-1207\" dev=\"ggregory\" type=\"update\">","1100","        Update kafka-clients from 0.8.2.2 to 0.9.0.0.","1101","      <\/action>","1102","    <\/release>","1103","    <release version=\"2.4.1\" date=\"2015-10-08\" description=\"GA Release 2.4.1\">","1104","      <action issue=\"LOG4J2-1129\" dev=\"rgoers\" type=\"add\">","1105","        Allow PatternLayout to select a pattern to use based on some selection criteria.","1106","      <\/action>","1107","      <action issue=\"LOG4J2-1145\" dev=\"ggregory\" type=\"add\">","1108","        Add %equals to PatternLayout to test and replace patterns with strings.","1109","      <\/action>","1110","      <action issue=\"LOG4J2-1147\" dev=\"ggregory\" type=\"add\">","1111","        Add %equalsIgnoreCase to PatternLayout to test and replace patterns with strings.","1112","      <\/action>","1113","      <action issue=\"LOG4J2-1146\" dev=\"ggregory\" type=\"add\">","1114","        Add %notEmpty to PatternLayout to avoid output of patterns where all variables are empty.","1115","      <\/action>","1116","      <action issue=\"LOG4J2-1020\" dev=\"mikes\" type=\"add\">","1117","        Add possibility to set shutdown timeout on AsyncAppender.","1118","      <\/action>","1119","      <action issue=\"LOG4J2-1153\" dev=\"rpopma\" type=\"fix\">","1120","        Fixed NullPointerException when only root logger is defined (and no named loggers) in configuration properties file.","1121","      <\/action>","1122","      <action issue=\"LOG4J2-1140\" dev=\"rpopma\" type=\"fix\">","1123","        Fixed bug where headers were not being written to first file with RollingFileAppender.","1124","      <\/action>","1125","      <action issue=\"LOG4J2-1149\" dev=\"rpopma\" type=\"fix\">","1126","        Fixed bug where PatternLayout predefined date pattern with time zone always renders default date format.","1127","      <\/action>","1128","      <action issue=\"LOG4J2-1050\" dev=\"rpopma\" type=\"fix\">","1129","        Fixed Log4jLookup.","1130","      <\/action>","1131","      <action issue=\"LOG4J2-1142\" dev=\"rpopma\" type=\"fix\">","1132","        Fix potential memory leak in web applications by using a straight ThreadLocal field instead of subclassing ThreadLocal.","1133","      <\/action>","1134","      <action issue=\"LOG4J2-1135\" dev=\"rpopma\" type=\"fix\">","1135","        Compression on rollover was broken: log file was renamed to .zip but not compressed.","1136","      <\/action>","1137","      <action issue=\"LOG4J2-1127\" dev=\"ggregory\" type=\"fix\">","1138","        log4j2.xml cannot be parsed on Oracle Weblogic 12c.","1139","      <\/action>","1140","      <action issue=\"LOG4J2-1132\" dev=\"ggregory\" type=\"fix\">","1141","        Do not use MongoDB driver 2.13.3 deprecated methods.","1142","      <\/action>","1143","      <action issue=\"LOG4J2-1144\" dev=\"ggregory\" type=\"fix\">","1144","        Add %markerSimpleName in pattern layout should evaluate to marker name (not toString()).","1145","      <\/action>","1146","      <action issue=\"LOG4J2-1126\" dev=\"ggregory\" type=\"fix\">","1147","        Web site corrections and updates.","1148","      <\/action>","1149","      <action issue=\"LOG4J2-1151\" dev=\"rpopma\" type=\"update\">","1150","        Performance improvement: backport Java 8 fast ISO-8859-1 String to byte[] encoder to AbstractStringLayout.","1151","      <\/action>","1152","      <action issue=\"LOG4J2-935\" dev=\"rpopma\" type=\"update\">","1153","        Performance improvement when converting Strings to byte[] arrays.","1154","      <\/action>","1155","      <action issue=\"LOG4J2-1040\" dev=\"ggregory\" type=\"update\">","1156","        Update MongoDB driver from 2.13.3 to 3.0.4.","1157","      <\/action>","1158","      <action issue=\"LOG4J2-1128\" dev=\"ggregory\" type=\"update\">","1159","        Reuse StringBuilder to improve performance for String-based layouts: CSV, GELF, HTML, RFC524, Syslog.","1160","      <\/action>","1161","      <action issue=\"LOG4J2-1131\" dev=\"ggregory\" type=\"update\">","1162","        Update mongo-java-driver from 2.13.2 to 2.13.3.","1163","      <\/action>","1164","      <action issue=\"LOG4J2-1138\" dev=\"ggregory\" type=\"update\">","1165","        Do not use Jackson deprecated methods.","1166","      <\/action>","1167","      <action issue=\"LOG4J2-1139\" dev=\"ggregory\" type=\"update\">","1168","        Update Jackson from 2.6.1 to 2.6.2.","1169","      <\/action>","1170","      <action issue=\"LOG4J2-1150\" dev=\"ggregory\" type=\"update\">","1171","        Update kafka-clients from 0.8.2.1 to 0.8.2.2.","1172","      <\/action>","1173","    <\/release>","1174","    <release version=\"2.4\" date=\"2015-09-20\" description=\"GA Release 2.4\">","1175","      <action issue=\"LOG4J2-635\" dev=\"rgoers\" type=\"add\">","1176","        Add support for configuration via Properties.","1177","      <\/action>","1178","      <action issue=\"LOG4J2-952\" dev=\"rgoers\" type=\"add\">","1179","        Add ConfigurationBuilder for programmatic configuration.","1180","      <\/action>","1181","      <action issue=\"LOG4J2-1017\" dev=\"ggregory\" type=\"update\">","1182","        Update Java platform from Java 6 to 7. From this version onwards, log4j 2 requires Java 7.","1183","      <\/action>","1184","      <action issue=\"LOG4J2-599\" dev=\"rpopma\" type=\"add\">","1185","        Added support for Java 8 lambda expressions to lazily construct a log message only if","1186","              the requested log level is enabled.","1187","      <\/action>","1188","      <action issue=\"LOG4J2-1118\" dev=\"rpopma\" type=\"add\">","1189","        Updated Logger wrapper generator tool to add Java 8 lambda support for custom log levels.","1190","      <\/action>","1191","      <action issue=\"LOG4J2-1107\" dev=\"ggregory\" type=\"add\" due-to=\"Mikael St?ldal\">","1192","        New Appender for Apache Kafka.","1193","      <\/action>","1194","      <action issue=\"LOG4J2-1113\" dev=\"ggregory\" type=\"add\" due-to=\"Gary Gregory\">","1195","        New publisher Appender for ZeroMQ (using JeroMQ).","1196","      <\/action>","1197","      <action issue=\"LOG4J2-1088\" dev=\"ggregory\" type=\"add\" due-to=\"Gary Gregory\">","1198","        Add Comma Separated Value (CSV) layouts for parameter and event logging.","1199","      <\/action>","1200","      <action issue=\"LOG4J2-812\" dev=\"rgoers\" type=\"update\">","1201","        PatternLayout timestamp formatting performance improvement: replaced synchronized SimpleDateFormat with","1202","        Apache Commons FastDateFormat. This and better caching resulted in a ~3-30X faster timestamp formatting.","1203","      <\/action>","1204","      <action issue=\"LOG4J2-1097\" dev=\"rpopma\" type=\"update\">","1205","        PatternLayout timestamp formatting performance improvement: predefined date formats (and variants using","1206","        a period '.' millisecond separator instead of ',') are now formatted ~2-10X faster than other date formats.","1207","      <\/action>","1208","      <action issue=\"LOG4J2-1096\" dev=\"rpopma\" type=\"update\">","1209","        Improved performance of ParameterizedMessage::getFormattedMessage by ~2X.","1210","      <\/action>","1211","      <action issue=\"LOG4J2-1120\" dev=\"rpopma\" type=\"update\">","1212","        LoggerConfig performance improvements: avoid unnecessary lock acquisition, use more efficient data structure.","1213","      <\/action>","1214","      <action issue=\"LOG4J2-1125\" dev=\"rpopma\" type=\"update\">","1215","        PatternLayout performance improvement by caching and reusing a ThreadLocal StringBuilder.","1216","      <\/action>","1217","      <action issue=\"LOG4J2-1121\" dev=\"rpopma\" type=\"fix\">","1218","        Fixed potential race condition on reconfiguration. Introduced ReliabilityStrategy to facilitate","1219","        switching between different mechanisms for preventing log events from being dropped on reconfiguration.","1220","      <\/action>","1221","      <action issue=\"LOG4J2-1114\" dev=\"ggregory\" type=\"update\">","1222","        Add thread name to status logger layout.","1223","      <\/action>","1224","      <action issue=\"LOG4J2-1123\" dev=\"ggregory\" type=\"fix\">","1225","        Core Configurator.initialize(String, ClassLoader, String) fails to work when config location is a file path.","1226","      <\/action>","1227","      <action issue=\"LOG4J2-1117\" dev=\"ggregory\" type=\"fix\" due-to=\"Marcus Thiesen\">","1228","        OutputStreamManager in ConsoleAppender leaking managers.","1229","      <\/action>","1230","      <action issue=\"LOG4J2-1044\" dev=\"rgoers\" type=\"fix\">","1231","        Write pending events to Flume when the appender is stopped.","1232","      <\/action>","1233","      <action issue=\"LOG4J2-1108\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">","1234","        NullPointerException when passing null to java.util.logging.Logger.setLevel().","1235","      <\/action>","1236","      <action issue=\"LOG4J2-1110\" dev=\"ggregory\" type=\"fix\">","1237","        org.apache.logging.log4j.jul.CoreLogger.setLevel() checks for security permission too late.","1238","      <\/action>","1239","      <action dev=\"rpopma\" type=\"remove\">","1240","        Removed experimental interface LevelLogger which got committed to master by mistake.","1241","      <\/action>","1242","      <action issue=\"LOG4J2-1010\" dev=\"rgoers\" type=\"update\">","1243","        Pass log event when interpolating logger properties.","1244","      <\/action>","1245","      <action issue=\"LOG4J2-1090\" dev=\"ggregory\" type=\"add\">","1246","        Add Core Configurator APIs to change a logger's level.","1247","      <\/action>","1248","      <action issue=\"LOG4J2-1105\" dev=\"ggregory\" type=\"add\" due-to=\"Gary Gregory\">","1249","        Add API org.apache.logging.log4j.Level.isInRange(Level, Level).","1250","      <\/action>","1251","      <action issue=\"LOG4J2-1106\" dev=\"ggregory\" type=\"add\" due-to=\"Gary Gregory\">","1252","        Add a LevelRangeFilter class.","1253","      <\/action>","1254","      <action issue=\"LOG4J2-1074\" dev=\"rpopma\" type=\"add\">","1255","        Added support for system nanosecond time in pattern layout.","1256","      <\/action>","1257","      <action issue=\"LOG4J2-1075\" dev=\"rpopma\" type=\"add\">","1258","        Added support for compressing to bzip2 format on file rollover.","1259","      <\/action>","1260","      <action issue=\"LOG4J2-1077\" dev=\"ggregory\" type=\"add\">","1261","        Support additional Apache Commons Compress compression formats on rollover: Deflate, Pack200, XY.","1262","      <\/action>","1263","      <action issue=\"LOG4J2-767\" dev=\"ggregory\" type=\"add\" due-to=\"Mikael St?ldal\">","1264","        New module for Liquibase integration.","1265","      <\/action>","1266","      <action issue=\"LOG4J2-1023\" dev=\"ggregory\" type=\"add\" due-to=\"Mikael St?ldal\">","1267","        New RewritePolicy for changing level of a log event.","1268","      <\/action>","1269","      <action issue=\"LOG4J2-1015\" dev=\"ggregory\" type=\"add\" due-to=\"Daniel Marcotte\">","1270","        Add a way to route messages based on the %marker in Layout for RoutingAppender.","1271","      <\/action>","1272","      <action issue=\"LOG4J2-1050\" dev=\"ggregory\" type=\"add\" due-to=\"Adam Retter\">","1273","        Add a Log4jLookup class to help write log files relative to log4j2.xml.","1274","      <\/action>","1275","      <action issue=\"LOG4J2-1057\" dev=\"ggregory\" type=\"add\">","1276","        Add API org.apache.logging.log4j.LogManager.getFormatterLogger().","1277","      <\/action>","1278","      <action issue=\"LOG4J2-1066\" dev=\"ggregory\" type=\"add\" due-to=\"Charles Allen\">","1279","        Expose Log4jContextFactory's ShutdownCallbackRegistry.","1280","      <\/action>","1281","      <action issue=\"LOG4J2-1084\" dev=\"ggregory\" type=\"fix\" due-to=\"Philipp Schneider\">","1282","        Misleading StatusLogger WARN event in LogManager with java.util.Map.","1283","      <\/action>","1284","      <action issue=\"LOG4J2-1051\" dev=\"ggregory\" type=\"fix\" due-to=\"Lukasz Lenart\">","1285","        NoClassDefFoundError when starting app on Google App Engine.","1286","      <\/action>","1287","      <action issue=\"LOG4J2-684\" dev=\"ggregory\" type=\"fix\" due-to=\"Joern Huxhorn, Mauro Molinari\">","1288","        ExtendedThrowablePatternConverter does not print suppressed exceptions.","1289","      <\/action>","1290","      <action issue=\"LOG4J2-1069\" dev=\"ggregory\" type=\"fix\" due-to=\"Sam Braam\">","1291","        Improper handling of JSON escape chars when deserializing JSON log events.","1292","      <\/action>","1293","      <action issue=\"LOG4J2-1068\" dev=\"ggregory\" type=\"fix\" due-to=\"Andy McMullan\">","1294","        Exceptions not logged when using TcpSocketServer + SerializedLayout.","1295","      <\/action>","1296","      <action issue=\"LOG4J2-1067\" dev=\"ggregory\" type=\"fix\" due-to=\"Sam Braam\">","1297","        ThrowableProxy getExtendedStackTraceAsString throws NPE on deserialized nested exceptions.","1298","      <\/action>","1299","      <action issue=\"LOG4J2-1049\" dev=\"rpopma\" type=\"fix\" due-to=\"Robert Schaft\">","1300","        AsyncAppender now resets the thread interrupted flag after catching InterruptedException.","1301","      <\/action>","1302","      <action issue=\"LOG4J2-1048\" dev=\"rpopma\" type=\"fix\" due-to=\"Nikhil\">","1303","        FileConfigurationMonitor unnecessarily calls System.currentTimeMillis() causing high CPU usage.","1304","      <\/action>","1305","      <action issue=\"LOG4J2-1037\" dev=\"ggregory\" type=\"fix\" due-to=\"Marc Dergacz\">","1306","        Backward compatibility issue in log4j-1.2-api NDC pop() and peek().","1307","      <\/action>","1308","      <action issue=\"LOG4J2-1025\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">","1309","        Custom java.util.logging.Level gives null Log4j Level and causes NPE.","1310","      <\/action>","1311","      <action issue=\"LOG4J2-1033\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">","1312","        SimpleLogger creates unnecessary Map objects by calling ThreadContext.getContext() instead of getImmutableContext().","1313","      <\/action>","1314","      <action issue=\"LOG4J2-1026\" dev=\"ggregory\" type=\"fix\">","1315","        HighlightConverter does not obey noConsoleNoAnsi.","1316","      <\/action>","1317","      <action issue=\"LOG4J2-1019\" dev=\"ggregory\" type=\"fix\">","1318","        ZipCompressAction leaves files open until GC when an IO error takes place.","1319","      <\/action>","1320","      <action issue=\"LOG4J2-1020\" dev=\"ggregory\" type=\"fix\">","1321","        GzCompressAction leaves files open until GC when an IO error takes place.","1322","      <\/action>","1323","      <action issue=\"LOG4J2-1038\" dev=\"ggregory\" type=\"fix\" due-to=\"Gili\">","1324","        Incorrect documentation for layout default charset.","1325","      <\/action>","1326","      <action issue=\"LOG4J2-1042\" dev=\"ggregory\" type=\"fix\" due-to=\"Guillaume Turri\">","1327","        Socket and Syslog appenders don't take timeout into account at startup.","1328","      <\/action>","1329","      <action issue=\"LOG4J2-934\" dev=\"ggregory\" type=\"fix\" due-to=\"Kenneth Gendron\">","1330","        Circular suppressed Exception throws StackOverflowError.","1331","      <\/action>","1332","      <action issue=\"LOG4J2-1046\" dev=\"ggregory\" type=\"fix\" due-to=\"Kenneth Gendron\">","1333","        Circular Exception cause throws StackOverflowError.","1334","      <\/action>","1335","      <action issue=\"LOG4J2-982\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikhail Mazurskiy\">","1336","        Use System.nanoTime() to measure time intervals.","1337","      <\/action>","1338","      <action issue=\"LOG4J2-1045\" dev=\"ggregory\" type=\"fix\" due-to=\"G¨¹nter Albrecht\">","1339","        Externalize log4j2.xml via URL resource.","1340","      <\/action>","1341","      <action issue=\"LOG4J2-1058\" dev=\"ggregory\" type=\"fix\" due-to=\"Daniel Branzea\">","1342","        Log4jMarker#contains(String) does not respect org.slf4j.Marker contract.","1343","      <\/action>","1344","      <action issue=\"LOG4J2-1060\" dev=\"ggregory\" type=\"fix\">","1345","        Log4jMarker#contains(Marker) does not respect org.slf4j.Marker contract.","1346","      <\/action>","1347","      <action issue=\"LOG4J2-1061\" dev=\"ggregory\" type=\"fix\">","1348","        Log4jMarker#remove(Marker) does not respect org.slf4j.Marker contract.","1349","      <\/action>","1350","      <action issue=\"LOG4J2-1062\" dev=\"ggregory\" type=\"fix\">","1351","        Log4jMarker#add(Marker) does not respect org.slf4j.Marker contract.","1352","      <\/action>","1353","      <action issue=\"LOG4J2-1064\" dev=\"ggregory\" type=\"fix\">","1354","        org.apache.logging.slf4j.Log4jMarker does not implement org.slf4j.Marker.equals(Object) org.slf4j.Marker.hashCode().","1355","      <\/action>","1356","      <action issue=\"LOG4J2-889\" dev=\"rpopma\" type=\"fix\" due-to=\"Maciej Kara?, Kenneth Leider\">","1357","        Header in layout should not be written on application startup if appending to an existing file. Fixes LOG4J2-1030.","1358","      <\/action>","1359","      <action issue=\"LOG4J2-918\" dev=\"rpopma\" type=\"fix\">","1360","        Clarify documentation for combining async with sync loggers.","1361","      <\/action>","1362","      <action issue=\"LOG4J2-1078\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">","1363","        GelfLayout throws exception if some log event fields are null.","1364","      <\/action>","1365","      <action issue=\"LOG4J2-1044\" dev=\"rgoers\" type=\"update\">","1366","        Support batchSize in FlumeAvroManager.","1367","      <\/action>","1368","      <action issue=\"LOG4J2-1065\" dev=\"ggregory\" type=\"update\">","1369","        Define org.apache.logging.log4j.Marker.equals(Object) and org.apache.logging.log4j.Marker.hashCode().","1370","      <\/action>","1371","      <action issue=\"LOG4J2-1063\" dev=\"ggregory\" type=\"update\">","1372","        Avoid creating temporary array object in org.apache.logging.slf4j.Log4jMarker.iterator().","1373","      <\/action>","1374","      <action issue=\"LOG4J2-890\" dev=\"ggregory\" type=\"update\" due-to=\"Hassan Kalaldeh, Robert Andersson, Remko Popma\">","1375","        log4j-web-2.1 should workaround a bug in JBOSS EAP 6.2.","1376","      <\/action>","1377","      <action issue=\"LOG4J2-403\" dev=\"ggregory\" type=\"update\" due-to=\"Poorna Subhash P, Jeremy Lautman\">","1378","        MongoDB appender, username and password should be optional.","1379","      <\/action>","1380","      <action issue=\"LOG4J2-1035\" dev=\"ggregory\" type=\"update\">","1381","        Log4j2 tries to SystemClassLoader when running on Google AppEngine.","1382","      <\/action>","1383","      <action issue=\"LOG4J2-1022\" dev=\"rgoers\" type=\"update\">","1384","        Allow a list of keys to be specified in the MDC pattern converter.","1385","      <\/action>","1386","      <action issue=\"LOG4J2-959\" dev=\"ggregory\" type=\"update\">","1387","        Fix FindBugs DM_DEFAULT_ENCODING bug in SimpleLogger.logMessage() and simplify code.","1388","      <\/action>","1389","      <action issue=\"LOG4J2-1036\" dev=\"ggregory\" type=\"update\">","1390","        Update Apache Flume from 1.5.2 to 1.6.0.","1391","      <\/action>","1392","      <action issue=\"LOG4J2-1041\" dev=\"ggregory\" type=\"update\">","1393","        Update MongoDB driver from 2.11.2 to 2.13.2.","1394","      <\/action>","1395","      <action issue=\"LOG4J2-1018\" dev=\"ggregory\" type=\"update\">","1396","        Update database tests from H2 1.3.175 to 1.3.176.","1397","      <\/action>","1398","      <action issue=\"LOG4J2-1070\" dev=\"ggregory\" type=\"update\">","1399","        Update Java Mail from 1.5.2 to 1.5.4.","1400","      <\/action>","1401","      <action issue=\"LOG4J2-1079\" dev=\"ggregory\" type=\"update\">","1402","        Update Jackson from 2.5.3 to 2.5.4.","1403","      <\/action>","1404","      <action issue=\"LOG4J2-1879\" dev=\"ggregory\" type=\"update\">","1405","        Update Jackson from 2.5.4 to 2.6.0.","1406","      <\/action>","1407","      <action issue=\"LOG4J2-1092\" dev=\"ggregory\" type=\"update\">","1408","        Update Jackson from 2.6.0 to 2.6.1.","1409","      <\/action>","1410","      <action issue=\"LOG4J2-1104\" dev=\"ggregory\" type=\"update\">","1411","        Update Apache Commons Compress from 1.9 to 1.10.","1412","      <\/action>","1413","    <\/release>","1414","    <release version=\"2.3\" date=\"2015-05-09\" description=\"GA Release 2.3\">","1415","      <action issue=\"LOG4J2-1009\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikael St?ldal\">","1416","        Incorrectly defined compressionType parameter to GelfLayout.","1417","      <\/action>","1418","      <action issue=\"LOG4J2-1008\" dev=\"ggregory\" type=\"fix\" due-to=\"Ralph Goers, Gary Gregory\">","1419","        org.apache.logging.log4j.core.config.plugins.util.ResolverUtil.extractPath(URL) incorrectly converts '+' characters to spaces.","1420","      <\/action>","1421","      <action issue=\"LOG4J2-1007\" dev=\"ggregory\" type=\"fix\" due-to=\"Ralph Goers, Gary Gregory\">","1422","        org.apache.logging.log4j.core.util#fileFromUri(URI uri) incorrectly converts '+' characters to spaces.","1423","      <\/action>","1424","      <action issue=\"LOG4J2-1003\" dev=\"ggregory\" type=\"fix\" due-to=\"Dan Armbrust\">","1425","        JUL Logger.throwing is mis-mapped to ERROR when it should be TRACE.","1426","      <\/action>","1427","      <action issue=\"LOG4J2-965\" dev=\"ggregory\" type=\"fix\" due-to=\"Khotyn Huang\">","1428","        System.out no longer works after the Console appender and JANSI are initialized.","1429","      <\/action>","1430","      <action issue=\"LOG4J2-998\" dev=\"ggregory\" type=\"update\" due-to=\"Mariano Gonzalez\">","1431","        Make org.apache.logging.log4j.core.Logger#updateConfiguration protected.","1432","      <\/action>","1433","      <action issue=\"LOG4J2-995\" dev=\"rgoers\" type=\"update\">","1434","        Move UTF-8 constant from Charsets to Constants class. Remove Charsets class.","1435","      <\/action>","1436","      <action issue=\"LOG4J2-993\" dev=\"rgoers\" type=\"fix\">","1437","        Deadlock would occur if appender thread creates a new Logger during reconfiguration.","1438","      <\/action>","1439","      <action issue=\"LOG4J2-991\" dev=\"rpopma\" type=\"fix\" due-to=\"Ryan Rupp\">","1440","        Async root logger config should default includeLocation to false.","1441","      <\/action>","1442","      <action issue=\"LOG4J2-985\" dev=\"rpopma\" type=\"fix\" due-to=\"Sean Dawson\">","1443","        AbstractFilter should not implement equals() and hashCode().","1444","      <\/action>","1445","      <action issue=\"LOG4J2-984\" dev=\"ggregory\" type=\"add\" due-to=\"Jonas H?pfner\">","1446","        PatternLayout %highlight to support noConsoleNoAnsi like %style.","1447","      <\/action>","1448","      <action issue=\"LOG4J2-926\" dev=\"ggregory\" type=\"add\" due-to=\"David Ohana\">","1449","        Truncate from the end of text format modifier.","1450","      <\/action>","1451","      <action issue=\"LOG4J2-980\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikhail Mazurskiy\">","1452","        Numerical overflow in BurstFilter not handled correctly.","1453","      <\/action>","1454","      <action issue=\"LOG4J2-981\" dev=\"ggregory\" type=\"fix\" due-to=\"Mikhail Mazurskiy\">","1455","        Incorrect unlock in ProviderUtil.","1456","      <\/action>","1457","      <action issue=\"LOG4J2-966\" dev=\"ggregory\" type=\"fix\">","1458","        KeyStoreConfiguration.createKeyStoreConfiguration() ignores keyManagerFactoryAlgorithm.","1459","      <\/action>","1460","      <action issue=\"LOG4J2-976\" dev=\"ggregory\" type=\"fix\" due-to=\"Matt Quinn\">","1461","        Using monitorInterval with YAML config file format causes JSONParseException.","1462","      <\/action>","1463","      <action issue=\"LOG4J2-964\" dev=\"ggregory\" type=\"fix\" due-to=\"Jonne Jyryl?\">","1464","        StringFormattedMessage serialization is incorrect.","1465","      <\/action>","1466","      <action issue=\"LOG4J2-947\" dev=\"ggregory\" type=\"fix\" due-to=\"Stefan Wehner\">","1467","        A new StatusLoggerAdmin listener is added to StatusLogger every time the log is reconfigured.","1468","      <\/action>","1469","      <action issue=\"LOG4J2-968\" dev=\"ggregory\" type=\"fix\" due-to=\"Paul D Johe\">","1470","        SyslogLayout contains extra space.","1471","      <\/action>","1472","      <action issue=\"LOG4J2-967\" dev=\"ggregory\" type=\"fix\" due-to=\"Stefan Wehner\">","1473","        log4j2.component.properties not read for all properties.","1474","      <\/action>","1475","      <action issue=\"LOG4J2-971\" dev=\"ggregory\" type=\"fix\" due-to=\"Paul D Johe\">","1476","        Another bad priority in Syslog messages.","1477","      <\/action>","1478","      <action issue=\"LOG4J2-972\" dev=\"ggregory\" type=\"fix\">","1479","        org.apache.logging.log4j.core.net.ssl.TlsSyslogInputStreamReader does not need to create temp Integer objects.","1480","      <\/action>","1481","      <action issue=\"LOG4J2-974\" dev=\"ggregory\" type=\"fix\" due-to=\"Daniel Gal¨¢n y Martins\">","1482","        Typo in EventLogger documentation.","1483","      <\/action>","1484","      <action issue=\"LOG4J2-988\" dev=\"ggregory\" type=\"update\">","1485","        Update LMAX Disruptor from 3.3.0 to 3.3.2.","1486","      <\/action>","1487","      <action issue=\"LOG4J2-987\" dev=\"ggregory\" type=\"update\">","1488","        Migrate tests from Logback 1.1.2 to 1.1.3.","1489","      <\/action>","1490","      <action issue=\"LOG4J2-988\" dev=\"ggregory\" type=\"update\">","1491","        Update tests to use ActiveMQ from 5.10 to 5.11.1.","1492","      <\/action>","1493","      <action issue=\"LOG4J2-1004\" dev=\"ggregory\" type=\"update\">","1494","        Update Jackson from 2.5.1 to 2.5.3.","1495","      <\/action>","1496","      <action issue=\"LOG4J2-1005\" dev=\"ggregory\" type=\"update\">","1497","        Update Slf4j from 1.7.7 to 1.7.12.","1498","      <\/action>","1499","    <\/release>","1500","    <release version=\"2.2\" date=\"2015-02-22\" description=\"GA Release 2.2\">","1501","      <action issue=\"LOG4J2-938\" dev=\"rpopma\" type=\"fix\" due-to=\"Mauro Molinari\">","1502","        (JMX) To avoid memory leaks when web applications are restarted, JMX notifications are sent from","1503","        the caller thread in web applications. For non-web applications notifications are sent from a background thread","1504","        as before.","1505","      <\/action>","1506","      <action issue=\"LOG4J2-957\" dev=\"ggregory\" type=\"fix\" due-to=\"fatih guleryuz\">","1507","        Missing toUpperCase(Locale.ENGLISH).","1508","      <\/action>","1509","      <action issue=\"LOG4J2-956\" dev=\"ggregory\" type=\"fix\" due-to=\"David Kellerman\">","1510","        Manual refers to Route \"AppenderRef\" attribute, should be \"ref\".","1511","      <\/action>","1512","      <action issue=\"LOG4J2-955\" dev=\"rpopma\" type=\"update\">","1513","        Documentation: clarify system properties to control status logger, improve troubleshooting FAQ entry.","1514","      <\/action>","1515","      <action issue=\"LOG4J2-950\" dev=\"ggregory\" type=\"update\" due-to=\"Joel Edwards\">","1516","        Incorrect attribute name in PropertiesRewritePolicy example.","1517","      <\/action>","1518","      <action issue=\"LOG4J2-944\" dev=\"ggregory\" type=\"fix\" due-to=\"Vinayaka Ramachandra\">","1519","        Log4j Flume appender is not adding millisecond to the event headers when the event is logged at 000 milliseconds.","1520","      <\/action>","1521","      <action issue=\"LOG4J2-941\" dev=\"ggregory\" type=\"add\" due-to=\"Konstantinos Liakos\">","1522","        Allow JSON layout to create one compact log record per line.","1523","      <\/action>","1524","      <action issue=\"LOG4J2-933\" dev=\"ggregory\" type=\"add\" due-to=\"ppiman at gmail.com\">","1525","        HTML layout should not use attribute minimalization for hr noshade.","1526","      <\/action>","1527","      <action issue=\"LOG4J2-895\" dev=\"ggregory\" type=\"add\">","1528","        Specify the SyslogAppender connect timeout value as part of the configuration.","1529","        The SyslogAppender takes a new parameter connectTimeoutMillis.","1530","      <\/action>","1531","      <action issue=\"LOG4J2-899\" dev=\"ggregory\" type=\"add\">","1532","        Specify the SocketAppender connect timeout value as part of the configuration.","1533","        The SyslogAppender takes a new parameter connectTimeoutMillis.","1534","      <\/action>","1535","      <action issue=\"LOG4J2-924\" dev=\"ggregory\" type=\"fix\" due-to=\"Ryan Rupp\">","1536","        Log4j 1.2 Bridge doesn't map level ALL correctly in Category.getEffectiveLevel().","1537","      <\/action>","1538","      <action issue=\"LOG4J2-931\" dev=\"ggregory\" type=\"fix\" due-to=\"Robert Gacki\">","1539","        ConsoleAppender is missing @PluginFactory annotation at createAppender method.","1540","      <\/action>","1541","      <action issue=\"LOG4J2-919\" dev=\"ggregory\" type=\"fix\" due-to=\"David Johle\">","1542","        Logging system fails to initialize if XInclude API is not available.","1543","      <\/action>","1544","      <action issue=\"LOG4J2-914\" dev=\"ggregory\" type=\"fix\" due-to=\"Kaj Bjurman\">","1545","        ThrowableProxy.getExtendedStackTraceAsString causes NullPointerException.","1546","      <\/action>","1547","      <action issue=\"LOG4J2-912\" dev=\"ggregory\" type=\"fix\">","1548","        XML configuration does not report full error message for XInclude parser configuration problems.","1549","      <\/action>","1550","      <action issue=\"LOG4J2-903\" dev=\"ggregory\" type=\"fix\" due-to=\"Mauro Molinari\">","1551","        ClassLoaderContextSelector uses ClassLoader.toString() as a key","1552","      <\/action>","1553","      <action issue=\"LOG4J2-834\" dev=\"ggregory\" type=\"fix\" due-to=\"Nikita Koval, Leonard Broman, Thiago Kronig\">","1554","        ThrowableProxy throws NoClassDefFoundError.","1555","      <\/action>","1556","      <action issue=\"LOG4J2-893\" dev=\"ggregory\" type=\"fix\">","1557","        NullPointerException on filter when mapping JUL to Log4j2.","1558","      <\/action>","1559","      <action issue=\"LOG4J2-892\" dev=\"ggregory\" type=\"fix\">","1560","        JUL adapter does not map Log4j'2 FATAL level to a JUL level.","1561","      <\/action>","1562","      <action issue=\"LOG4J2-881\" dev=\"ggregory\" type=\"fix\" due-to=\"Mariano Gonzalez\">","1563","        AbstractLifecycle should not implement equals() and hashCode().","1564","      <\/action>","1565","      <action issue=\"LOG4J2-897\" dev=\"ggregory\" type=\"fix\">","1566","        Javadoc for org.apache.log4j.BasicConfigurator.configure() is incorrect.","1567","      <\/action>","1568","      <action issue=\"LOG4J2-891\" dev=\"ggregory\" type=\"fix\">","1569","        AbstractLifecycle should not implement equals() and hashCode().","1570","      <\/action>","1571","      <action issue=\"LOG4J2-946\" dev=\"ggregory\" type=\"fix\" due-to=\"artemonster\">","1572","        [docs] Using Log4j 2 in Web Applications: Update example (Log4jWebLifeCycle is not visible).","1573","      <\/action>","1574","      <action issue=\"LOG4J2-901\" dev=\"ggregory\" type=\"update\" due-to=\"Tihomir Me??i?, Siegfried Greisinger\">","1575","        Update docs for SyslogAppender: \"No structured id name was supplied\"","1576","      <\/action>","1577","      <action issue=\"LOG4J2-958\" dev=\"ggregory\" type=\"update\">","1578","        Update from Jackson 2.5.0 to 2.5.1.","1579","      <\/action>","1580","      <action issue=\"LOG4J2-925\" dev=\"ggregory\" type=\"update\">","1581","        Update from Jackson 2.4.4 to 2.5.0.","1582","      <\/action>","1583","      <action issue=\"LOG4J2-910\" dev=\"ggregory\" type=\"update\">","1584","        Update Jackson from 2.4.3 to 2.4.4.","1585","      <\/action>","1586","      <action issue=\"LOG4J2-881\" dev=\"ggregory\" type=\"update\">","1587","        Update Jackson from 2.4.2 to 2.4.3.","1588","      <\/action>","1589","      <action issue=\"LOG4J2-882\" dev=\"ggregory\" type=\"update\">","1590","        Update maven-core from 3.1.0 to 3.2.3.","1591","      <\/action>","1592","      <action issue=\"LOG4J2-883\" dev=\"ggregory\" type=\"update\">","1593","        Update tests from org.apache.felix.framework 4.2.1 to 4.4.1.","1594","      <\/action>","1595","      <action issue=\"LOG4J2-884\" dev=\"ggregory\" type=\"update\">","1596","        Update org.eclipse.osgi from 3.6.0 to 3.7.1.","1597","      <\/action>","1598","      <action issue=\"LOG4J2-900\" dev=\"ggregory\" type=\"update\">","1599","        Update Apache Flume from 1.5.0.1 to 1.5.2.","1600","      <\/action>","1601","    <\/release>","1602","    <release version=\"2.1\" date=\"2014-10-19\" description=\"GA Release 2.1\">","1603","      <action issue=\"LOG4J2-676\" dev=\"rgoers\" type=\"fix\" due-to=\"Stefan Bodewig\">","1604","        Some typo fixes and enhancements for the site.","1605","      <\/action>","1606","      <action issue=\"LOG4J2-868\" dev=\"mattsicker\" type=\"add\">","1607","        Add ShutdownCallbackRegistry interface for customizable shutdown callback handling. This is particularly","1608","        useful for application servers that wish to integrate with Log4j 2.","1609","      <\/action>","1610","      <action issue=\"LOG4J2-866\" dev=\"rpopma\" type=\"fix\" due-to=\"Gerard Weatherby\">","1611","        Documentation: fixed missing closing parenthesis in code example.","1612","      <\/action>","1613","      <action issue=\"LOG4J2-862\" dev=\"mattsicker\" type=\"fix\" due-to=\"Michael Sutherland\">","1614","        Fixed classloader issue that prevented Log4j from finding the implementation when used in a custom Ant task.","1615","      <\/action>","1616","      <action issue=\"LOG4J2-589\" dev=\"rpopma\" type=\"add\">","1617","        Supported filtering on custom log levels in configuration.","1618","      <\/action>","1619","      <action issue=\"LOG4J2-861\" dev=\"rpopma\" type=\"fix\">","1620","        Documentation: fix broken links on left navigation Extending Log4j Configuration sub-menu.","1621","      <\/action>","1622","      <action issue=\"LOG4J2-856\" dev=\"rpopma\" type=\"add\">","1623","        Documentation: add sections on the JUL Adapter, IO Streams and NoSQL Appenders to the Maven and Ivy page.","1624","      <\/action>","1625","      <action issue=\"LOG4J2-797\" dev=\"rpopma\" type=\"fix\" due-to=\"Andreas Rytina\">","1626","        Documentation: clarified why log4j-core is a compile time dependency in Maven and Ivy page.","1627","      <\/action>","1628","      <action issue=\"LOG4J2-855\" dev=\"rpopma\" type=\"fix\">","1629","        Documentation: fix broken links on Appenders manual page.","1630","      <\/action>","1631","      <action issue=\"LOG4J2-807\" dev=\"rpopma\" type=\"fix\">","1632","        Prevent NPE when configuration with AsyncLogger\/AsyncRoot is reloaded.","1633","      <\/action>","1634","      <action issue=\"LOG4J2-848\" dev=\"ggregory\" type=\"add\">","1635","        Add a Java lookup to provide nicely formatted runtime version information.","1636","      <\/action>","1637","      <action issue=\"LOG4J2-809\" dev=\"mattsicker\" type=\"add\">","1638","        Move reflection utility class to API's private utility classes.","1639","      <\/action>","1640","      <action issue=\"LOG4J2-845\" dev=\"mattsicker\" type=\"update\">","1641","        Add 2.1.0 to compatible versions in Log4j API ProviderUtil and update Log4jAPIVersion to 2.1.0 in","1642","        core META-INF\/log4j-provider.properties.","1643","      <\/action>","1644","      <action issue=\"LOG4J2-833\" dev=\"rpopma\" type=\"add\">","1645","        Documentation: added Runtime Dependencies link to left nav-bar on site.","1646","      <\/action>","1647","      <action issue=\"LOG4J2-816\" dev=\"rpopma\" type=\"add\">","1648","        Documentation: added section on XInclude to user manual Configuration page.","1649","      <\/action>","1650","      <action issue=\"LOG4J2-678\" dev=\"rpopma\" type=\"fix\" due-to=\"Matt Sicker\">","1651","        Documentation: fixed minor issues with Log4j2 web site\/documentation.","1652","      <\/action>","1653","      <action issue=\"LOG4J2-844\" dev=\"rpopma\" type=\"update\">","1654","        Update JMH to 1.1 from 0.7.2.","1655","      <\/action>","1656","      <action issue=\"LOG4J2-843\" dev=\"rpopma\" type=\"fix\">","1657","        Migrate JpaHyperSqlAppenderTest JUnit performance test to log4j-perf.","1658","      <\/action>","1659","      <action issue=\"LOG4J2-842\" dev=\"rpopma\" type=\"fix\">","1660","        Migrate JpaH2AppenderTest JUnit performance test to log4j-perf.","1661","      <\/action>","1662","      <action issue=\"LOG4J2-841\" dev=\"rpopma\" type=\"fix\">","1663","        Migrate JdbcHyperSqlAppenderTest JUnit performance test to log4j-perf.","1664","      <\/action>","1665","      <action issue=\"LOG4J2-840\" dev=\"rpopma\" type=\"fix\">","1666","        Migrate JdbcH2AppenderTest JUnit performance test to log4j-perf.","1667","      <\/action>","1668","      <action issue=\"LOG4J2-830\" dev=\"rpopma\" type=\"fix\">","1669","        Respect external interrupt signal to allow application shutdown after joining AsyncAppender thread.","1670","      <\/action>","1671","      <action issue=\"LOG4J2-813\" dev=\"ggregory\" type=\"fix\" due-to=\"David Erichsen, Brandon Barry\">","1672","        MarkerManager Log4jMarker.hasParents() returns opposite of correct result.","1673","      <\/action>","1674","      <action issue=\"LOG4J2-785\" dev=\"rpopma\" type=\"fix\">","1675","        Documentation: fixed capitalization inconsistency in user manual example config.","1676","      <\/action>","1677","      <action issue=\"LOG4J2-829\" dev=\"rpopma\" type=\"fix\">","1678","        Fixed issue in RollingFile filePattern: backslashes are path separators, not escape characters.","1679","      <\/action>","1680","      <action issue=\"LOG4J2-547\" dev=\"mattsicker\" type=\"add\">","1681","        Add the Log4j IOStreams component.","1682","      <\/action>","1683","      <action issue=\"LOG4J2-431\" dev=\"rpopma\" type=\"add\" due-to=\"Claude Mamo\">","1684","        Added Memory-Mapped File Appender.","1685","      <\/action>","1686","      <action issue=\"LOG4J2-832\" dev=\"ggregory\" type=\"fix\" due-to=\"Seth Leger\">","1687","        ThrowableProxy fails if a class in logged stack trace throws java.lang.Error from initializer","1688","      <\/action>","1689","      <action issue=\"LOG4J2-831\" dev=\"rpopma\" type=\"update\">","1690","        Documentation: updated FAQ \"which jars\" diagrams for JUL bridge and 2.1 version.","1691","      <\/action>","1692","      <action issue=\"LOG4J2-827\" dev=\"mattsicker\" type=\"add\">","1693","        Support use of TypeConverter classes through the standard Plugin system.","1694","      <\/action>","1695","      <action issue=\"LOG4J2-745\" dev=\"mattsicker\" type=\"fix\" due-to=\"Scott Harrington\">","1696","        Avoid ConverterKey plugin clashes by using a more predictable plugin loading infrastructure.","1697","        Plugins have been segmented into three parts: class path, user-specified packages, and OSGi bundles.","1698","      <\/action>","1699","      <action issue=\"LOG4J2-798\" dev=\"mattsicker\" type=\"fix\" due-to=\"Scott Harrington\">","1700","        Fixed plugin scanning redundancy causing massive slowdowns in certain environments.","1701","      <\/action>","1702","      <action issue=\"LOG4J2-753\" dev=\"rpopma\" type=\"fix\">","1703","        Reduced CachedClock thread contention.","1704","      <\/action>","1705","      <action issue=\"LOG4J2-819\" dev=\"mattsicker\" type=\"fix\" due-to=\"Gary Gregory\">","1706","        Fixed memory leak in Tomcat 6 caused by clock background threads unintentionally","1707","        started by Tomcat after web application stop.","1708","      <\/action>","1709","      <action issue=\"LOG4J2-825\" dev=\"mattsicker\" type=\"add\">","1710","        Add simple validation constraint annotations for the Plugin system.","1711","      <\/action>","1712","      <action issue=\"LOG4J2-428\" dev=\"ggregory\" type=\"add\" due-to=\"Mark Paluch, Mikael St?ldal\">","1713","        Implement a GELF layout.","1714","      <\/action>","1715","      <action issue=\"LOG4J2-391\" dev=\"rgoers\" type=\"fix\" due-to=\"Kamal Bahadur\">","1716","        FlumePersistentManager now handles LockConflictExceptions in Berkeley Db when sending a batch.","1717","      <\/action>","1718","      <action issue=\"LOG4J2-782\" dev=\"mattsicker\" type=\"fix\">","1719","        Remove invalid Oracle Maven repository.","1720","      <\/action>","1721","      <action issue=\"LOG4J2-780\" dev=\"mattsicker\" type=\"update\">","1722","        Update Spring Framework to 3.2.11.RELEASE from 3.2.8.RELEASE.","1723","      <\/action>","1724","      <action issue=\"LOG4J2-815\" dev=\"mattsicker\" type=\"update\">","1725","        Unify the two JMS appenders into a single appender. Configurations written for 2.0 will still work in 2.1+.","1726","      <\/action>","1727","      <action issue=\"LOG4J2-608\" dev=\"mattsicker\" type=\"add\">","1728","        Add java.util.logging implementation based on log4j-api. See log4j-jul documentation for more details.","1729","      <\/action>","1730","      <action issue=\"LOG4J2-796\" dev=\"rpopma\" type=\"fix\">","1731","        Fixed issue where log4j-to-slf4j did not work correctly with SLF4J Simple Logger.","1732","      <\/action>","1733","      <action issue=\"LOG4J2-811\" dev=\"ggregory\" type=\"fix\" due-to=\"Yogesh Rao\">","1734","        SimpleLogger throws ArrayIndexOutOfBoundsException for an empty array.","1735","      <\/action>","1736","      <action issue=\"LOG4J2-663\" dev=\"mattsicker\" type=\"fix\" due-to=\"Florian Brunner\">","1737","        Fix OSGi Import-Package problem with the JMS API.","1738","      <\/action>","1739","      <action issue=\"LOG4J2-793\" dev=\"mattsicker\" type=\"add\">","1740","        Add support for custom SLF4J Markers in log4j-slf4j-impl module.","1741","      <\/action>","1742","      <action issue=\"LOG4J2-783\" dev=\"rpopma\" type=\"fix\" due-to=\"Minglei Lee\">","1743","        PatternLayout should use platform character encoding by default, not UTF-8.","1744","      <\/action>","1745","      <action issue=\"LOG4J2-771\" dev=\"ggregory\" type=\"add\">","1746","        Add lookup for application main arguments.","1747","      <\/action>","1748","      <action issue=\"LOG4J2-787\" dev=\"ggregory\" type=\"add\">","1749","        Add lookup for JVM arguments.","1750","      <\/action>","1751","      <action issue=\"LOG4J2-790\" dev=\"ggregory\" type=\"update\">","1752","        Update Jackson to 2.4.2 from 2.4.1 (for XML and JSON processing).","1753","      <\/action>","1754","      <action issue=\"LOG4J2-766\" dev=\"ggregory\" type=\"update\" due-to=\"Bruno P. Kinoshita\">","1755","        Incomplete documentation for JSONLayout.","1756","      <\/action>","1757","      <action issue=\"LOG4J2-800\" dev=\"ggregory\" type=\"update\">","1758","        All life cycle implementations should be serializable.","1759","        This is still work in progress.","1760","      <\/action>","1761","      <action issue=\"LOG4J2-801\" dev=\"ggregory\" type=\"update\">","1762","        org.apache.logging.log4j.core.Logger should be serializable.","1763","        This is still work in progress.","1764","      <\/action>","1765","      <action issue=\"LOG4J2-810\" dev=\"ggregory\" type=\"update\">","1766","        Update javax.mail to 1.5.2 from 1.5.0.","1767","      <\/action>","1768","      <action issue=\"LOG4J2-822\" dev=\"ggregory\" type=\"update\">","1769","        Update org.eclipse.persistence.jpa to 2.5.2 from 2.5.1.","1770","      <\/action>","1771","      <action issue=\"LOG4J2-867\" dev=\"ggregory\" type=\"update\">","1772","        FlumeAppender: maxDelay not in seconds, but milliseconds.","1773","        Add time scale to some settings, for example maxDelayMillis instead of maxDelay.","1774","        The old names are aliased for compatibility.","1775","      <\/action>","1776","    <\/release>","1777","    <release version=\"2.0.2\" date=\"2014-08-16\" description=\"Bug fixes and enhancements\">","1778","      <action issue=\"LOG4J2-775\" dev=\"ggregory\" type=\"update\">","1779","        Update Apache Flume to 1.5.0.1 from 1.5.0.","1780","      <\/action>","1781","      <action issue=\"LOG4J2-773\" dev=\"rpopma\" type=\"fix\">","1782","        Site: log4j-core component pages were still using the old logo.","1783","      <\/action>","1784","      <action issue=\"LOG4J2-760\" dev=\"rpopma\" type=\"fix\">","1785","        Documentation improvement: link to dependency tree from log4j-core component page,","1786","        link to log4j-core component page from FAQ page.","1787","      <\/action>","1788","      <action issue=\"LOG4J2-679\" dev=\"rpopma\" type=\"fix\">","1789","        Resolved race condition that caused log file rotation to fail with error: \"Unable to create directory ...\"","1790","      <\/action>","1791","      <action issue=\"LOG4J2-726\" dev=\"rpopma\" type=\"fix\">","1792","        Prevent application from hanging when PatternLayout configuration has opening '{' but no closing '}'.","1793","      <\/action>","1794","      <action issue=\"LOG4J2-769\" dev=\"rpopma\" type=\"fix\" due-to=\"Scott Harrington\">","1795","        Startup takes a long time if you have empty packages attribute.","1796","      <\/action>","1797","      <action issue=\"LOG4J2-763\" dev=\"rpopma\" type=\"fix\" due-to=\"Stephen Connolly\">","1798","        Improved asynchronous loggers and appenders to ensure the formatted message does not change even if","1799","        parameters are modified by the application. (ParameterizedMessage was already safe.)","1800","        Improved documentation.","1801","      <\/action>","1802","      <action issue=\"LOG4J2-729\" dev=\"rpopma\" type=\"fix\">","1803","        Emit warning message to console if no configuration file found.","1804","      <\/action>","1805","      <action issue=\"LOG4J2-765\" dev=\"rpopma\" type=\"fix\">","1806","        Improve warning message when missing log4j-core in the classpath.","1807","      <\/action>","1808","      <action issue=\"LOG4J2-722\" dev=\"rpopma\" type=\"fix\">","1809","        Clarified in documentation that Commons Logging jar is required when using log4j-jcl.","1810","      <\/action>","1811","      <action issue=\"LOG4J2-723\" dev=\"rpopma\" type=\"fix\">","1812","        Clarified in documentation that SLF4J API jar is required when using log4j-slf4j-impl.","1813","      <\/action>","1814","      <action issue=\"LOG4J2-730\" dev=\"rpopma\" type=\"update\">","1815","        Allow Log4jContextFactory subclasses to specify a custom ContextSelector.","1816","      <\/action>","1817","      <action issue=\"LOG4J2-759\" dev=\"rpopma\" type=\"fix\">","1818","        Fixed various minor site\/documentation issues, mostly versioning related.","1819","      <\/action>","1820","      <action issue=\"LOG4J2-756\" dev=\"rpopma\" type=\"fix\" due-to=\"Scott Harrington\">","1821","        Prevent JUnit test from creating unnecessary Log4j2Plugins.dat during build.","1822","      <\/action>","1823","    <\/release>","1824","    <release version=\"2.0.1\" date=\"2014-07-29\" description=\"Bug fixes\">","1825","      <action issue=\"LOG4J2-744\" dev=\"rpopma\" type=\"fix\" due-to=\"Scott Harrington\">","1826","        Avoid unnecessary Clock calls when TimestampMessage is logged.","1827","      <\/action>","1828","      <action issue=\"LOG4J2-704\" dev=\"rpopma\" type=\"fix\">","1829","        Improved error message if configuration file not found.","1830","      <\/action>","1831","      <action issue=\"LOG4J2-750\" dev=\"ggregory\" type=\"fix\" due-to=\"Mike Calmus\">","1832","        Webapp configuration page has incorrect class name.","1833","      <\/action>","1834","      <action issue=\"LOG4J2-749\" dev=\"rpopma\" type=\"fix\" due-to=\"Scott Harrington\">","1835","        Retain the default date pattern after fixing the ISO8601 pattern.","1836","      <\/action>","1837","      <action issue=\"LOG4J2-670\" dev=\"rpopma\" type=\"fix\">","1838","        DatePatternConverter ISO8601_PATTERN now conforms to ISO8601.","1839","      <\/action>","1840","      <action issue=\"LOG4J2-741\" dev=\"rpopma\" type=\"fix\">","1841","        Reinstate the package configuration attribute for discovering custom plugins.","1842","      <\/action>","1843","      <action issue=\"LOG4J2-742\" dev=\"ggregory\" type=\"fix\" due-to=\"Pascal Chollet\">","1844","        XInclude not working with relative path.","1845","      <\/action>","1846","      <action issue=\"LOG4J2-740\" dev=\"mattsicker\" type=\"fix\" due-to=\"Kosta Krauth\">","1847","        Fixed typo in webapp manual regarding sample web.xml file.","1848","      <\/action>","1849","      <action issue=\"LOG4J2-738\" dev=\"ggregory\" type=\"fix\" due-to=\"Timothy Stack\">","1850","        RollingFileManager deadlock if async action thread fails to start.","1851","      <\/action>","1852","      <action issue=\"LOG4J2-736\" dev=\"mattsicker\" type=\"fix\">","1853","        Fixed log4j-bom so that it won't specify a default scope on any third party dependencies.","1854","      <\/action>","1855","      <action issue=\"LOG4J2-735\" dev=\"mattsicker\" type=\"fix\">","1856","        Fixed log4j-bom so that it won't interfere with spring-bom and others.","1857","      <\/action>","1858","      <action issue=\"LOG4J2-731\" dev=\"mattsicker\" type=\"fix\">","1859","        Updated documentation regarding extensions to LoggerContextFactory and Log4j 2 providers.","1860","      <\/action>","1861","      <action issue=\"LOG4J2-373\" dev=\"mattsicker\" type=\"fix\">","1862","        Fixed ClassLoader issues in loading Log4j providers in an OSGi environment.","1863","      <\/action>","1864","      <action issue=\"LOG4J2-725\" dev=\"mattsicker\" type=\"add\">","1865","        Added WebLoggerContextUtils class to log4j-web for helper methods useful for asynchronous servlets.","1866","      <\/action>","1867","      <action issue=\"LOG4J2-710\" dev=\"rpopma\" type=\"add\">","1868","        Added documentation for Custom Levels and Custom Loggers.","1869","      <\/action>","1870","      <action issue=\"LOG4J2-719\" dev=\"rpopma\" type=\"fix\">","1871","        Correctly handle NetworkOnMainThreadException thrown on Android during Log4j2 initialization.","1872","      <\/action>","1873","      <action issue=\"LOG4J2-716\" dev=\"rpopma\" type=\"fix\">","1874","        Automatically disable log4j JMX when detecting we are running on Android.","1875","      <\/action>","1876","      <action issue=\"LOG4J2-657\" dev=\"rpopma\" type=\"fix\" due-to=\"Stefan Wehner\">","1877","        Fixed AbstractDatabaseManager to close connection on writeInternal error.","1878","      <\/action>","1879","      <action issue=\"LOG4J2-713\" dev=\"ggregory\" type=\"fix\" due-to=\"Nelson Melina\">","1880","        Android: java.lang.VerifyError: org\/apache\/logging\/log4j\/core\/util\/Closer","1881","      <\/action>","1882","      <action issue=\"LOG4J2-703\" dev=\"ggregory\" type=\"fix\" due-to=\"Nelson Melina\">","1883","        Android: Could not find class 'javax.naming.InitialContext', referenced from method org.apache.logging.log4j.core.lookup.JndiLookup.lookup.","1884","      <\/action>","1885","      <action issue=\"LOG4J2-732\" dev=\"ggregory\" type=\"updated\">","1886","        Update to LMAX Disruptor 3.3.0 from 3.2.1.","1887","      <\/action>","1888","      <action issue=\"LOG4J2-733\" dev=\"ggregory\" type=\"updated\">","1889","        Update to latest Jackson jars from the 2.4.1.X line.","1890","      <\/action>","1891","    <\/release>","1892","    <release version=\"2.0\" date=\"2014-07-12\" description=\"GA Release\">","1893","      <action issue=\"LOG4J2-705\" dev=\"rpopma\" type=\"fix\">","1894","        Fixed issue where Async Logger does not log thread context stack data.","1895","        API change: added method getImmutableStackOrNull() to ThreadContext.ContextStack interface.","1896","      <\/action>","1897","      <action issue=\"LOG4J2-631\" dev=\"rpopma\" type=\"fix\">","1898","        Update docs to clarify how to use formatter logger and standard logger together.","1899","      <\/action>","1900","      <action issue=\"LOG4J2-519\" dev=\"rpopma\" type=\"add\">","1901","        Added support for generating custom logger wrappers that replace the existing log levels","1902","        and extended logger wrappers that add custom log levels to the existing ones.","1903","      <\/action>","1904","      <action issue=\"LOG4J2-441\" dev=\"rgoers\" type=\"fix\">","1905","        LoggerConfigs with no Level now inherit the Level from their parent.","1906","      <\/action>","1907","      <action issue=\"LOG4J2-696\" dev=\"ggregory\" type=\"add\">","1908","        RegexFilter does not match multiline log messages.","1909","      <\/action>","1910","      <action issue=\"LOG4J2-699\" dev=\"rpopma\" type=\"fix\">","1911","        PatternLayout manual page missing documentation on header\/footer.","1912","      <\/action>","1913","      <action issue=\"LOG4J2-625\" dev=\"rpopma\" type=\"fix\">","1914","        Fixed Serialization error with SocketAppender and Async Loggers.","1915","        (Fixed in RC2, but wasn't included in release notes.)","1916","      <\/action>","1917","      <action issue=\"LOG4J2-538\" dev=\"rpopma\" type=\"fix\">","1918","        JMX GUI: fixed occasional ArrayIndexOutOfBoundsException after pressing \"reconfigure with XML below\".","1919","        (Fixed in RC2, but wasn't included in release notes.)","1920","      <\/action>","1921","      <action issue=\"LOG4J2-666\" dev=\"rpopma\" type=\"fix\">","1922","        AsyncLoggerContextSelector should ensure that different AsyncLoggerContext objects created by web app classloaders have unique names.","1923","      <\/action>","1924","      <action issue=\"LOG4J2-683\" dev=\"mattsicker\" type=\"fix\" due-to=\"Jurriaan Mous\">","1925","        Fix annotation processor warnings on JDK 1.7+.","1926","      <\/action>","1927","      <action issue=\"LOG4J2-694\" dev=\"mattsicker\" type=\"fix\">","1928","        Fix strange compilation error that popped up in a test class.","1929","      <\/action>","1930","      <action issue=\"LOG4J2-692\" dev=\"rgoers\" type=\"fix\">","1931","        Update documentation to specify only Maven 3 is supported.","1932","      <\/action>","1933","      <action issue=\"LOG4J2-690\" dev=\"rgoers\" type=\"fix\" due-to=\"Philip Helger\">","1934","        Log4j Web test dependencies should be in scope \"test\" in the pom.","1935","      <\/action>","1936","      <action issue=\"LOG4J2-682\" dev=\"ggregory\" type=\"fix\" due-to=\"Scott Harrington\">","1937","        Special characters (tab and so on) in PatternLayout do not work.","1938","      <\/action>","1939","      <action issue=\"LOG4J2-685\" dev=\"ggregory\" type=\"update\">","1940","        Make org.apache.logging.log4j.core.layout.AbstractLayout immutable.","1941","      <\/action>","1942","      <action issue=\"LOG4J2-686\" dev=\"ggregory\" type=\"fix\">","1943","        Core's OptionConverter support for \\b is broken (affects PatternLayout).","1944","      <\/action>","1945","      <action issue=\"LOG4J2-687\" dev=\"ggregory\" type=\"fix\">","1946","        Rename org.apache.logging.log4j.core.util.Closer.closeSilent() to closeSilently().","1947","      <\/action>","1948","      <action issue=\"LOG4J2-688\" dev=\"ggregory\" type=\"fix\">","1949","        Make org.apache.logging.log4j.core.layout.PatternLayout immutable.","1950","      <\/action>","1951","      <action issue=\"LOG4J2-689\" dev=\"ggregory\" type=\"update\">","1952","        Update Jackson to 2.4.1.","1953","      <\/action>","1954","      <action issue=\"LOG4J2-707\" dev=\"ggregory\" type=\"fix\">","1955","        Some exceptions are not logged when configuration problems are detected.","1956","      <\/action>","1957","      <action issue=\"LOG4J2-709\" dev=\"ggregory\" type=\"update\">","1958","        Update Apache Commons Logging to 1.2 from 1.1.3.","1959","      <\/action>","1960","    <\/release>","1961","    <release version=\"2.0-rc2\" date=\"2014-06-21\" description=\"Bug fixes and enhancements\">","1962","      <action issue=\"LOG4J2-675\" dev=\"rpopma\" type=\"add\">","1963","        RollingFile and RollingRandomAccessFile now write the layout footer before rollover.","1964","      <\/action>","1965","      <action issue=\"LOG4J2-581\" dev=\"rpopma\" type=\"fix\" due-to=\"Alexander Khokhlov\">","1966","        RollingRandomAccessFile now writes the layout header after rollover.","1967","      <\/action>","1968","      <action issue=\"LOG4J2-622\" dev=\"rpopma\" type=\"fix\" due-to=\"Farooq Khan\">","1969","        RollingFileManager now correctly honours the bufferedIO configuration after rollover.","1970","      <\/action>","1971","      <action issue=\"LOG4J2-674\" dev=\"rpopma\" type=\"add\">","1972","        Made RollingFileAppender buffer size configurable.","1973","      <\/action>","1974","      <action issue=\"LOG4J2-141\" dev=\"rpopma\" type=\"fix\" due-to=\"Joern Huxhorn\">","1975","        Improved documentation regarding log4j status logger.","1976","      <\/action>","1977","      <action issue=\"LOG4J2-539\" dev=\"rpopma\" type=\"fix\" due-to=\"Colin Froggatt\">","1978","        Fixed issue with \"Reconfigure using XML below\" function in JMX Client GUI.","1979","        ConfigurationSource is now a top-level class and can be obtained with Configuration.getConfigurationSource().","1980","        LoggerContext.getConfiguration().getConfigurationSource()","1981","        provides a reliable public method for obtaining a logger context's configuration location and content.","1982","      <\/action>","1983","      <action issue=\"LOG4J2-619\" dev=\"rgoers\" type=\"fix\" due-to=\"Scott Harrington\">","1984","        Invalid XML configuration files do not prevent the config file from being checked again.","1985","      <\/action>","1986","      <action issue=\"LOG4J2-637\" dev=\"rpopma\" type=\"fix\" due-to=\"Mansoor Sajjad, Jon Wilmoth\">","1987","        JMX: Updating a Logger's level via jConsole now correctly takes effect.","1988","      <\/action>","1989","      <action issue=\"LOG4J2-668\" dev=\"rpopma\" type=\"fix\">","1990","        Correctly process log events when combining AsyncLoggers with AsyncAppender.","1991","      <\/action>","1992","      <action issue=\"LOG4J2-669\" dev=\"rpopma\" type=\"fix\">","1993","        Prevent NPE when combining AsyncLoggers with AsyncLoggerConfigs.","1994","      <\/action>","1995","      <action issue=\"LOG4J2-42\" dev=\"rgoers\" type=\"add\">","1996","        Create an appender to route log events to the ServletContext log.","1997","      <\/action>","1998","      <action issue=\"LOG4J2-419\" dev=\"rgoers\" type=\"update\" due-to=\"Woonsan Ko\">","1999","        Support default value for missing key in look ups with fallbacking to looking in the properties map.","2000","      <\/action>","2001","      <action issue=\"LOG4J2-563\" dev=\"rgoers\" type=\"fix\" due-to=\"Michael Friedmann\">","2002","        FlumeAvroManager now always uses a client type of default_failover.","2003","      <\/action>","2004","      <action issue=\"LOG4J2-554\" dev=\"rgoers\" type=\"update\">","2005","        Allow configuration files to be located as Servlet Context resources.","2006","      <\/action>","2007","      <action issue=\"LOG4J2-535\" dev=\"rgoers\" type=\"fix\">","2008","        Reset rollover time when size rollover is triggered.","2009","      <\/action>","2010","      <action issue=\"LOG4J2-664\" dev=\"mattsicker\" type=\"fix\">","2011","        Moved plugin cache file to META-INF for OSGi compatibility.","2012","      <\/action>","2013","      <action issue=\"LOG4J2-640\" dev=\"mattsicker\" type=\"fix\">","2014","        Fix NPE that can be caused by a null ThreadContextClassLoader.","2015","      <\/action>","2016","      <action issue=\"LOG4J2-655\" dev=\"mattsicker\" type=\"add\">","2017","        Add Vagrantfile for testing in GNU+Linux.","2018","      <\/action>","2019","      <action issue=\"LOG4J2-651\" dev=\"ggregory\" type=\"fix\">","2020","        Log4j 2 throws ArrayIndexOutOfBoundsException.","2021","      <\/action>","2022","      <action issue=\"LOG4J2-654\" dev=\"rpopma\" type=\"add\">","2023","        Add log4j-perf module to provide a home for all log4j performance tests.","2024","        Add support for JMH microbenchmark performance tests.","2025","      <\/action>","2026","      <action issue=\"LOG4J2-652\" dev=\"mattsicker\" type=\"add\">","2027","        Add support for default plugin values and attributes.","2028","      <\/action>","2029","      <action issue=\"LOG4J2-598\" dev=\"mattsicker\" type=\"add\">","2030","        Add support for types other than String for plugin factory values\/attributes.","2031","      <\/action>","2032","      <action issue=\"LOG4J2-250\" dev=\"rpopma\" type=\"update\">","2033","        Refactor Log4jLogEvent to lazily create ThrowableProxy.","2034","      <\/action>","2035","      <action issue=\"LOG4J2-647\" dev=\"ggregory\" type=\"update\">","2036","        Upgrade to Flume 1.5.0.","2037","      <\/action>","2038","      <action issue=\"LOG4J2-644\" dev=\"ggregory\" type=\"add\">","2039","        Implement a SecureSocketAppender and secure server (SSL\/TLS).","2040","      <\/action>","2041","      <action issue=\"LOG4J2-646\" dev=\"ggregory\" type=\"update\">","2042","        Merge the TLS Syslog appender into the Syslog appender.","2043","      <\/action>","2044","      <action issue=\"LOG4J2-620\" dev=\"rgoers\" type=\"fix\">","2045","        Perform reconfiguration in a separate thread to prevent deadlocks.","2046","      <\/action>","2047","      <action issue=\"LOG4J2-641\" dev=\"mattsicker\" type=\"update\">","2048","        Override commons-logging dependency version in tests.","2049","      <\/action>","2050","      <action issue=\"LOG4J2-639\" dev=\"rpopma\" type=\"fix\" due-to=\"Mck SembWever\">","2051","        Prevent NPE in AsyncLogger and AsyncLoggerConfig if logger is used after log4j has been shut down.","2052","      <\/action>","2053","      <action issue=\"LOG4J2-469\" dev=\"rgoers\" type=\"fix\">","2054","        FailoverAppender was not resetting its status after the primary appender recovered.","2055","      <\/action>","2056","      <action issue=\"LOG4J2-623\" dev=\"rgoers\" type=\"fix\">","2057","        Generate MDC properties as a JSON map in JSONLayout.","2058","      <\/action>","2059","      <action issue=\"LOG4J2-566\" dev=\"rpopma\" type=\"update\" due-to=\"Luigi Alice\">","2060","        Made RollingRandomAccessFileAppender buffer size configurable.","2061","      <\/action>","2062","      <action issue=\"LOG4J2-520\" dev=\"rpopma\" type=\"fix\" due-to=\"JavaTech, Andre Bogus\">","2063","        Resolved issue where AsyncAppender dropped events if queue still contained","2064","        events when application is stopped.","2065","      <\/action>","2066","      <action issue=\"LOG4J2-392\" dev=\"rpopma\" type=\"fix\" due-to=\"Andre Bogus\">","2067","        Resolved a problem with the previous solution for LOG4J2-392 that resulted in dropped events","2068","        when using AsyncLoggerConfig with slow appenders when application is stopped.","2069","      <\/action>","2070","      <action issue=\"LOG4J2-613\" dev=\"mattsicker\" type=\"fix\">","2071","        The OSGi version of log4j-web imports Servlet 2.5 at minimum instead of 3.0.","2072","      <\/action>","2073","      <action issue=\"LOG4J2-602\" dev=\"rgoers\" type=\"fix\">","2074","        Unit tests are now less verbose during the build process.","2075","      <\/action>","2076","      <action issue=\"LOG4J2-570\" dev=\"mattsicker\" type=\"fix\">","2077","        Fix shutdown thread memory leak in servlet containers.","2078","      <\/action>","2079","      <action issue=\"LOG4J2-628\" dev=\"rpopma\" type=\"update\">","2080","        Use Clock to generate all log event timestamps, not just for Async Loggers.","2081","      <\/action>","2082","      <action issue=\"LOG4J2-629\" dev=\"rpopma\" type=\"add\">","2083","          Document the system properties used in Log4J 2.","2084","      <\/action>","2085","      <action issue=\"LOG4J2-542\" dev=\"rgoers\" type=\"fix\">","2086","        Make Throwable transient in ThrowableProxy.","2087","      <\/action>","2088","      <action issue=\"LOG4J2-617\" dev=\"mattsicker\" type=\"update\">","2089","        Update SLF4J to 1.7.7.","2090","      <\/action>","2091","      <action issue=\"LOG4J2-616\" dev=\"mattsicker\" type=\"update\">","2092","        Update Jackson to 2.3.3.","2093","      <\/action>","2094","      <action issue=\"LOG4J2-440\" dev=\"mattsicker\" type=\"fix\">","2095","        During shutdown, a NullPointerException could be thrown due to the NullConfiguration class no longer being","2096","        available to the ClassLoader.","2097","      <\/action>","2098","      <action issue=\"LOG4J2-346\" dev=\"mattsicker\" type=\"fix\">","2099","        Cyclic dependency with log4j-slf4j-impl in OSGi.","2100","      <\/action>","2101","      <action issue=\"LOG4J2-345\" dev=\"mattsicker\" type=\"fix\">","2102","        The log4j-1.2-api module didn't export any packages to OSGi.","2103","      <\/action>","2104","      <action issue=\"LOG4J2-605\" dev=\"mattsicker\" type=\"fix\">","2105","        Password data from the NoSQL plugins no longer shows up in cleartext in debug logging.","2106","      <\/action>","2107","      <action issue=\"LOG4J2-448\" dev=\"rgoers\" type=\"fix\" due-to=\"X86core\">","2108","        A StringIndexOutOfBounds exception could occur during property substitution.","2109","      <\/action>","2110","      <action issue=\"LOG4J2-597\" dev=\"rgoers\" type=\"fix\">","2111","        StatusLogger was not skipping multiple instances of the FQCN class, causing messages from classes in","2112","        the Verbose list to be printed.","2113","      <\/action>","2114","      <action issue=\"LOG4J2-585\" dev=\"rgoers\" type=\"update\" due-to=\"Bruce Brouwer\">","2115","        Add support for multiple parents to Markers.","2116","      <\/action>","2117","      <action issue=\"LOG4J2-595\" dev=\"mattsicker\" type=\"add\">","2118","        Introduce Java annotation processor as the new plugin pre-caching mechanism. This is available in log4j-core.","2119","        All custom plugins created before this should be re-built against the current log4j-core.","2120","      <\/action>","2121","      <action issue=\"LOG4J2-564\" dev=\"mattsicker\" type=\"fix\">","2122","          Renamed SLF4J logger class to Log4jLogger.","2123","      <\/action>","2124","      <action issue=\"LOG4J2-579\" dev=\"ggregory\" type=\"fix\">","2125","          Rework Level comparison APIs.","2126","      <\/action>","2127","      <action issue=\"LOG4J2-576\" dev=\"ggregory\" type=\"add\">","2128","          Add org.apache.logging.log4j.Logger.getLevel().","2129","      <\/action>","2130","      <action issue=\"LOG4J2-574\" dev=\"rpopma\" type=\"update\">","2131","          Make Blocking the default WaitStrategy for Async Loggers.","2132","      <\/action>","2133","      <action issue=\"LOG4J2-555\" dev=\"rpopma\" type=\"update\" due-to=\"Bruce Brouwer\">","2134","          Introduce ExtendedLogger interface to facilitate implementing and extending Loggers.","2135","      <\/action>","2136","      <action issue=\"LOG4J2-560\" dev=\"rgoers\" type=\"fix\">","2137","          SyslogAppenderTest and RFC5424LayoutTest were failing in Java 8.","2138","      <\/action>","2139","      <action issue=\"LOG4J2-561\" dev=\"ggregory\" type=\"update\" due-to=\"vibin\">","2140","        Allow spaces around commas in Configuration's package attribute.","2141","      <\/action>","2142","      <action issue=\"LOG4J2-547\" dev=\"rgoers\" type=\"update\" due-to=\"Bruce Brouwer\">","2143","        Have Logger API expose a PrintWriter instead of custom LoggerStream.","2144","      <\/action>","2145","      <action issue=\"LOG4J2-439\" dev=\"rgoers\" type=\"add\" due-to=\"Bruce Brouwer\">","2146","        Add EncodingPatternConverter to escape newlines and HTML special characters.","2147","      <\/action>","2148","      <action issue=\"LOG4J2-496\" dev=\"rgoers\" type=\"update\">","2149","        Allow header and footer to be specified as lookup patterns in PatternLayout.","2150","      <\/action>","2151","      <action issue=\"LOG4J2-499\" dev=\"rgoers\"  type=\"fix\">","2152","        Add equals and hashcode to Log4jLogEvent.","2153","      <\/action>","2154","      <action issue=\"LOG4J2-410\" dev=\"rgoers\" type=\"update\" due-to=\"Ivlin Zeng\">","2155","        SLf4JLogger is now Serializable.","2156","      <\/action>","2157","      <action issue=\"LOG4J2-427\" dev=\"rgoers\" type=\"add\" due-to=\"Alexander Reelsen\">","2158","        Add support for configuration via YAML.","2159","      <\/action>","2160","      <action issue=\"LOG4J2-378\" dev=\"rgoers\" type=\"fix\">","2161","        Add DateLookup and ThreadContextLookup to default lookups.","2162","      <\/action>","2163","      <action issue=\"LOG4J2-468\" dev=\"rgoers\" type=\"update\">","2164","        Add support to add a LoggerConfig. Document two ways to modify the configuration.","2165","      <\/action>","2166","      <action issue=\"LOG4J2-582\" dev=\"ggregory\" type=\"update\">","2167","        Rename org.apache.logging.log4j.core.net.SocketServer to TCPSocketServer and refactor with UDP.","2168","      <\/action>","2169","      <action issue=\"LOG4J2-592\" dev=\"ggregory\" type=\"update\">","2170","        Update Jackson to 2.3.2 from 2.2.2.","2171","      <\/action>","2172","    <\/release>","2173","    <release version=\"2.0-rc1\" date=\"2014-02-16\" description=\"Bug fixes and enhancements\">","2174","      <action dev=\"nickwilliams\" type=\"delete\">","2175","        Removed the DataSourceConnectionSource and the &lt;DriverManager&gt; plugin for the JDBC Appender. It is not","2176","        safe to use. Please use the DataSource or factory connection sources backed by a connection pool.","2177","      <\/action>","2178","      <action dev=\"nickwilliams\" type=\"update\">","2179","        Renamed the org.apache.logging.log4j.core.appender.db.nosql.mongo package to","2180","        org.apache.logging.log4j.core.appender.db.nosql.mongodb.","2181","      <\/action>","2182","      <action dev=\"grobmeier\" type=\"update\">","2183","        Renamed the org.apache.logging.log4j.core.appender.db.nosql.couch package to","2184","        org.apache.logging.log4j.core.appender.db.nosql.couchdb.","2185","      <\/action>","2186","      <action issue=\"LOG4J2-500\" dev=\"rpopma\" type=\"fix\">","2187","        (JMX - ObjectNames changed!) Unloading one web application unloads JMX MBeans for all web applications.","2188","      <\/action>","2189","      <action issue=\"LOG4J2-507\" dev=\"ggregory\" type=\"update\">","2190","        Space Level numbers by 100 instead of 1.","2191","      <\/action>","2192","      <action issue=\"LOG4J2-531\" dev=\"rpopma\" type=\"fix\" due-to=\"Geoff Ballinger\">","2193","        Fixed bugs where rolled log files were overwritten by RollingFile appender with","2194","        composite time and size based policies.","2195","      <\/action>","2196","      <action issue=\"LOG4J2-475\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Matt Sicker\">","2197","        Changed the MongoDBConnection to add a MongoDB encoding hook instead of a decoding hook.","2198","      <\/action>","2199","      <action issue=\"LOG4J2-489\" dev=\"nickwilliams\" type=\"fix\">","2200","        Fixed the JPAAppender's overuse of transactions by connecting (borrowing from pool) on new write internal or on","2201","        flush.","2202","      <\/action>","2203","      <action issue=\"LOG4J2-457\" dev=\"nickwilliams\" type=\"fix\">","2204","        Fixed failure of JDBC and JPA appender to properly release database connections by connecting (borrowing from","2205","        pool) on new write internal or on flush.","2206","      <\/action>","2207","      <action issue=\"LOG4J2-442\" dev=\"nickwilliams\" type=\"fix\">","2208","        Fixed problem with JDBC and JPA appender connectivity in WebSphere by connecting (borrowing from pool) on new","2209","        write internal or on flush.","2210","      <\/action>","2211","      <action issue=\"LOG4J2-438\" dev=\"nickwilliams\" type=\"fix\">","2212","        Ensured the JDBCAppender commits transactions after a single write or a flush of multiple writes.","2213","      <\/action>","2214","      <action issue=\"LOG4J2-407\" dev=\"nickwilliams\" type=\"fix\">","2215","        Fixed inability to recover from lost database connection in database appenders by connecting (borrowing from","2216","        pool) on new write internal or on flush.","2217","      <\/action>","2218","      <action issue=\"LOG4J2-530\" dev=\"rpopma\" type=\"add\">","2219","        (JMX) JMX Client GUI should dynamically update when LoggerContext MBeans are registered\/unregistered in MBean","2220","        server.","2221","      <\/action>","2222","      <action issue=\"LOG4J2-511\" dev=\"rpopma\" type=\"fix\" due-to=\"James Pretorius\">","2223","        Stop AsyncLoggerConfig Disruptor thread(s), then AsyncAppender thread(s) first","2224","        before stopping other appenders.","2225","      <\/action>","2226","      <action issue=\"LOG4J2-392\" dev=\"rpopma\" type=\"fix\" due-to=\"ilynaf, Andre Bogus\">","2227","        Stop AsyncLoggerConfig Disruptor thread(s), then AsyncAppender thread(s) first","2228","        before stopping other appenders.","2229","      <\/action>","2230","      <action issue=\"LOG4J2-345\" dev=\"rpopma\" type=\"fix\" due-to=\"Roland Weiglhofer, Matt Sicker\">","2231","        (OSGi) logging.log4j-1.2-api doesn't export the log4j API 1.2. Dependent bundles can not be resolved.","2232","      <\/action>","2233","      <action issue=\"LOG4J2-523\" dev=\"ggregory\" type=\"fix\">","2234","        LocalizedMessage serialization is broken.","2235","      <\/action>","2236","      <action issue=\"LOG4J2-385\" dev=\"rpopma\" type=\"fix\" due-to=\"Ace Funk, Porfirio Partida\">","2237","        Fixed issues with time-based file rollover (monthly, weekly, hourly and every minute).","2238","      <\/action>","2239","      <action issue=\"LOG4J2-452\" dev=\"nickwilliams\" type=\"fix\">","2240","        Added a ServletContext attribute that, when set to \"true\", disables Log4j's auto-initialization in","2241","        Servlet 3.0+ web applications.","2242","      <\/action>","2243","      <action issue=\"LOG4J2-512\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Chandra Sekhar Kakarla, Matt Sicker\">","2244","        Exposed Log4j web support interface and methods and the LoggerContext through ServletContext attributes","2245","        so that threads not affected by filters (such as asynchronous threads) can utilize the LoggerContext. Also","2246","        updated the Log4j filter so that it supports async.","2247","      <\/action>","2248","      <action issue=\"LOG4J2-409\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Frank Steinmann, Thomas Neidhart\">","2249","        Created a utility to properly escape backslashes before creating URIs, and changed URI creation to use the","2250","        utility instead of instantiating URI directly.","2251","      <\/action>","2252","      <action issue=\"LOG4J2-344\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Keir Lawson, Tomasz Wladzinski\">","2253","        Changed the Servlet 3.0 auto-initializer to add the filter by class to get around a WebLogic bug.","2254","      <\/action>","2255","      <action issue=\"LOG4J2-359\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Abhinav Shah\">","2256","        Changed the Servlet 3.0 auto-initializer so that it does nothing in a Servlet 2.5 or older application. This","2257","        ensures behavioral consistency across containers. This includes additional fixes to abort initialization if a","2258","        duplicate filter already exists and to check the actual Servlet EFFECTIVE version.","2259","      <\/action>","2260","      <action issue=\"LOG4J2-517\" dev=\"rpopma\" type=\"fix\">","2261","        Switch in log4j-1.2-api Category.getEffectiveLevel has no cases for FATAL, OFF.","2262","      <\/action>","2263","      <action issue=\"LOG4J2-41\" dev=\"rgoers\" type=\"update\" due-to=\"Nick Williams\">","2264","        Add support for custom logging levels.","2265","      <\/action>","2266","      <action issue=\"LOG4J2-406\" dev=\"rpopma\" type=\"fix\" due-to=\"Kerrigan Joseph\">","2267","        (JMX) Unregister all log4j JMX MBeans when the LoggerContext is stopped","2268","        to allow web application classes to be GC-ed on undeploy.","2269","      <\/action>","2270","      <action issue=\"LOG4J2-405\" dev=\"rgoers\" type=\"fix\">","2271","        Configuration was being processed twice at startup.","2272","      <\/action>","2273","      <action issue=\"LOG4J2-479\" dev=\"rpopma\" type=\"add\" due-to=\"MK\">","2274","        ThreadContext now uses plain ThreadLocal by default, unless system property","2275","        isThreadContextMapInheritable has value \"true\".","2276","      <\/action>","2277","      <action issue=\"LOG4J2-398\" dev=\"rgoers\" type=\"fix\">","2278","        Configure properties and setup Interpolator before processing rest of configuration.","2279","      <\/action>","2280","      <action issue=\"LOG4J2-481\" dev=\"rgoers\" type=\"add\" due-to=\"Matt Sicker\">","2281","        Add Stream interface to Loggers.","2282","      <\/action>","2283","      <action issue=\"LOG4J2-490\" dev=\"rgoers\" type=\"update\" due-to=\"Matt Sicker\">","2284","        Update EasyMock to version 3.2.","2285","      <\/action>","2286","      <action issue=\"LOG4J2-470\" dev=\"rgoers\" type=\"fix\">","2287","        hostName property was not being set until after the first configuration element.","2288","      <\/action>","2289","      <action issue=\"LOG4J2-464\" dev=\"rgoers\" type=\"fix\">","2290","        Support arrays as sub-elements of a JSON configuration.","2291","      <\/action>","2292","      <action issue=\"LOG4J2-492\" dev=\"rpopma\" type=\"fix\" due-to=\"Shaddy Baddah, Herlani Junior\">","2293","        (JMX) Fixed MalformedObjectNameException if context name contains '=' or newline characters.","2294","      <\/action>","2295","      <action issue=\"LOG4J2-377\" dev=\"rpopma\" type=\"fix\" due-to=\"Roland Weiglhofer, Matt Sicker\">","2296","        (OSGi) Fix NPE during shutdown.","2297","      <\/action>","2298","      <action issue=\"LOG4J2-463\" dev=\"rpopma\" type=\"fix\" due-to=\"Michael Diamond, Matt Sicker\">","2299","        Fixed documentation for MyApp example application in the Automatic Configuration section","2300","      <\/action>","2301","      <action issue=\"LOG4J2-408\" dev=\"rpopma\" type=\"fix\" due-to=\"Dongqing Hu, Matt Sicker\">","2302","        Fixed error in documentation code example in manual\/eventlogging.html","2303","      <\/action>","2304","      <action issue=\"LOG4J2-451\" dev=\"rpopma\" type=\"fix\" due-to=\"Vinay Pothnis, Matt Sicker\">","2305","        Fixed typo in documentation: system property should be log4j2.loggerContextFactory","2306","      <\/action>","2307","      <action issue=\"LOG4J2-443\" dev=\"rpopma\" type=\"fix\" due-to=\"Colin Froggatt, Tudor Har\">","2308","        (JMX) Fixed issue where log4j2 LoggerContext did not show up in JMX GUI or JConsole.","2309","      <\/action>","2310","      <action issue=\"LOG4J2-485\" dev=\"rpopma\" type=\"fix\">","2311","        Fixed issue where toString methods that perform logging could deadlock AsyncAppender.","2312","      <\/action>","2313","      <action issue=\"LOG4J2-445\" dev=\"rpopma\" type=\"fix\" due-to=\"Anthony Baldocchi\">","2314","        ResolverUtil cannot find packages in file URLs which include the '+' character.","2315","      <\/action>","2316","      <action issue=\"LOG4J2-430\" dev=\"rgoers\" type=\"fix\" due-to=\"David Gstir\">","2317","        Use the formatted Message in RFC5424Layout for non-StructuredDataMessages.","2318","      <\/action>","2319","      <action issue=\"LOG4J2-459\" dev=\"rgoers\" type=\"fix\">","2320","        Set external context when constructing the LoggerContext.","2321","      <\/action>","2322","      <action issue=\"LOG4J2-466\" dev=\"rpopma\" type=\"fix\" due-to=\"Jan Tepke\">","2323","        Cannot load log4j2 config file if path contains plus '+' characters.","2324","      <\/action>","2325","      <action issue=\"LOG4J2-462\" dev=\"rpopma\" type=\"fix\" due-to=\"Daisuke Baba\">","2326","        Fix LogEvent to never return null Level, fixes LevelPatternConverter.format may throw NPE.","2327","      <\/action>","2328","      <action issue=\"LOG4J2-465\" dev=\"rpopma\" type=\"fix\" due-to=\"Daisuke Baba\">","2329","        Fix LogEvent to never return null Level, fixes ThresholdFilter throws NPE.","2330","      <\/action>","2331","      <action issue=\"LOG4J2-471\" dev=\"rpopma\" type=\"fix\" due-to=\"Anthony Baldocchi\">","2332","        Fixed issue where toString methods that perform logging could deadlock AsyncLogger.","2333","      <\/action>","2334","      <action issue=\"LOG4J2-482\" dev=\"rpopma\" type=\"add\" due-to=\"Hongdi Ren\">","2335","        Documentation fix: The attribute of Route to refer to an appender is \"ref\" not \"AppenderRef\".","2336","      <\/action>","2337","      <action issue=\"LOG4J2-467\" dev=\"rpopma\" type=\"add\" due-to=\"Anthony Baldocchi\">","2338","        Added option to toggle Thread name caching in AsyncLogger.","2339","      <\/action>","2340","      <action issue=\"LOG4J2-478\" dev=\"ggregory\" type=\"fix\" due-to=\"Michael Friedmann.\">","2341","        The message and ndc fields are not JavaScript escaped in JSONLayout.","2342","      <\/action>","2343","      <action issue=\"LOG4J2-455\" dev=\"rpopma\" type=\"fix\" due-to=\"Robin Zhang Tao\">","2344","        RingBufferLogEvent should return Message timestamp for TimestampMessage messages.","2345","      <\/action>","2346","      <action issue=\"LOG4J2-477\" dev=\"rpopma\" type=\"fix\" due-to=\"Tal Liron\">","2347","        NPE in ClassLoaderContextSelector.","2348","      <\/action>","2349","      <action issue=\"LOG4J2-454\" dev=\"rpopma\" type=\"fix\" due-to=\"Robin Zhang Tao\">","2350","        TimeBasedTriggeringPolicy should use event time millis.","2351","      <\/action>","2352","      <action issue=\"LOG4J2-472\" dev=\"rpopma\" type=\"fix\" due-to=\"Tal Liron\">","2353","        BaseConfiguration class does not properly implement Configuration interface.","2354","      <\/action>","2355","      <action issue=\"LOG4J2-447\" dev=\"ggregory\" type=\"fix\" due-to=\"Jeff Hudren, Mark Paluch, Scott Deboy\">","2356","        XMLLayout does not include marker name.","2357","      <\/action>","2358","      <action issue=\"LOG4J2-453\" dev=\"rgoers\" type=\"update\">","2359","        Update Flume Appender to use Flume 1.4.0.","2360","      <\/action>","2361","      <action issue=\"LOG4J2-423\" dev=\"rpopma\" type=\"add\">","2362","        (JMX) Added MBeans for instrumenting AsyncAppenders and AsyncLogger RingBuffers,","2363","        exposing queue size, remaining capacity and other attributes.","2364","      <\/action>","2365","      <action issue=\"LOG4J2-323\" dev=\"rpopma\" type=\"fix\">","2366","        Resolved memory leak by releasing reference to ThreadLocal when","2367","        AsyncLogger is stopped.","2368","      <\/action>","2369","      <action issue=\"LOG4J2-425\" dev=\"rpopma\" type=\"fix\">","2370","        Resolved memory leak by populating AsyncLoggerConfigHelper ring buffer","2371","        via EventTranslatorTwoArg, eliminating the need for a ThreadLocal.","2372","      <\/action>","2373","      <action issue=\"LOG4J2-420\" dev=\"ggregory\" type=\"add\">","2374","        Create a lookup for resource bundle substitution.","2375","      <\/action>","2376","      <action issue=\"LOG4J2-417\" dev=\"ggregory\" type=\"fix\">","2377","        Fix Event Level \/ LoggerConfig Level table at the architecture documentation page.","2378","      <\/action>","2379","      <action issue=\"LOG4J2-415\" dev=\"ggregory\" type=\"add\">","2380","        Format log event time as UNIX time (seconds or milliseconds).","2381","      <\/action>","2382","      <action issue=\"LOG4J2-404\" dev=\"rgoers\" type=\"fix\" due-to=\"Kamal Bahadur\">","2383","        @EnterpriseNumber\" was missing in the ID of structured data when RFC5424Layout is used","2384","      <\/action>","2385","      <action issue=\"LOG4J2-379\" dev=\"rpopma\" type=\"fix\">","2386","        Fixed issue that prevented Log4J from working in Google App Engine.","2387","      <\/action>","2388","      <action issue=\"LOG4J2-401\" dev=\"ggregory\" type=\"add\">","2389","        Configure FileAppender buffer size.","2390","      <\/action>","2391","      <action issue=\"LOG4J2-402\" dev=\"ggregory\" type=\"add\">","2392","        Configure RandomAccessFileAppender buffer size.","2393","      <\/action>","2394","      <action issue=\"LOG4J2-528\" dev=\"ggregory\" type=\"update\">","2395","        Rename package org.apache.logging.log4j.core.appender.rolling.helper to org.apache.logging.log4j.core.appender.rolling.action.","2396","      <\/action>","2397","      <action issue=\"LOG4J2-532\" dev=\"ggregory\" type=\"update\">","2398","        Resource leak in Flume appender when it cannot create a BerkeleyDB db.","2399","      <\/action>","2400","      <action issue=\"LOG4J2-413\" dev=\"ggregory\" type=\"update\">","2401","        PatternLayout option to not output ANSI escape codes if no Console is available.","2402","      <\/action>","2403","    <\/release>","2404","    <release version=\"2.0-beta9\" date=\"2013-09-14\" description=\"Bug fixes and enhancements\">","2405","      <action issue=\"LOG4J2-317\" dev=\"ggregory\" type=\"update\">","2406","        Renamed FastFileAppender and FastRollingFileAppender to RandomAccessFileAppender","2407","        and RollingRandomAccessFileAppender. Configurations using the Fast(Rolling)File element","2408","        no longer work and should be modified to use the (Rolling)RandomAccessFile element.","2409","      <\/action>","2410","      <action dev=\"nickwilliams\" type=\"update\">","2411","        Changed the \"suppressExceptions\" configuration attribute for all Appenders to \"ignoreExceptions\" to avoid","2412","        confusion with Java 7 suppressed exceptions. Also renamed the Appender#isExceptionSuppressed() method to","2413","        Appender#ignoreExceptions() to avoid the same confusion. All Appenders by default internally log and then ignore","2414","        exceptions encountered while logging. Setting \"ignoreExceptions\" to \"false\" on an Appender causes it to allow","2415","        exceptions to propagate to the caller. You must set \"ignoreExceptions\" to \"false\" for Appenders you are wrapping","2416","        in the Failover Appender.","2417","      <\/action>","2418","      <action dev=\"nickwilliams\" type=\"update\">","2419","        Changed the (relatively new) PatternLayout configuration attribute \"suppressExceptions\" to","2420","        \"alwaysWriteExceptions\" to more correctly indicate what it does. As such, the meaning of this attribute has","2421","        reversed (previous \"true\"s should become \"false\"s, and vice versa). Since this was an undocumented attribute up","2422","        until now, it's unlikely this change will affect any users.","2423","      <\/action>","2424","      <action issue=\"LOG4J2-226\" dev=\"rgoers\" type=\"fix\">","2425","        Fix table of contents generation in pdf.","2426","      <\/action>","2427","      <action issue=\"LOG4J2-395\" dev=\"rgoers\" type=\"fix\" due-to=\"Abhinav Shah\">","2428","        Allow classpath scheme when specifying configuration file location as a system property.","2429","      <\/action>","2430","      <action issue=\"LOG4J2-393\" dev=\"rgoers\" type=\"fix\">","2431","        Initialize PluginManager once during configuration. Move advertisement setup into BaseConfiguration.","2432","      <\/action>","2433","      <action issue=\"LOG4J2-391\" dev=\"rgoers\" type=\"fix\" due-to=\"Kamal Bahadur\">","2434","        FlumePersistentManager now handles LockConflictExceptions in Berkeley Db.","2435","      <\/action>","2436","      <action issue=\"LOG4J2-399\" dev=\"ggregory\" type=\"add\">","2437","        Allow the default file rollover strategy to define the compression level.","2438","      <\/action>","2439","      <action issue=\"LOG4J2-338\" dev=\"rgoers\" type=\"add\" due-to=\"Tibor Benke\">","2440","        Add TLSAppender. Also added missing license headers to several files.","2441","      <\/action>","2442","      <action issue=\"LOG4J2-380\" dev=\"rgoers\" type=\"fix\">","2443","        Use rollover date when substituting ${date} in the filePattern.","2444","      <\/action>","2445","      <action issue=\"LOG4J2-253\" dev=\"rpopma\" type=\"add\">","2446","        Added FAQ page to the site.","2447","      <\/action>","2448","      <action issue=\"LOG4J2-362\" dev=\"rpopma\" type=\"add\">","2449","        Add a diagram to the site (FAQ page) that explains when to use which jar.","2450","      <\/action>","2451","      <action issue=\"LOG4J2-322\" dev=\"nickwilliams\" type=\"fix\">","2452","        Centralized reflective use of Reflection#getCallerClass and properly handled its instability in various versions","2453","        of Java.","2454","      <\/action>","2455","      <action issue=\"LOG4J2-293\" dev=\"rgoers\" type=\"fix\">","2456","        Reset the Configuration if the ClassLoaderContextSelector creates a LoggerContext without a configuration","2457","        location and then is later provided one.","2458","      <\/action>","2459","      <action issue=\"LOG4J2-293\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Abhinav Shah\">","2460","        Changed the ConfigurationFactory to recognize and properly use the classpath: URI scheme in addition to the","2461","        classloader: URI scheme.","2462","      <\/action>","2463","      <action issue=\"LOG4J2-359\" dev=\"nickwilliams\" type=\"fix\" due-to=\"Abhinav Shah\">","2464","        Changed the Servlet 3.0 auto-initializer so that it does nothing in a Servlet 2.5 or older application. This","2465","        ensures behavioral consistency across containers.","2466","      <\/action>","2467","      <action issue=\"LOG4J2-374\" dev=\"ggregory\" type=\"add\" due-to=\"Tibor Benke\">","2468","        Add more options to PatternLayout to display more detailed information about a Throwable.","2469","      <\/action>","2470","      <action issue=\"LOG4J2-383\" dev=\"ggregory\" type=\"add\">","2471","        [Pattern Layout] Customize level names by length.","2472","      <\/action>","2473","      <action issue=\"LOG4J2-384\" dev=\"ggregory\" type=\"add\">","2474","        [Pattern Layout] Customize level names to lower-case.","2475","      <\/action>","2476","      <action issue=\"LOG4J2-355\" dev=\"ggregory\" type=\"update\" due-to=\"Tibor Benke\">","2477","        Add support for multiple SD-ELEMENTs in a RFC 5424 syslog message.","2478","      <\/action>","2479","      <action dev=\"nickwilliams\" type=\"update\">","2480","        Cleaned up tests and cleared up documentation for the JPA appender following the resolution of EclipseLink","2481","        issue #412454.","2482","      <\/action>","2483","      <action issue=\"LOG4J2-310\" dev=\"rpopma\" type=\"fix\" due-to=\"Olivier Lemasle\">","2484","        Fixed issue where SMTPAppender did not send mails with error or fatal level without prior info event.","2485","      <\/action>","2486","      <action issue=\"LOG4J2-368\" dev=\"rgoers\" type=\"fix\">","2487","        Add PatternLayout constructor to Log4j 1.2 bridge for Velocity.","2488","      <\/action>","2489","      <action issue=\"LOG4J2-333\" dev=\"ggregory\" type=\"fix\" due-to=\"Herv¨¦ Boutemy\">","2490","        Match artifact ids with Maven module names.","2491","      <\/action>","2492","      <action issue=\"LOG4J2-364\" dev=\"rgoers\" type=\"add\" due-to=\"David Nault\">","2493","        Add WebLookup to retrieve information from the ServletContext.","2494","      <\/action>","2495","      <action issue=\"LOG4J2-367\" dev=\"ggregory\" type=\"fix\" due-to=\"David Parry\">","2496","        JMS appenders send two messages for one append.","2497","      <\/action>","2498","      <action issue=\"LOG4J2-319\" dev=\"ggregory\" type=\"fix\">","2499","        Double stack trace logging when using %throwable in %style and %highlight.","2500","      <\/action>","2501","      <action issue=\"LOG4J2-360\" dev=\"rgoers\" type=\"add\">","2502","        Allow Plugins to have aliases.","2503","      <\/action>","2504","      <action issue=\"LOG4J2-358\" dev=\"nickwilliams\" type=\"fix\">","2505","        NoSQLAppender using MongoDB provider ignores username and password attributes","2506","      <\/action>","2507","      <action issue=\"LOG4J2-356\" dev=\"ggregory\" type=\"add\">","2508","        Create a JSON Layout.","2509","      <\/action>","2510","      <action issue=\"LOG4J2-343\" dev=\"rpopma\" type=\"fix\" due-to=\"Henning Schmiedehausen\">","2511","        Removed unnecessary generics from Appender interface and implementing classes.","2512","      <\/action>","2513","      <action issue=\"LOG4J2-351\" dev=\"rpopma\" type=\"fix\" due-to=\"Roland Weiglhofer\">","2514","        [OSGi] wrong Fragment-Host in manifest files.","2515","      <\/action>","2516","      <action issue=\"LOG4J2-336\" dev=\"rpopma\" type=\"fix\" due-to=\"Andre Bogus\">","2517","        AsyncLogger errors after multiple calls to LoggerContext.reconfigure().","2518","      <\/action>","2519","      <action issue=\"LOG4J2-347\" dev=\"rpopma\" type=\"fix\" due-to=\"David Phillips\">","2520","        Give the AsyncAppender thread a more descriptive name for easier debugging\/profiling.","2521","      <\/action>","2522","      <action issue=\"LOG4J2-332\" dev=\"rgoers\" type=\"fix\" due-to=\"Herv¨¦ Boutemy\">","2523","        Modified documentation to refer to SLF4J Binding instead of SLF4J Bridge.","2524","      <\/action>","2525","      <action issue=\"LOG4J2-342\" dev=\"rgoers\" type=\"fix\">","2526","        Ignore xml:base attributes.","2527","      <\/action>","2528","      <action issue=\"LOG4J2-309\" dev=\"rgoers\" type=\"fix\">","2529","        Insure jars and distributions only have a single License and Notice file.","2530","      <\/action>","2531","      <action issue=\"LOG4J2-341\" dev=\"ggregory\" type=\"add\">","2532","        Enable XInclude for XML configurations.","2533","      <\/action>","2534","      <action issue=\"LOG4J2-320\" dev=\"ggregory\" type=\"fix\">","2535","        JPAAppender stops logging because META-INF\/log4j-provider.properties is left open.","2536","      <\/action>","2537","      <action issue=\"LOG4J2-335\" dev=\"rgoers\" type=\"fix\">","2538","        FlumePersistentManager's writer thread had high CPU usage.","2539","      <\/action>","2540","      <action issue=\"LOG4J2-331\" dev=\"nickwilliams\" type=\"fix\">","2541","        Removed erroneous check for affected MongoDB records, which always returns zero on inserts.","2542","      <\/action>","2543","      <action issue=\"LOG4J2-330\" dev=\"nickwilliams\" type=\"fix\">","2544","        Added a BSON Transformer so that MongoDB can persist Log4j events.","2545","      <\/action>","2546","      <action issue=\"LOG4J2-329\" dev=\"rgoers\" type=\"fix\">","2547","        StatusLogger now only creates StatusData objects if they are the appropriate logging level.","2548","      <\/action>","2549","      <action issue=\"LOG4J2-328\" dev=\"rgoers\" type=\"fix\">","2550","        FlumePersistentManager was calling Berkeley DB's count method too frequently.","2551","      <\/action>","2552","      <action issue=\"LOG4J2-280\" dev=\"rpopma\" type=\"fix\">","2553","        Additional fix to make AsyncAppender threads daemon threads and improve their thread name.","2554","      <\/action>","2555","      <action issue=\"LOG4J2-165\" dev=\"rgoers\" type=\"fix\">","2556","        The slf4j-ext jar is now an optional dependency of the SLF4J bridge.","2557","      <\/action>","2558","      <action issue=\"LOG4J2-318\" dev=\"rgoers\" type=\"update\">","2559","        Allow shutdown hook to be disabled in the configuration.","2560","      <\/action>","2561","      <action issue=\"LOG4J2-166\" dev=\"rgoers\" type=\"fix\">","2562","        RoutingAppender's default Route can now be an appender reference.","2563","      <\/action>","2564","      <action issue=\"LOG4J2-313\" dev=\"rgoers\" type=\"add\" due-to=\"Woonsan Ko\">","2565","        Add JNDILookup plugin.","2566","      <\/action>","2567","      <action issue=\"LOG4J2-299\" dev=\"rgoers\" type=\"fix\">","2568","        Add getThrowable method to ThrowableProxy.","2569","      <\/action>","2570","      <action issue=\"LOG4J2-216\" dev=\"rgoers\" type=\"fix\">","2571","        ThrowableProxy no longer extends Throwable.","2572","      <\/action>","2573","      <action issue=\"LOG4J2-311\" dev=\"rpopma\" type=\"fix\">","2574","        Synchronized flush() and close() methods in the XxxFileManager and OutputStreamManager classes.","2575","      <\/action>","2576","      <action issue=\"LOG4J2-312\" dev=\"ggregory\" type=\"update\">","2577","        XML layout improvements (compact vs. pretty, namespace, namespace prefix, root element).","2578","      <\/action>","2579","      <action issue=\"LOG4J2-388\" dev=\"ggregory\" type=\"update\">","2580","        Update Java Mail dependency to 1.5.0 from 1.4.7.","2581","      <\/action>","2582","      <action issue=\"LOG4J2-325\" dev=\"ggregory\" type=\"update\">","2583","        Update JDBC tests to use H2 database 1.3.173 from 1.3.172.","2584","      <\/action>","2585","      <action issue=\"LOG4J2-366\" dev=\"ggregory\" type=\"update\">","2586","        Update commons-logging to 1.1.3 from 1.1.1.","2587","      <\/action>","2588","      <action issue=\"LOG4J2-390\" dev=\"ggregory\" type=\"update\">","2589","        Update HSQLDB dependency to 2.3.0 from 2.2.9.","2590","      <\/action>","2591","      <action issue=\"LOG4J2-308\" dev=\"rpopma\" type=\"update\">","2592","        Clarified which library versions were used in Async Loggers performance test.","2593","      <\/action>","2594","      <action issue=\"LOG4J2-307\" dev=\"rpopma\" type=\"update\">","2595","        Updated Async Loggers' LMAX Disruptor library from 3.0.1 to 3.2.0.","2596","      <\/action>","2597","      <action issue=\"LOG4J2-306\" dev=\"ggregory\" type=\"update\">","2598","        Update JSON Jackson library to 2.2.2 from 2.2.1.","2599","      <\/action>","2600","      <action issue=\"LOG4J2-387\" dev=\"ggregory\" type=\"update\">","2601","        Update Jackson dependency to 1.9.13 from 1.9.11.","2602","      <\/action>","2603","      <action issue=\"LOG4J2-305\" dev=\"ggregory\" type=\"add\">","2604","        Ease porting from 1.x Logger.getRootLogger(): add LogManager.getRootLogger().","2605","      <\/action>","2606","      <action issue=\"LOG4J2-304\" dev=\"rpopma\" type=\"fix\">","2607","        Fixed Async Loggers memory leak.","2608","      <\/action>","2609","      <action issue=\"LOG4J2-291\" dev=\"nickwilliams\" type=\"fix\">","2610","        Fixed JDBC, JPA, and NoSQL appenders so that the failover appender properly fails over on error.","2611","      <\/action>","2612","      <action dev=\"nickwilliams\" type=\"update\">","2613","        Improved site by adding quick jump-off page and menu for Javadoc links for all components.","2614","      <\/action>","2615","      <action issue=\"LOG4J2-397\" dev=\"ggregory\" type=\"fix\" due-to=\"Yonatan Graber\">","2616","        Logger.info(Message) Javadoc is incorrect.","2617","      <\/action>","2618","    <\/release>","2619","    <release version=\"2.0-beta8\" date=\"2013-07-10\" description=\"Bug fixes and enhancements\">","2620","      <action issue=\"LOG4J2-270\" dev=\"nickwilliams\" type=\"update\">","2621","        Improved logging initialization in Servlet containers, especially Servlet 3.0 and newer where Log4j now","2622","        initializes and deinitializes automatically with no deployment descriptor configuration.","2623","      <\/action>","2624","      <action issue=\"LOG4J2-302\" dev=\"rpopma\" type=\"fix\">","2625","        Added toString methods to ThreadContextStack\/Map implementation classes.","2626","      <\/action>","2627","      <action issue=\"LOG4J2-301\" dev=\"rgoers\" type=\"update\">","2628","        Add printf methods to Logger API.","2629","      <\/action>","2630","      <action issue=\"LOG4J2-300\" dev=\"rgoers\" type=\"fix\">","2631","        WriterThread was ending when no agents are available which caused an OutOfMemoryError.","2632","      <\/action>","2633","      <action issue=\"LOG4J2-282\" dev=\"rgoers\" type=\"update\">","2634","        Allow the default status level to be specified as a system property.","2635","      <\/action>","2636","      <action issue=\"LOG4J2-278\" dev=\"rgoers\" type=\"fix\">","2637","        Filter calls from Avro or Flume to be ignored by the FlumeAppender.","2638","      <\/action>","2639","      <action issue=\"LOG4J2-279\" dev=\"rgoers\" type=\"fix\">","2640","        FlumePersistentManager now calls Berkeley DB from threads to avoid encountering interrupts in the application.","2641","      <\/action>","2642","      <action issue=\"LOG4J2-296\" dev=\"ggregory\" type=\"fix\">","2643","        Wasted work in FlumePersistentManager.createManager.","2644","      <\/action>","2645","      <action issue=\"LOG4J2-297\" dev=\"ggregory\" type=\"fix\">","2646","        Wasted work in TestConfigurator.testEnvironment.","2647","      <\/action>","2648","      <action issue=\"LOG4J2-298\" dev=\"ggregory\" type=\"fix\">","2649","        Wasted work in StyleConverterTest.setupClass.","2650","      <\/action>","2651","      <action issue=\"LOG4J2-280\" dev=\"rpopma\" type=\"fix\">","2652","        AsyncLogger threads are now daemon threads and won't prevent the JVM from shutting down anymore.","2653","      <\/action>","2654","      <action issue=\"LOG4J2-295\" dev=\"rpopma\" type=\"fix\">","2655","        Fast(Rolling)FileAppender now correctly handles messages exceeding the buffer size.","2656","      <\/action>","2657","      <action issue=\"LOG4J2-271\" dev=\"rpopma\" type=\"fix\">","2658","        FastRollingFileAppender with TimeBasedTriggeringPolicy now works correctly if append=false.","2659","      <\/action>","2660","      <action issue=\"LOG4J2-267\" dev=\"rpopma\" type=\"fix\">","2661","        FastRollingFileAppender with TimeBasedTriggeringPolicy now works correctly if append=false.","2662","      <\/action>","2663","      <action issue=\"LOG4J2-292\" dev=\"rpopma\" type=\"fix\">","2664","        Fast(Rolling)FileAppender now correctly appends to (does not overwrite) existing file.","2665","      <\/action>","2666","      <action issue=\"LOG4J2-294\" dev=\"rgoers\" type=\"update\">","2667","        LogManager.getLogger can now be called without a logger name or with a null logger name.","2668","      <\/action>","2669","      <action issue=\"LOG4J2-289\" dev=\"rgoers\" type=\"fix\">","2670","        Upgrade javadoc plugin to 2.9.1 to fix javadoc security issue.","2671","      <\/action>","2672","      <action issue=\"LOG4J2-288\" dev=\"gregory\" type=\"update\">","2673","        Update JUnit to 4.11 from 4.7.","2674","      <\/action>","2675","      <action issue=\"LOG4J2-286\" dev=\"gregory\" type=\"update\">","2676","        Update test H2 JDBC driver to 1.172 from 1.171.","2677","      <\/action>","2678","      <action issue=\"LOG4J2-285\" dev=\"gregory\" type=\"update\">","2679","        Update Jansi jar to 1.11 from 1.9.","2680","      <\/action>","2681","      <action issue=\"LOG4J2-284\" dev=\"gregory\" type=\"update\">","2682","        Update Log4j 1 dependency to 1.2.17 from 1.2.16.","2683","      <\/action>","2684","      <action issue=\"LOG4J2-386\" dev=\"gregory\" type=\"update\">","2685","        Update NoSQL dependencies: lightcouch 0.0.6 from 0.0.5, mongodb 2.11.2 from 2.11.1.","2686","      <\/action>","2687","      <action issue=\"LOG4J2-283\" dev=\"gregory\" type=\"update\">","2688","        Remove dependency on Apache ORO jar.","2689","      <\/action>","2690","      <action issue=\"LOG4J2-277\" dev=\"gregory\" type=\"update\">","2691","        Wasted work in RollingAppenderSizeTest.testAppender() and others.","2692","      <\/action>","2693","      <action issue=\"LOG4J2-139\" dev=\"rgoers\" type=\"fix\">","2694","        Fix NullPointerException (regression due to fix for LOG4J2-228)","2695","      <\/action>","2696","      <action issue=\"LOG4J2-168\" dev=\"rgoers\" type=\"update\" due-to=\"Scott Severtson\">","2697","        Include arbitrary message fields in RFC-5424 structured data.","2698","      <\/action>","2699","      <action issue=\"LOG4J2-275\" dev=\"rgoers\" type=\"fix\">","2700","        FlumeAvroManager fails to notify client of failing event if Flume RPCClient cannot be created.","2701","      <\/action>","2702","      <action issue=\"LOG4J2-274\" dev=\"ggregory\" type=\"update\">","2703","        Wasted work in UUIDUtil initialization.","2704","      <\/action>","2705","      <action issue=\"LOG4J2-273\" dev=\"ggregory\" type=\"update\">","2706","        Wasted work in XMLLayout.toSerializable().","2707","      <\/action>","2708","    <\/release>","2709","    <release version=\"2.0-beta7\" date=\"2013-06-01\" description=\"Bug fixes and enhancements\">","2710","      <action issue=\"LOG4J2-249\" dev=\"rgoers\" type=\"update\">","2711","        Allow context parameters in Log4jContextListener to include properties.","2712","      <\/action>","2713","      <action issue=\"LOG4J2-263\" dev=\"rgoers\" type=\"fix\">","2714","        Do not allow a charset on RFC5424Layout - use UTF-8.","2715","      <\/action>","2716","      <action issue=\"LOG4J2-242\" dev=\"rgoers\" type=\"fix\">","2717","        StringFormattedMessage and MessageFormatMessage now will accept a Throwable as their last argument and","2718","        pass it on.","2719","      <\/action>","2720","      <action issue=\"LOG4J2-243\" dev=\"rgoers\" type=\"update\">","2721","        Allow custom LogEventFactories.","2722","      <\/action>","2723","      <action issue=\"LOG4J2-262\" dev=\"rgoers\" type=\"update\" due-to=\"Edward Sargisson\">","2724","        Add support for interceptors in the embedded Flume Appender.","2725","      <\/action>","2726","      <action issue=\"LOG4J2-269\" dev=\"rgoers\" type=\"fix\">","2727","        Use transaction when batch size is 1.","2728","      <\/action>","2729","      <action issue=\"LOG4J2-268\" dev=\"rgoers\" type=\"fix\">","2730","        Add guid to FlumeEvent headers for non-Map Messages.","2731","      <\/action>","2732","      <action issue=\"LOG4J2-246\" dev=\"rgoers\" type=\"fix\">","2733","        Data buffer is reset in finally clause.","2734","      <\/action>","2735","      <action issue=\"LOG4J2-228\" dev=\"rgoers\" type=\"fix\">","2736","        UDP now sends one event per packet.","2737","      <\/action>","2738","      <action dev=\"rpopma\" type=\"update\">","2739","        Method name changes in interface org.apache.logging.log4j.spi.ThreadContextMap:","2740","        getContext() to getCopy(), get() to getImmutableMapOrNull().","2741","      <\/action>","2742","      <action issue=\"LOG4J2-154\" dev=\"rpopma\" type=\"update\">","2743","        Improve ThreadContext performance with copy-on-write map and stack.","2744","      <\/action>","2745","      <action issue=\"LOG4J2-261\" dev=\"rgoers\" type=\"fix\" due-to=\"Edward Sargisson\">","2746","        Add missing \"not\" to error message.","2747","      <\/action>","2748","      <action issue=\"LOG4J2-10\" dev=\"rgoers\" type=\"add\" due-to=\"Timothy Ward\">","2749","        Break up core into multiple osgi jars.","2750","      <\/action>","2751","      <action issue=\"LOG4J2-223\" dev=\"rgoers\" type=\"fix\">","2752","        Remove LoggerContext when LoggerContext is stopped.","2753","      <\/action>","2754","      <action issue=\"LOG4J2-260\" dev=\"ggregory\" type=\"fix\">","2755","        XML layout does not specify charset in content type.","2756","      <\/action>","2757","      <action issue=\"LOG4J2-259\" dev=\"ggregory\" type=\"fix\">","2758","        HTML layout does not specify charset in content type.","2759","      <\/action>","2760","      <action issue=\"LOG4J2-258\" dev=\"ggregory\" type=\"fix\">","2761","        HTML layout does not output meta element for charset.","2762","      <\/action>","2763","      <action issue=\"LOG4J2-257\" dev=\"ggregory\" type=\"fix\">","2764","        XML layout ignores charset for the XML processing intruction's encoding attribute.","2765","      <\/action>","2766","      <action issue=\"LOG4J2-255\" dev=\"rpopma\" type=\"fix\">","2767","        Multi-byte character strings are now assumed to be in the platform default encoding, not UTF-8.","2768","      <\/action>","2769","      <action issue=\"LOG4J2-254\" dev=\"rgoers\" type=\"fix\">","2770","        Mark OutputStream in OutputStreamManager as volatile. Mark header and footer as final.","2771","      <\/action>","2772","      <action issue=\"LOG4J2-244\" dev=\"rgoers\" type=\"fix\">","2773","        Rewrite Appender was ignoring filters on referenced appenders.","2774","      <\/action>","2775","      <action issue=\"LOG4J2-245\" dev=\"rgoers\" type=\"fix\">","2776","        Avoid EmptyStack exception if getCallerClass and SecurityManager are not available.","2777","      <\/action>","2778","      <action issue=\"LOG4J2-229\" dev=\"ggregory\" type=\"add\" due-to=\"Nick Williams\">","2779","        New JDBC, JPA, and NoSQL database Appenders.","2780","      <\/action>","2781","      <action issue=\"LOG4J2-247\" dev=\"ggregory\" type=\"fix\">","2782","        SocketServer.isActive should be volatile because it is accessed from different threads.","2783","      <\/action>","2784","      <action issue=\"LOG4J2-251\" dev=\"sdeboy\" type=\"add\">","2785","        Provide configuration information (location, content type, content if possible) via a registered Advertiser.","2786","      <\/action>","2787","    <\/release>","2788","    <release version=\"2.0-beta6\" date=\"2013-05-05\" description=\"Bug fixes and enhancements\">","2789","      <action issue=\"LOG4J2-231\" dev=\"rgoers\" type=\"fix\">","2790","        Logger.getParent() was not returning the correct Logger.","2791","      <\/action>","2792","      <action issue=\"LOG4J2-201\" dev=\"rgoers\" type=\"fix\">","2793","        Renamed Plugin annotation attribute from \"type\" to \"category\".","2794","      <\/action>","2795","      <action issue=\"LOG4J2-237\" dev=\"rpopma\" type=\"update\">","2796","        Moved JMX Client GUI classes into separate jmx-gui submodule.","2797","      <\/action>","2798","      <action issue=\"LOG4J2-219\" dev=\"rpopma\" type=\"fix\" due-to=\"Peter DePasquale\">","2799","        Fix: install default root logger if not configured (this is unchanged),","2800","        but make sure to include configured named loggers. Clarified documentation.","2801","      <\/action>","2802","      <action issue=\"LOG4J2-159\" dev=\"rgoers\" type=\"fix\">","2803","        Use OSGi version format in Fragment-Host","2804","      <\/action>","2805","      <action issue=\"LOG4J2-234\" dev=\"rgoers\" type=\"fix\">","2806","        RegexFilter threw a NullPointerException when used as a context-wide filter.","2807","      <\/action>","2808","      <action issue=\"LOG4J2-192\" dev=\"rgoers\" type=\"fix\">","2809","        Add support for interpolating Environment variables when processing the configuration.","2810","      <\/action>","2811","      <action issue=\"LOG4J2-235\" dev=\"rpopma\" type=\"fix\" due-to=\"Sebastian Oerding\">","2812","        Removed dependency on tools jar from core module, made jconsole dependency optional.","2813","      <\/action>","2814","      <action issue=\"LOG4J2-233\" dev=\"rpopma\" type=\"fix\">","2815","        Fixed link to log4j-user mailing list.","2816","      <\/action>","2817","      <action issue=\"LOG4J2-230\" dev=\"rpopma\" type=\"update\" due-to=\"Wojciech Zar?ba\">","2818","        Improved error reporting when misconfigured.","2819","      <\/action>","2820","      <action issue=\"LOG4J2-222\" dev=\"rgoers\" type=\"fix\" due-to=\"Steven Yang\">","2821","        Disruptor will now shutdown during Tomcat shutdown.","2822","      <\/action>","2823","      <action dev=\"rpopma\" type=\"update\">","2824","        Renamed AsynchAppender to AsyncAppender. Plugin name became Async (was Asynch).","2825","      <\/action>","2826","      <action dev=\"rpopma\" type=\"update\">","2827","        Removed CheckStyle false positives for NewlineAtEndOfFile and whitespace following '*' at end of line in javadoc.","2828","      <\/action>","2829","      <action dev=\"rpopma\" type=\"update\">","2830","        Moved Clock interface to package org.apache.logging.log4j.core.helpers.","2831","      <\/action>","2832","      <action issue=\"LOG4J2-225\" dev=\"rpopma\" type=\"update\">","2833","        Documentation updates to clarify use and impact of location in pattern layouts.","2834","      <\/action>","2835","      <action issue=\"LOG4J2-224\" dev=\"rgoers\" type=\"fix\">","2836","        The FlumeAppender failed to start if the Flume RPCClient could not connect to any Flume agents.","2837","      <\/action>","2838","      <action issue=\"LOG4J2-223\" dev=\"rgoers\" type=\"fix\">","2839","        Fix LoggerContext start and stop to eliminate IllegalStateException and NoClassDefFound errors.","2840","      <\/action>","2841","      <action issue=\"LOG4J2-221\" dev=\"rgoers\" type=\"fix\" due-to=\"Nick Williams\">","2842","        Remove hundreds of compiler warnings.","2843","      <\/action>","2844","      <action issue=\"LOG4J2-215\" dev=\"rpopma\" type=\"fix\">","2845","        Various small documentation fixes.","2846","      <\/action>","2847","      <action issue=\"LOG4J2-217\" dev=\"rpopma\" type=\"fix\" due-to=\"Fabien Sanglard\">","2848","        Ensure PluginManager streams are always closed.","2849","      <\/action>","2850","    <\/release>","2851","    <release version=\"2.0-beta5\" date=\"2013-04-20\" description=\"Bug fixes and enhancements\">","2852","      <action issue=\"LOG4J2-205\" dev=\"rgoers\" type=\"fix\">","2853","        Fix deadlock in SocketAppender. Added option to not wait for socket reconnect.","2854","      <\/action>","2855","      <action issue=\"LOG4J2-207\" dev=\"rgoers\" type=\"add\" due-to=\"Remko Popma\">","2856","        Add JMX support.","2857","      <\/action>","2858","      <action issue=\"LOG4J2-211\" dev=\"rgoers\" type=\"fix\" due-to=\"Nick Williams\">","2859","        Removing extra spaces in entry and exit method output.","2860","      <\/action>","2861","      <action issue=\"LOG4J2-214\" dev=\"rgoers\" type=\"update\" due-to=\"Remko Popma\">","2862","        Async documentation update.","2863","      <\/action>","2864","      <action issue=\"LOG4J2-212\" dev=\"rgoers\" type=\"fix\">","2865","        Loggers without a \".\" had no parent logger.","2866","      <\/action>","2867","      <action issue=\"LOG4J2-208\" dev=\"rgoers\" type=\"update\" due-to=\"Remko Popma\">","2868","        Move async subproject into core.","2869","      <\/action>","2870","      <action issue=\"LOG4J2-212\" dev=\"rgoers\" type=\"fix\">","2871","        Call LoggerContext.stop when the application is shutdown.","2872","      <\/action>","2873","      <action issue=\"LOG4J2-210\" dev=\"rgoers\" type=\"fix\" due-to=\"Arkin Yetis\">","2874","        MapMessage was not enclosing key value in quotes when generating XML.","2875","      <\/action>","2876","      <action issue=\"LOG4J2-198\" dev=\"rgoers\" type=\"fix\">","2877","        FlumeAvroManager now uses Flume RPCClient.","2878","      <\/action>","2879","      <action issue=\"LOG4J2-196\" dev=\"rgoers\" type=\"fix\">","2880","        FlumeAvroManager now uses Flume RPCClient.","2881","      <\/action>","2882","      <action issue=\"LOG4J2-207\" dev=\"ggregory\" type=\"fix\">","2883","        Use the Maven group ID org.apache.logging.log4j for all artifacts.","2884","      <\/action>","2885","      <action issue=\"LOG4J2-187\" dev=\"rgoers\" type=\"add\" due-to=\"Nick Williams\">","2886","        Add tag library.","2887","      <\/action>","2888","      <action issue=\"LOG4J2-195\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","2889","        Unit tests now create files in the target directory.","2890","      <\/action>","2891","      <action issue=\"LOG4J2-193\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","2892","        RollingFastFileAppender (in log4j-async) did not roll over.","2893","      <\/action>","2894","      <action issue=\"LOG4J2-199\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","2895","        Highlight subprojects in sub-navigation.","2896","      <\/action>","2897","      <action issue=\"LOG4J2-200\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","2898","        LoggerContext method renamed to removeFilter from removeFiler.","2899","      <\/action>","2900","      <action issue=\"LOG4J2-194\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","2901","        ThrowableFormatOptionsTest failed on Windows due to CR\/LF issue.","2902","      <\/action>","2903","      <action issue=\"LOG4J2-190\" dev=\"rgoers\" type=\"fix\" due-to=\"Werner\">","2904","        BaseConfiguration addLoggerAppender saved appender using the Logger name.","2905","      <\/action>","2906","      <action issue=\"LOG4J2-160\" dev=\"rgoers\" type=\"update\" due-to=\"Joanne Polsky\">","2907","        Move Throwable pattern converter options processing to ThrowableFormatOptions class.","2908","      <\/action>","2909","      <action issue=\"LOG4J2-157\" dev=\"rgoers\" type=\"update\" due-to=\"Remko Popma\">","2910","        Allowed Loggers access to the properties in the LoggerConfig.","2911","      <\/action>","2912","      <action issue=\"LOG4J2-153\" dev=\"rgoers\" type=\"update\" due-to=\"Remko Popma\">","2913","        Added ability to include or exclude location information.","2914","      <\/action>","2915","      <action issue=\"LOG4J2-151\" dev=\"rgoers\" type=\"update\" due-to=\"Remko Popma\">","2916","        Allow Logger and LoggerContext to be subclassed.","2917","      <\/action>","2918","      <action issue=\"LOG4J2-164\" dev=\"rgoers\" type=\"add\" due-to=\"Remko Popma\">","2919","        Add methods is\/setEndOfBatch to LogEvent.","2920","      <\/action>","2921","      <action issue=\"LOG4J2-163\" dev=\"rgoers\" type=\"add\" due-to=\"Remko Popma\">","2922","        Add support for asynchronous loggers.","2923","      <\/action>","2924","      <action issue=\"LOG4J2-189\" dev=\"rgoers\" type=\"fix\" due-to=\"Werner\">","2925","        The blocking parameter did not work properly on AsynchAppender.","2926","      <\/action>","2927","      <action issue=\"LOG4J2-188\" dev=\"rgoers\" type=\"fix\" due-to=\"Werner\">","2928","        AppenderRefs on AsynchAppender didn't support the level and filter elements.","2929","      <\/action>","2930","      <action issue=\"LOG4J2-176\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","2931","        Avoid IllegalArgumentException in AsynchAppender.","2932","      <\/action>","2933","      <action issue=\"LOG4J2-179\" dev=\"ggregory\" type=\"add\">","2934","        Add Logger interface APIs to log at given levels.","2935","      <\/action>","2936","      <action issue=\"LOG4J2-181\" dev=\"rgoers\" type=\"fix\">","2937","        OutputStreamManager now adds the layout header whenever the OutputStream is set.","2938","      <\/action>","2939","      <action issue=\"LOG4J2-177\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","2940","        Fix NullPointerException in DatagramOutputStream when flush is called from multiple threads.","2941","      <\/action>","2942","      <action dev=\"rgoers\" type=\"add\">","2943","        Added FlumePersistentManager which writes to BerkeleyDB and then writes to Flume asynchronously.","2944","      <\/action>","2945","      <action issue=\"LOG4J2-175\" dev=\"sdeboy\" type=\"fix\">","2946","        Plugin cache should be reset when addPackages is called.","2947","      <\/action>","2948","      <action issue=\"LOG4J2-155\" dev=\"sdeboy\" type=\"add\">","2949","        Expose file appender configuration details via an advertisement mechanism.","2950","      <\/action>","2951","      <action issue=\"LOG4J2-159\" dev=\"rgoers\" type=\"fix\" due-to=\"Jan Winter\">","2952","        Add Fragment-Host to MANIFEST.MF for log4j-core.","2953","      <\/action>","2954","      <action issue=\"LOG4J2-167\" dev=\"rgoers\" type=\"fix\">","2955","        Configurator throws a ClassCastException if LogManager returns a SimpleLoggerContext.","2956","      <\/action>","2957","      <action issue=\"LOG4J2-169\" dev=\"rgoers\" type=\"fix\">","2958","        ConfigurationFactory was adding factories on every call.","2959","      <\/action>","2960","      <action issue=\"LOG4J2-161\" dev=\"rgoers\" type=\"fix\">","2961","        Modify ClassLoaderContextSelector to use the first ClassLoader in the child parent hierarchy that","2962","        has a Context with a configuration to allow JSPs to use the WebApp's context and configuration.","2963","      <\/action>","2964","      <action issue=\"LOG4J2-158\" dev=\"rgoers\" due-to=\"Scott Severtson\">","2965","        Add RFC 5424 compliant escaping rules to RFC5424Layout.","2966","      <\/action>","2967","    <\/release>","2968","    <release version=\"2.0-beta4\" date=\"2013-01-28\" description=\"Bug fixes and enhancements\">","2969","      <action issue=\"LOG4J2-156\" dev=\"ggregory\" type=\"fix\" due-to=\"Andreas Born\">","2970","        LocalizedMessageTest fails on linux system.","2971","      <\/action>","2972","      <action issue=\"LOG4J2-152\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","2973","        RollingFileAppender's FileRenameAction was throwing a NullPointerException if no directory was specified","2974","        on the target file name.","2975","      <\/action>","2976","      <action issue=\"LOG4J2-150\" dev=\"rgoers\" type=\"fix\">","2977","        Convert all System.getProperty calls to use PropertiesUtil to suppress SecurityExceptions.","2978","      <\/action>","2979","      <action issue=\"LOG4J2-147\" dev=\"rgoers\" type=\"fix\" due-to=\"William Burns\">","2980","        ThreadContextMapFilter was matching on the key instead of the value of the key.","2981","      <\/action>","2982","      <action dev=\"rgoers\" type=\"fix\">","2983","        Allow FlumeAvroManager to initialize even if it cannot connect to an agent.","2984","      <\/action>","2985","      <action issue=\"LOG4J2-149\" dev=\"rgoers\" type=\"fix\" due-to=\"Scott Severtson\">","2986","        SMTPAppender will only cache filtered events.","2987","      <\/action>","2988","      <action issue=\"LOG4J2-145\" dev=\"ggregory\" type=\"fix\">","2989","        Add missing serial version IDs.","2990","      <\/action>","2991","      <action issue=\"LOG4J2-144\" dev=\"ggregory\" type=\"fix\">","2992","        NullPointerException in RFC5424Layout.","2993","      <\/action>","2994","      <action issue=\"LOG4J2-143\" dev=\"rgoers\" type=\"fix\">","2995","        MessagePatternConverter now returns \"null\" if the log message is null.","2996","      <\/action>","2997","      <action issue=\"LOG4J2-142\" dev=\"rgoers\" type=\"fix\">","2998","        Serialized LogEvents were not reset in the output stream causing them to deserialize incorrectly.","2999","      <\/action>","3000","      <action issue=\"LOG4J2-139\" dev=\"rgoers\" type=\"fix\">","3001","        Fix null pointer exception in SocketAppender if no protocol is specified. The protocol will default","3002","        to TCP for the SocketAppender and UDP for the SyslogAppender.","3003","      <\/action>","3004","      <action dev=\"rgoers\" type=\"add\">","3005","        Added Log4j 2 to SLF4J adapter.","3006","      <\/action>","3007","      <action issue=\"LOG4J2-140\" dev=\"ggregory\" type=\"fix\" due-to=\"Joern Huxhorn\">","3008","        Typo in documentation of SocketAppender.","3009","      <\/action>","3010","      <action issue=\"LOG4J2-137\" dev=\"rgoers\" type=\"fix\">","3011","        Fix hang in Dumbster SMTP test server.","3012","      <\/action>","3013","      <action issue=\"LOG4J2-136\" dev=\"rgoers\" type=\"update\" due-to=\"Scott Severtson\">","3014","        Allow newlines to be escaped in Syslog and RFC5424 layouts. Allow Throwables to be included in","3015","        the output from RFC5424Layout.","3016","      <\/action>","3017","      <action issue=\"LOG4J2-131\" dev=\"rgoers\" type=\"add\" due-to=\"Scott Severtson\">","3018","        Add SMTPAppender.","3019","      <\/action>","3020","      <action issue=\"LOG4J2-130\" dev=\"rgoers\" type=\"fix\">","3021","        PatternLayout should format throwables without requiring a converter.","3022","      <\/action>","3023","      <action dev=\"rgoers\" type=\"add\">","3024","        Added hostName and contextName to property map.","3025","      <\/action>","3026","      <action issue=\"LOG4J2-135\" dev=\"ggregory\" type=\"fix\" due-to=\"Ingo Feltes\">","3027","        BaseConfiguration does not close the first appender.","3028","      <\/action>","3029","      <action dev=\"rgoers\" type=\"add\">","3030","        Add MessageFormatMessage and FormattedMessage.","3031","      <\/action>","3032","      <action issue=\"LOG4J2-134\" dev=\"ggregory\" type=\"add\">","3033","        Use %red, %white, %blue, and so on in the console appender.","3034","      <\/action>","3035","      <action issue=\"LOG4J2-133\" dev=\"ggregory\" type=\"add\">","3036","        Allow custom message creation via a message factory.","3037","      <\/action>","3038","      <action issue=\"LOG4J2-132\" dev=\"ggregory\" type=\"fix\">","3039","        AbstractLogger.catching(Throwable) checks for DEBUG level but logs at ERROR level.","3040","      <\/action>","3041","      <action issue=\"LOG4J2-129\" dev=\"rgoers\" type=\"fix\">","3042","        RoutingAppender was only creating a single appender for the default Route.","3043","      <\/action>","3044","      <action issue=\"LOG4J2-126\" dev=\"rgoers\" type=\"fix\">","3045","        Allow JMS appenders to recover if the queue or topic is unavailable.","3046","      <\/action>","3047","      <action issue=\"LOG4J2-128\" dev=\"rgoers\" type=\"update\">","3048","        Add follow attribute to Console Appender.","3049","      <\/action>","3050","      <action issue=\"LOG4J2-127\" dev=\"rgoers\" type=\"fix\">","3051","        AbstractLogger methods were not passing Markers to the isEnabled methods.","3052","      <\/action>","3053","      <action dev=\"rgoers\" type=\"add\">","3054","        Added Flume Appender samples.","3055","      <\/action>","3056","      <action issue=\"LOG4J2-122\" dev=\"rgoers\" type=\"update\">","3057","        Add unit test to verify exceptions are thrown when the socket connection fails.","3058","      <\/action>","3059","      <action issue=\"LOG4J2-125\" dev=\"rgoers\" type=\"fix\">","3060","        JMSQueue and JMSTopic Appenders did not allow name to be specified.","3061","      <\/action>","3062","      <action issue=\"LOG4J2-111\" dev=\"rgoers\" type=\"fix\">","3063","        Enhanced javadoc copyright statement.","3064","      <\/action>","3065","      <action issue=\"LOG4J2-110\" dev=\"rgoers\" type=\"update\">","3066","        Renamed log4j12-api to log4j-1.2-api.","3067","      <\/action>","3068","      <action issue=\"LOG4J2-120\" dev=\"rgoers\" type=\"fix\">","3069","        TCPSocketManager would fail if the initial connection could not be established.","3070","      <\/action>","3071","      <action issue=\"LOG4J2-119\" dev=\"rgoers\" type=\"fix\">","3072","        A broken socket connection would cause the TCPSocketManager to continuously reconnect.","3073","      <\/action>","3074","      <action issue=\"LOG4J2-123\" dev=\"rgoers\" type=\"fix\" due-to=\"Olivier Lamy\">","3075","        The example for ThreadContextMapFilter was incorrect.","3076","      <\/action>","3077","      <action issue=\"LOG4J2-116\" dev=\"rgoers\" type=\"fix\">","3078","        File renaming was using the wrong date value. Enhanced DefaultRolloverStrategy to store newest files in","3079","        highest index as well as lowest.","3080","      <\/action>","3081","      <action issue=\"LOG4J2-115\" dev=\"rgoers\" type=\"fix\">","3082","        ThreadContext Map elements with null values are now ignored when constructing a Flume event and in the","3083","        RFC5424 Layout.","3084","      <\/action>","3085","      <action issue=\"LOG4J2-113\" dev=\"rgoers\" type=\"fix\">","3086","        StructuredDataFilter createFilter was annotated with PluginAttr instead of PluginElement for the","3087","        KeyValuePairs.","3088","      <\/action>","3089","      <action issue=\"LOG4J2-114\" dev=\"rgoers\" type=\"fix\" due-to=\"Arkin Yetis\">","3090","        StructuredDataMessage was validating the length of the values in the event Map instead of the lengths","3091","        of the keys.","3092","      <\/action>","3093","    <\/release>","3094","    <release version=\"2.0-beta3\" date=\"2012-11-11\" description= \"Bug fixes and enhancements\">","3095","      <action issue=\"LOG4J2-108\" dev=\"rgoers\" type=\"fix\">","3096","        Fix NullPointerException in ClassLoaderContextSelector when no class is returned from","3097","        the SecurityManager.","3098","      <\/action>","3099","      <action issue=\"LOG4J2-105\" dev=\"rgoers\" type=\"update\">","3100","        Add ability to customize the names of the Levels in the LevelPatternConverter.","3101","      <\/action>","3102","      <action issue=\"LOG4J2-107\" dev=\"rgoers\" type=\"fix\">","3103","        PatternParser was not properly handling adjacent nested options","3104","      <\/action>","3105","      <action issue=\"LOG4J2-95\" dev=\"rgoers\" type=\"fix\">","3106","        Add support for loading plugins inside the OSGi bundle.","3107","      <\/action>","3108","      <action issue=\"LOG4J2-85\" dev=\"rgoers\" type=\"update\">","3109","        Add ThreadContext.push(String format, Object... args)","3110","      <\/action>","3111","      <action issue=\"LOG4J2-103\" dev=\"rgoers\" type=\"fix\" due-to=\"Das Archive\">","3112","        The LogEvent was wrapping a ThrowableProxy with another ThrowableProxy when deserializing.","3113","      <\/action>","3114","      <action dev=\"rgoers\" type=\"update\">","3115","        Created combined jar to combine API and Core contents for users who only want the Log4j implementation.","3116","      <\/action>","3117","      <action issue=\"LOG4J2-104\" dev=\"rgoers\" type=\"fix\">","3118","        Convert LogManager binding to use \"regular\" java properties instead of XML properties to workaround a","3119","        bug in Oracle's xmlparserv2 jar.","3120","      <\/action>","3121","      <action issue=\"LOG4J2-28\" dev=\"rgoers\" type=\"add\">","3122","        Added PropertiesRewritePolicy and ability to define properties on a Logger.","3123","      <\/action>","3124","      <action issue=\"LOG4J2-87\" dev=\"rgoers\" type=\"update\">","3125","        Build pdf of user's guide.","3126","      <\/action>","3127","      <action issue=\"LOG4J2-29\" dev=\"rgoers\" type=\"update\">","3128","        Added font and fontSize parameters to HTMLLayout. Replace newlines in message with br tag.","3129","      <\/action>","3130","      <action issue=\"LOG4J2-55\" dev=\"rgoers\" type=\"add\">","3131","        Added ability to configure from an InputSource.","3132","      <\/action>","3133","      <action issue=\"LOG4J2-102\" dev=\"rgoers\" type=\"fix\" due-to=\"Emanuele Colombo\">","3134","        The Facility value was being improperly calculated.","3135","      <\/action>","3136","      <action issue=\"LOG4J2-101\" dev=\"rgoers\" type=\"fix\" due-to=\"Emanuele Colombo\">","3137","        A NullPointerException would occur if no format value was passed to the SyslogAppender.","3138","      <\/action>","3139","      <action issue=\"LOG4J2-99\" dev=\"rgoers\" type=\"fix\" due-to=\"Das Archive\">","3140","        MapRewritePolicy had an extra call to putAll that caused updates to behave like adds.","3141","      <\/action>","3142","      <action dev=\"rgoers\" type=\"fix\">","3143","        Avoid NPE when duplicate LoggerContextFactorys are present. Allow factories to specify a weight to allow","3144","        real implementations to outrank test implementations. Provide a simple default LoggerContextFactory.","3145","      <\/action>","3146","      <action issue=\"LOG4J2-97\" dev=\"rgoers\" type=\"fix\">","3147","        Added several missing classes and methods for Log4j 1.x compatibility.","3148","      <\/action>","3149","      <action issue=\"LOG4J2-94\" dev=\"rgoers\" type=\"fix\" due-to=\"Denis Treskunov\">","3150","        Interpolator was not stripping Lookup key separator when trying to locate the default value for a variable.","3151","      <\/action>","3152","      <action dev=\"rgoers\" type=\"fix\">","3153","        Log4j 1.2 Category.forcedLog was wrapping the message with an ObjectMessage even if the parameter was an","3154","        ObjectMessage.","3155","      <\/action>","3156","    <\/release>","3157","    <release version=\"2.0-beta2\" date=\"2012-10-07\" description=\"Bug fixes and enhancements\">","3158","      <action dev=\"rgoers\" type=\"update\">","3159","        Made ParameterizedMessage, StringFormattedMessage and ThreadDumpMessage immutable. LocalizedMessage is","3160","        immutable except that it will be updated with the logger name when it is added to the LogEvent.","3161","      <\/action>","3162","      <action dev=\"rgoers\" type=\"fix\">","3163","        DefaultConfiguration was not starting the Console Appender.","3164","      <\/action>","3165","      <action issue=\"LOG4J2-35\" dev=\"rgoers\" type=\"add\">","3166","        Add interval and modulate options to TimeBasedTriggeringPolicy to allow more fine-grained control of","3167","        when file rolling should occur.","3168","      <\/action>","3169","      <action issue=\"LOG4J2-58\" dev=\"rgoers\" type=\"add\">","3170","        Add support for filtering packages from stack traces.","3171","      <\/action>","3172","      <action issue=\"LOG4J2-84\" dev=\"rgoers\" type=\"add\">","3173","        If system property \"disableThreadContextStack\" is set pushes to the ThreadContext will be ignored. If","3174","        system property \"disableThreadContext\" is set both puts and pushes will be ignored.","3175","      <\/action>","3176","      <action issue=\"LOG4J2-83\" dev=\"rgoers\" type=\"add\">","3177","        If system property \"disableThreadContextMap\" is set puts to the ThreadContext will be ignored. If","3178","        system property \"disableThreadContext\" is set both puts and pushes will be ignored.","3179","      <\/action>","3180","      <action dev=\"rgoers\" type=\"add\">","3181","        Add support for ANSI colors by adding the highlight and style pattern converters. Fix pattern","3182","        parsing to allow nested patterns.","3183","      <\/action>","3184","      <action issue=\"LOG4J2-92\" dev=\"rgoers\" type=\"fix\">","3185","        Converted DynamicThresholdFilter to use KeyValuePair. Fixed bugs in the Map-based filters","3186","        to allow declaration of multiple values for a key to match the documentation.","3187","      <\/action>","3188","      <action issue=\"LOG4J2-88\" dev=\"rgoers\" type=\"fix\">","3189","        Many logging methods in AbstractLogger were set to an incorrect logging level. catching was","3190","        using the THROWING marker and was set to debug instead of error.","3191","      <\/action>","3192","      <action dev=\"rgoers\" type=\"add\">","3193","        Allow the status logging to be directed to stderr or to a file.","3194","      <\/action>","3195","      <action issue=\"LOG4J2-91\" dev=\"rgoers\" type=\"fix\">","3196","        Log4j 1.2 adapter's Category class was missing 3 log methods.","3197","      <\/action>","3198","      <action issue=\"LOG4J2-84\" dev=\"rgoers\" type=\"fix\">","3199","        If the ThreadContext stack is empty the LogEvent will contain a null value to reduce the overhead of","3200","        creating log events and in the size of the serialized object. Changed the ThreadContext stack to use","3201","        a custom stack interface instead of java.util.Stack as that class is overly heavy. This change will","3202","        cause an API incompatibility.","3203","      <\/action>","3204","      <action issue=\"LOG4J2-83\" dev=\"rgoers\" type=\"fix\">","3205","        If the ThreadContext map is empty the LogEvent will contain a null value to reduce the overhead of creating","3206","        log events and in the size of the serialized object.","3207","      <\/action>","3208","      <action dev=\"rgoers\" type=\"add\">","3209","        Add getFormats to MultiformatMessage and allow StructuredDataMessage to format as XML.","3210","      <\/action>","3211","      <action issue=\"LOG4J2-90\" dev=\"rgoers\" type=\"fix\">","3212","        Add documentation on client vs server mode to performance page.","3213","      <\/action>","3214","      <action dev=\"rgoers\" type=\"fix\">","3215","        Move variable substitution from PatternLayout to appropriate converters to improve performance.","3216","      <\/action>","3217","    <\/release>","3218","    <release version=\"2.0-beta1\" date=\"2012-09-18\" description=\"Bug fixes and enhancements\">","3219","      <action dev=\"rgoers\" type=\"add\">","3220","        Added AsynchAppender.","3221","      <\/action>","3222","      <action issue=\"LOG4J-81\" dev=\"rgoers\" type=\"fix\">","3223","        PatternLayout was not honoring format modifiers.","3224","      <\/action>","3225","      <action dev=\"rgoers\" type=\"fix\">","3226","        Created web module to allow web applications to include the Log4j context listener in WEB-INF\/lib even if","3227","        Log4j is in the container's class path. Allow locating the LoggerContext to include the ClassLoader. Updated","3228","        the Loader utility to always choose the child ClassLoader. Verified in Jboss 5 and Tomcat.","3229","      <\/action>","3230","      <action issue=\"LOG4J2-82\" dev=\"rgoers\" type=\"fix\">","3231","        MarkerFilter called MarkerManager.getMarker causing the Marker to be created during the processing of the","3232","        configuration. This prevents the application from creating the Marker with any parents. MarkerWrapper in","3233","        SLF4J-impl was getting a ClassCastException in instanceOf because the Marker isn't a MarkerWrapper.","3234","      <\/action>","3235","      <action issue=\"LOG4J2-80\" dev=\"rgoers\" type=\"fix\" due-to=\"Oliver Lamy\">","3236","        Allow Log4j 2 to be used as the implementation with SLF4J and SLF4J's jcl-over-slf4j by adding filtering","3237","        to the log method in SLF4JLogger.","3238","      <\/action>","3239","      <action issue=\"LOG4J2-78\" dev=\"rgoers\" type=\"fix\">","3240","        LogFactoryImpl.setAttribute in the Commons Logging bridge got a NullPointerException when passed a null value.","3241","        It will now remove the attribute.","3242","      <\/action>","3243","      <action issue=\"LOG4J2-77\" dev=\"rgoers\" type=\"fix\">","3244","        RoutingAppender was calling the stop method for each of its referenced Appenders and was calling","3245","        the stop method of the default Appender a second time. It will now only call the stop method of","3246","        Appenders it creates.","3247","      <\/action>","3248","      <action issue=\"LOG4J2-76\" dev=\"rgoers\" type=\"fix\">","3249","        RewriteAppender was calling the stop method of the referenced appender causing the referenced appender's","3250","        manager to have its use count decremented too many times.","3251","      <\/action>","3252","      <action issue=\"LOG4J2-74\" dev=\"rgoers\" type=\"fix\">","3253","        Logger.error(Marker, Message, Throwable) was internally using Level.TRACE.","3254","      <\/action>","3255","      <action issue=\"LOG4J2-75\" dev=\"rgoers\" type=\"fix\">","3256","        Enhanced Log4jContextListener to accept a configuration file location. Modified FileConfigurationMonitor","3257","        to monitor files configured that way. Fixed other reconfiguration related bugs. Tested in JBoss and","3258","        Tomcat.","3259","      <\/action>","3260","      <action issue=\"LOG4J2-72\" dev=\"rgoers\" type=\"fix\">","3261","        NullPointerException in RollingFileManager when filePattern does not cause the file to be compressed.","3262","      <\/action>","3263","      <action issue=\"LOG4J2-71\" dev=\"rgoers\" type=\"fix\">","3264","        FileRenameAction did not create the parent directories of the archive files causing the rollover to fail.","3265","      <\/action>","3266","      <action dev=\"rgoers\" type=\"update\">","3267","        Update the versions of SLF4J and Logback.","3268","      <\/action>","3269","    <\/release>","3270","    <release version=\"2.0-alpha2\" date=\"2012-08-24\" description=\"Bug fixes and minor enhancements\">","3271","      <action issue=\"LOG4J2-70\" dev=\"rgoers\" type=\"add\">","3272","        Add getLogger(Class) to LogManager.","3273","      <\/action>","3274","      <action issue=\"LOG4J2-69\" dev=\"rgoers\" type=\"add\">","3275","        Allow Flume agents to be embedded into the Flume Appender.","3276","      <\/action>","3277","      <action issue=\"LOG4J2-68\" dev=\"rgoers\" type=\"add\">","3278","        Add support for formatting using String.format().","3279","      <\/action>","3280","      <action issue=\"LOG4J2-67\" dev=\"rgoers\" type=\"add\">","3281","        Allow components besides core to create a PluginMap for faster plugin loading and not","3282","        having to specify the plugin package in the configuration.","3283","      <\/action>","3284","      <action issue=\"LOG4J2-64\" dev=\"rgoers\" type=\"fix\">","3285","        Fix compilation problems in Java 7.","3286","      <\/action>","3287","      <action issue=\"LOG4J2-65\" dev=\"rgoers\" type=\"fix\">","3288","        Allow variable substitution on the configuration attributes and on the root log level.","3289","      <\/action>","3290","    <\/release>","3291","    <release version=\"2.0-alpha1\" date=\"2012-07-29\" description=\"Rewrite of Log4j\">","3292","      <action issue=\"LOG4J2-60\" dev=\"rgoers\" type=\"add\" due-to=\"Shane Kelly\">","3293","        Added ability to filter on the AppenderRef by adding either a level or a filter.","3294","      <\/action>","3295","      <action issue=\"LOG4J2-56\" dev=\"rgoers\" type=\"fix\" due-to=\"John Owen Atala\">","3296","        Level.toLevel would throw an IllegalArgumentException instead of returning the default value.","3297","      <\/action>","3298","      <action issue=\"LOG4J2-51\" dev=\"rgoers\" type=\"fix\" due-to=\"John Vasileff\">","3299","        Remove LoggerContext support for custom logger factories. All Loggers returned","3300","        by LoggerContext should be compatibile and of the same type.","3301","      <\/action>","3302","      <action issue=\"LOG4J2-50\" dev=\"rgoers\" type=\"fix\" due-to=\"John Vasileff\">","3303","        Make sure all application facing log methods use their own FQCN. This patch","3304","        resolves a unit test failure for the %C pattern when using the Category logger.","3305","      <\/action>","3306","    <\/release>","3307","  <\/body>","3308","<\/document>"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/composite\/DefaultMergeStrategy.java":[{"add":["0","\/*\r","1"," * Licensed to the Apache Software Foundation (ASF) under one or more\r","2"," * contributor license agreements. See the NOTICE file distributed with\r","3"," * this work for additional information regarding copyright ownership.\r","4"," * The ASF licenses this file to You under the Apache license, Version 2.0\r","5"," * (the \"License\"); you may not use this file except in compliance with\r","6"," * the License. You may obtain a copy of the License at\r","7"," *\r","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0\r","9"," *\r","10"," * Unless required by applicable law or agreed to in writing, software\r","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,\r","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r","13"," * See the license for the specific language governing permissions and\r","14"," * limitations under the license.\r","15"," *\/\r","16","package org.apache.logging.log4j.core.config.composite;\r","17","\r","18","import java.util.HashMap;\r","19","import java.util.List;\r","20","import java.util.Map;\r","21","\r","22","import org.apache.logging.log4j.Level;\r","23","import org.apache.logging.log4j.core.Filter;\r","24","import org.apache.logging.log4j.core.config.AbstractConfiguration;\r","25","import org.apache.logging.log4j.core.config.Node;\r","26","import org.apache.logging.log4j.core.config.plugins.util.PluginManager;\r","27","import org.apache.logging.log4j.core.config.plugins.util.PluginType;\r","28","import org.apache.logging.log4j.core.filter.CompositeFilter;\r","29","\r","30","\/**\r","31"," * The default merge strategy for composite configurations.\r","32"," * <p>\r","33"," * The default merge strategy performs the merge according to the following rules:\r","34"," * <ol>\r","35"," * <li>Aggregates the global configuration attributes with those in later configurations replacing those in previous\r","36"," * configurations with the exception that the highest status level and the lowest monitorInterval greater than 0 will\r","37"," * be used.<\/li>\r","38"," * <li>Properties from all configurations are aggregated. Duplicate properties replace those in previous\r","39"," * configurations.<\/li>\r","40"," * <li>Filters are aggregated under a CompositeFilter if more than one Filter is defined. Since Filters are not named\r","41"," * duplicates may be present.<\/li>\r","42"," * <li>Scripts and ScriptFile references are aggregated. Duplicate definiations replace those in previous\r","43"," * configurations.<\/li>\r","44"," * <li>Appenders are aggregated. Appenders with the same name are replaced by those in later configurations, including\r","45"," * all of the Appender's subcomponents.<\/li>\r","46"," * <li>Loggers are all aggregated. Logger attributes are individually merged with duplicates being replaced by those\r","47"," * in later configurations. Appender references on a Logger are aggregated with duplicates being replaced by those in\r","48"," * later configurations. Filters on a Logger are aggregated under a CompositeFilter if more than one Filter is defined.\r","49"," * Since Filters are not named duplicates may be present. Filters under Appender references included or discarded\r","50"," * depending on whether their parent Appender reference is kept or discarded.<\/li>\r","51"," * <\/ol>\r","52"," *\/\r","53","public class DefaultMergeStrategy implements MergeStrategy {\r","54","\r","55","    private static final String APPENDERS = \"appenders\";\r","56","    private static final String PROPERTIES = \"properties\";\r","57","    private static final String LOGGERS = \"loggers\";\r","58","    private static final String SCRIPTS = \"scripts\";\r","59","    private static final String FILTERS = \"filters\";\r","60","    private static final String STATUS = \"status\";\r","61","    private static final String NAME = \"name\";\r","62","    private static final String REF = \"ref\";\r","63","\r","64","    \/**\r","65","     * Merge the root properties.\r","66","     * @param rootNode The composite root node.\r","67","     * @param configuration The configuration to merge.\r","68","     *\/\r","69","    @Override\r","70","    public void mergeRootProperties(final Node rootNode, final AbstractConfiguration configuration) {\r","71","        for (final Map.Entry<String, String> attribute : configuration.getRootNode().getAttributes().entrySet()) {\r","72","            boolean isFound = false;\r","73","            for (final Map.Entry<String, String> targetAttribute : rootNode.getAttributes().entrySet()) {\r","74","                if (targetAttribute.getKey().equalsIgnoreCase(attribute.getKey())) {\r","75","                    if (attribute.getKey().equalsIgnoreCase(STATUS)) {\r","76","                        final Level targetLevel = Level.getLevel(targetAttribute.getValue().toUpperCase());\r","77","                        final Level sourceLevel = Level.getLevel(attribute.getValue().toUpperCase());\r","78","                        if (targetLevel != null && sourceLevel != null) {\r","79","                            if (sourceLevel.isLessSpecificThan(targetLevel)) {\r","80","                                targetAttribute.setValue(attribute.getValue());\r","81","                            }\r","82","                        } else\r","83","                            if (sourceLevel != null) {\r","84","                                targetAttribute.setValue(attribute.getValue());\r","85","                            }\r","86","                    } else {\r","87","                        if (attribute.getKey().equalsIgnoreCase(\"monitorInterval\")) {\r","88","                            final int sourceInterval = Integer.parseInt(attribute.getValue());\r","89","                            final int targetInterval = Integer.parseInt(targetAttribute.getValue());\r","90","                            if (targetInterval == 0 || sourceInterval < targetInterval) {\r","91","                                targetAttribute.setValue(attribute.getValue());\r","92","                            }\r","93","                        } else {\r","94","                            targetAttribute.setValue(attribute.getValue());\r","95","                        }\r","96","                    }\r","97","                    isFound = true;\r","98","                }\r","99","            }\r","100","            if (!isFound) {\r","101","                rootNode.getAttributes().put(attribute.getKey(), attribute.getValue());\r","102","            }\r","103","        }\r","104","    }\r","105","\r","106","    \/**\r","107","     * Merge the source Configuration into the target Configuration.\r","108","     *\r","109","     * @param target        The target node to merge into.\r","110","     * @param source        The source node.\r","111","     * @param pluginManager The PluginManager.\r","112","     *\/\r","113","    @Override\r","114","    public void mergConfigurations(final Node target, final Node source, final PluginManager pluginManager) {\r","115","        for (final Node sourceChildNode : source.getChildren()) {\r","116","            final boolean isFilter = isFilterNode(sourceChildNode);\r","117","            boolean isMerged = false;\r","118","            for (final Node targetChildNode : target.getChildren()) {\r","119","                if (isFilter) {\r","120","                    if (isFilterNode(targetChildNode)) {\r","121","                        updateFilterNode(target, targetChildNode, sourceChildNode, pluginManager);\r","122","                        isMerged = true;\r","123","                        break;\r","124","                    }\r","125","                    continue;\r","126","                }\r","127","\r","128","                if (!targetChildNode.getName().equalsIgnoreCase(sourceChildNode.getName())) {\r","129","                    continue;\r","130","                }\r","131","\r","132","                switch (targetChildNode.getName().toLowerCase()) {\r","133","                    case PROPERTIES:\r","134","                    case SCRIPTS:\r","135","                    case APPENDERS: {\r","136","                        for (final Node node : sourceChildNode.getChildren()) {\r","137","                            for (final Node targetNode : targetChildNode.getChildren()) {\r","138","                                if (targetNode.getAttributes().get(NAME).equals(node.getAttributes().get(NAME))) {\r","139","                                    targetChildNode.getChildren().remove(targetNode);\r","140","                                    break;\r","141","                                }\r","142","                            }\r","143","                            targetChildNode.getChildren().add(node);\r","144","                        }\r","145","                        isMerged = true;\r","146","                        break;\r","147","                    }\r","148","                    case LOGGERS: {\r","149","                        final Map<String, Node> targetLoggers = new HashMap<>();\r","150","                        for (final Node node : targetChildNode.getChildren()) {\r","151","                            targetLoggers.put(node.getName(), node);\r","152","                        }\r","153","                        for (final Node node : sourceChildNode.getChildren()) {\r","154","                            final Node targetNode = getLoggerNode(targetChildNode, node.getAttributes().get(NAME));\r","155","                            final Node loggerNode = new Node(targetChildNode, node.getName(), node.getType());\r","156","                            if (targetNode != null) {\r","157","                                targetNode.getAttributes().putAll(node.getAttributes());\r","158","                                for (final Node sourceLoggerChild : node.getChildren()) {\r","159","                                    if (isFilterNode(sourceLoggerChild)) {\r","160","                                        boolean foundFilter = false;\r","161","                                        for (final Node targetChild : targetNode.getChildren()) {\r","162","                                            if (isFilterNode(targetChild)) {\r","163","                                                updateFilterNode(loggerNode, targetChild, sourceLoggerChild,\r","164","                                                        pluginManager);\r","165","                                                foundFilter = true;\r","166","                                                break;\r","167","                                            }\r","168","                                        }\r","169","                                        if (!foundFilter) {\r","170","                                            final Node childNode = new Node(loggerNode, sourceLoggerChild.getName(),\r","171","                                                    sourceLoggerChild.getType());\r","172","                                            targetNode.getChildren().add(childNode);\r","173","                                        }\r","174","                                    } else {\r","175","                                        final Node childNode = new Node(loggerNode, sourceLoggerChild.getName(),\r","176","                                                sourceLoggerChild.getType());\r","177","                                        childNode.getAttributes().putAll(sourceLoggerChild.getAttributes());\r","178","                                        childNode.getChildren().addAll(sourceLoggerChild.getChildren());\r","179","                                        if (childNode.getName().equalsIgnoreCase(\"AppenderRef\")) {\r","180","                                            for (final Node targetChild : targetNode.getChildren()) {\r","181","                                                if (isSameReference(targetChild, childNode)) {\r","182","                                                    targetNode.getChildren().remove(targetChild);\r","183","                                                    break;\r","184","                                                }\r","185","                                            }\r","186","                                        } else {\r","187","                                            for (final Node targetChild : targetNode.getChildren()) {\r","188","                                                if (isSameName(targetChild, childNode)) {\r","189","                                                    targetNode.getChildren().remove(targetChild);\r","190","                                                    break;\r","191","                                                }\r","192","                                            }\r","193","                                        }\r","194","\r","195","                                        targetNode.getChildren().add(childNode);\r","196","                                    }\r","197","                                }\r","198","                            } else {\r","199","                                loggerNode.getAttributes().putAll(node.getAttributes());\r","200","                                loggerNode.getChildren().addAll(node.getChildren());\r","201","                                targetChildNode.getChildren().add(loggerNode);\r","202","                            }\r","203","                        }\r","204","                        isMerged = true;\r","205","                        break;\r","206","                    }\r","207","                    default: {\r","208","                        targetChildNode.getChildren().addAll(sourceChildNode.getChildren());\r","209","                        isMerged = true;\r","210","                        break;\r","211","                    }\r","212","\r","213","                }\r","214","            }\r","215","            if (!isMerged) {\r","216","                if (sourceChildNode.getName().equalsIgnoreCase(\"Properties\")) {\r","217","                    target.getChildren().add(0, sourceChildNode);\r","218","                } else {\r","219","                    target.getChildren().add(sourceChildNode);\r","220","                }\r","221","            }\r","222","        }\r","223","    }\r","224","\r","225","    private Node getLoggerNode(final Node parentNode, final String name) {\r","226","        for (final Node node : parentNode.getChildren()) {\r","227","            final String nodeName = node.getAttributes().get(NAME);\r","228","            if (name == null && nodeName == null) {\r","229","                return node;\r","230","            }\r","231","            if (nodeName != null && nodeName.equals(name)) {\r","232","                return node;\r","233","            }\r","234","        }\r","235","        return null;\r","236","    }\r","237","\r","238","    private void updateFilterNode(final Node target, final Node targetChildNode, final Node sourceChildNode,\r","239","            final PluginManager pluginManager) {\r","240","        if (CompositeFilter.class.isAssignableFrom(targetChildNode.getType().getPluginClass())) {\r","241","            final Node node = new Node(targetChildNode, sourceChildNode.getName(), sourceChildNode.getType());\r","242","            node.getChildren().addAll(sourceChildNode.getChildren());\r","243","            node.getAttributes().putAll(sourceChildNode.getAttributes());\r","244","            targetChildNode.getChildren().add(node);\r","245","        } else {\r","246","            final PluginType pluginType = pluginManager.getPluginType(FILTERS);\r","247","            final Node filtersNode = new Node(targetChildNode, FILTERS, pluginType);\r","248","            final Node node = new Node(filtersNode, sourceChildNode.getName(), sourceChildNode.getType());\r","249","            node.getAttributes().putAll(sourceChildNode.getAttributes());\r","250","            final List<Node> children = filtersNode.getChildren();\r","251","            children.add(targetChildNode);\r","252","            children.add(node);\r","253","            final List<Node> nodes = target.getChildren();\r","254","            nodes.remove(targetChildNode);\r","255","            nodes.add(filtersNode);\r","256","        }\r","257","    }\r","258","\r","259","    private boolean isFilterNode(final Node node) {\r","260","        return Filter.class.isAssignableFrom(node.getType().getPluginClass());\r","261","    }\r","262","\r","263","    private boolean isSameName(final Node node1, final Node node2) {\r","264","        final String value = node1.getAttributes().get(NAME);\r","265","        return value != null && value.toLowerCase().equals(node2.getAttributes().get(NAME).toLowerCase());\r","266","    }\r","267","\r","268","    private boolean isSameReference(final Node node1, final Node node2) {\r","269","        final String value = node1.getAttributes().get(REF);\r","270","        return value != null && value.toLowerCase().equals(node2.getAttributes().get(REF).toLowerCase());\r","271","    }\r","272","}\r"],"delete":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","16","package org.apache.logging.log4j.core.config.composite;","17","","18","import java.util.HashMap;","19","import java.util.List;","20","import java.util.Map;","21","","22","import org.apache.logging.log4j.Level;","23","import org.apache.logging.log4j.core.Filter;","24","import org.apache.logging.log4j.core.config.AbstractConfiguration;","25","import org.apache.logging.log4j.core.config.Node;","26","import org.apache.logging.log4j.core.config.plugins.util.PluginManager;","27","import org.apache.logging.log4j.core.config.plugins.util.PluginType;","28","import org.apache.logging.log4j.core.filter.CompositeFilter;","29","","30","\/**","31"," * The default merge strategy for composite configurations.","32"," * <p>","33"," * The default merge strategy performs the merge according to the following rules:","34"," * <ol>","35"," * <li>Aggregates the global configuration attributes with those in later configurations replacing those in previous","36"," * configurations with the exception that the highest status level and the lowest monitorInterval greater than 0 will","37"," * be used.<\/li>","38"," * <li>Properties from all configurations are aggregated. Duplicate properties replace those in previous","39"," * configurations.<\/li>","40"," * <li>Filters are aggregated under a CompositeFilter if more than one Filter is defined. Since Filters are not named","41"," * duplicates may be present.<\/li>","42"," * <li>Scripts and ScriptFile references are aggregated. Duplicate definiations replace those in previous","43"," * configurations.<\/li>","44"," * <li>Appenders are aggregated. Appenders with the same name are replaced by those in later configurations, including","45"," * all of the Appender's subcomponents.<\/li>","46"," * <li>Loggers are all aggregated. Logger attributes are individually merged with duplicates being replaced by those","47"," * in later configurations. Appender references on a Logger are aggregated with duplicates being replaced by those in","48"," * later configurations. Filters on a Logger are aggregated under a CompositeFilter if more than one Filter is defined.","49"," * Since Filters are not named duplicates may be present. Filters under Appender references included or discarded","50"," * depending on whether their parent Appender reference is kept or discarded.<\/li>","51"," * <\/ol>","52"," *\/","53","public class DefaultMergeStrategy implements MergeStrategy {","54","","55","    private static final String APPENDERS = \"appenders\";","56","    private static final String PROPERTIES = \"properties\";","57","    private static final String LOGGERS = \"loggers\";","58","    private static final String SCRIPTS = \"scripts\";","59","    private static final String FILTERS = \"filters\";","60","    private static final String STATUS = \"status\";","61","    private static final String NAME = \"name\";","62","    private static final String REF = \"ref\";","63","","64","    \/**","65","     * Merge the root properties.","66","     * @param rootNode The composite root node.","67","     * @param configuration The configuration to merge.","68","     *\/","69","    @Override","70","    public void mergeRootProperties(final Node rootNode, final AbstractConfiguration configuration) {","71","        for (final Map.Entry<String, String> attribute : configuration.getRootNode().getAttributes().entrySet()) {","72","            boolean isFound = false;","73","            for (final Map.Entry<String, String> targetAttribute : rootNode.getAttributes().entrySet()) {","74","                if (targetAttribute.getKey().equalsIgnoreCase(attribute.getKey())) {","75","                    if (attribute.getKey().equalsIgnoreCase(STATUS)) {","76","                        final Level targetLevel = Level.getLevel(targetAttribute.getValue().toUpperCase());","77","                        final Level sourceLevel = Level.getLevel(attribute.getValue().toUpperCase());","78","                        if (targetLevel != null && sourceLevel != null) {","79","                            if (sourceLevel.isLessSpecificThan(targetLevel)) {","80","                                targetAttribute.setValue(attribute.getValue());","81","                            }","82","                        } else","83","                            if (sourceLevel != null) {","84","                                targetAttribute.setValue(attribute.getValue());","85","                            }","86","                    } else {","87","                        if (attribute.getKey().equalsIgnoreCase(\"monitorInterval\")) {","88","                            final int sourceInterval = Integer.parseInt(attribute.getValue());","89","                            final int targetInterval = Integer.parseInt(targetAttribute.getValue());","90","                            if (targetInterval == 0 || sourceInterval < targetInterval) {","91","                                targetAttribute.setValue(attribute.getValue());","92","                            }","93","                        } else {","94","                            targetAttribute.setValue(attribute.getValue());","95","                        }","96","                    }","97","                    isFound = true;","98","                }","99","            }","100","            if (!isFound) {","101","                rootNode.getAttributes().put(attribute.getKey(), attribute.getValue());","102","            }","103","        }","104","    }","105","","106","    \/**","107","     * Merge the source Configuration into the target Configuration.","108","     *","109","     * @param target        The target node to merge into.","110","     * @param source        The source node.","111","     * @param pluginManager The PluginManager.","112","     *\/","113","    @Override","114","    public void mergConfigurations(final Node target, final Node source, final PluginManager pluginManager) {","115","        for (final Node sourceChildNode : source.getChildren()) {","116","            final boolean isFilter = isFilterNode(sourceChildNode);","117","            boolean isMerged = false;","118","            for (final Node targetChildNode : target.getChildren()) {","119","                if (isFilter) {","120","                    if (isFilterNode(targetChildNode)) {","121","                        updateFilterNode(target, targetChildNode, sourceChildNode, pluginManager);","122","                        isMerged = true;","123","                        break;","124","                    }","125","                    continue;","126","                }","127","","128","                if (!targetChildNode.getName().equalsIgnoreCase(sourceChildNode.getName())) {","129","                    continue;","130","                }","131","","132","                switch (targetChildNode.getName().toLowerCase()) {","133","                    case PROPERTIES:","134","                    case SCRIPTS:","135","                    case APPENDERS: {","136","                        for (final Node node : sourceChildNode.getChildren()) {","137","                            for (final Node targetNode : targetChildNode.getChildren()) {","138","                                if (targetNode.getAttributes().get(NAME).equals(node.getAttributes().get(NAME))) {","139","                                    targetChildNode.getChildren().remove(targetNode);","140","                                    break;","141","                                }","142","                            }","143","                            targetChildNode.getChildren().add(node);","144","                        }","145","                        isMerged = true;","146","                        break;","147","                    }","148","                    case LOGGERS: {","149","                        final Map<String, Node> targetLoggers = new HashMap<>();","150","                        for (final Node node : targetChildNode.getChildren()) {","151","                            targetLoggers.put(node.getName(), node);","152","                        }","153","                        for (final Node node : sourceChildNode.getChildren()) {","154","                            final Node targetNode = getLoggerNode(targetChildNode, node.getAttributes().get(NAME));","155","                            final Node loggerNode = new Node(targetChildNode, node.getName(), node.getType());","156","                            if (targetNode != null) {","157","                                targetNode.getAttributes().putAll(node.getAttributes());","158","                                for (final Node sourceLoggerChild : node.getChildren()) {","159","                                    if (isFilterNode(sourceLoggerChild)) {","160","                                        boolean foundFilter = false;","161","                                        for (final Node targetChild : targetNode.getChildren()) {","162","                                            if (isFilterNode(targetChild)) {","163","                                                updateFilterNode(loggerNode, targetChild, sourceLoggerChild,","164","                                                        pluginManager);","165","                                                foundFilter = true;","166","                                                break;","167","                                            }","168","                                        }","169","                                        if (!foundFilter) {","170","                                            final Node childNode = new Node(loggerNode, sourceLoggerChild.getName(),","171","                                                    sourceLoggerChild.getType());","172","                                            targetNode.getChildren().add(childNode);","173","                                        }","174","                                    } else {","175","                                        final Node childNode = new Node(loggerNode, sourceLoggerChild.getName(),","176","                                                sourceLoggerChild.getType());","177","                                        childNode.getAttributes().putAll(sourceLoggerChild.getAttributes());","178","                                        if (childNode.getName().equalsIgnoreCase(\"AppenderRef\")) {","179","                                            for (final Node targetChild : targetNode.getChildren()) {","180","                                                if (isSameReference(targetChild, childNode)) {","181","                                                    targetNode.getChildren().remove(targetChild);","182","                                                    break;","183","                                                }","184","                                            }","185","                                        } else {","186","                                            for (final Node targetChild : targetNode.getChildren()) {","187","                                                if (isSameName(targetChild, childNode)) {","188","                                                    targetNode.getChildren().remove(targetChild);","189","                                                    break;","190","                                                }","191","                                            }","192","                                        }","193","","194","                                        targetNode.getChildren().add(childNode);","195","                                    }","196","                                }","197","                            } else {","198","                                loggerNode.getAttributes().putAll(node.getAttributes());","199","                                loggerNode.getChildren().addAll(node.getChildren());","200","                                targetChildNode.getChildren().add(loggerNode);","201","                            }","202","                        }","203","                        isMerged = true;","204","                        break;","205","                    }","206","                    default: {","207","                        targetChildNode.getChildren().addAll(sourceChildNode.getChildren());","208","                        isMerged = true;","209","                        break;","210","                    }","211","","212","                }","213","            }","214","            if (!isMerged) {","215","                if (sourceChildNode.getName().equalsIgnoreCase(\"Properties\")) {","216","                    target.getChildren().add(0, sourceChildNode);","217","                } else {","218","                    target.getChildren().add(sourceChildNode);","219","                }","220","            }","221","        }","222","    }","223","","224","    private Node getLoggerNode(final Node parentNode, final String name) {","225","        for (final Node node : parentNode.getChildren()) {","226","            final String nodeName = node.getAttributes().get(NAME);","227","            if (name == null && nodeName == null) {","228","                return node;","229","            }","230","            if (nodeName != null && nodeName.equals(name)) {","231","                return node;","232","            }","233","        }","234","        return null;","235","    }","236","","237","    private void updateFilterNode(final Node target, final Node targetChildNode, final Node sourceChildNode,","238","            final PluginManager pluginManager) {","239","        if (CompositeFilter.class.isAssignableFrom(targetChildNode.getType().getPluginClass())) {","240","            final Node node = new Node(targetChildNode, sourceChildNode.getName(), sourceChildNode.getType());","241","            node.getChildren().addAll(sourceChildNode.getChildren());","242","            node.getAttributes().putAll(sourceChildNode.getAttributes());","243","            targetChildNode.getChildren().add(node);","244","        } else {","245","            final PluginType pluginType = pluginManager.getPluginType(FILTERS);","246","            final Node filtersNode = new Node(targetChildNode, FILTERS, pluginType);","247","            final Node node = new Node(filtersNode, sourceChildNode.getName(), sourceChildNode.getType());","248","            node.getAttributes().putAll(sourceChildNode.getAttributes());","249","            final List<Node> children = filtersNode.getChildren();","250","            children.add(targetChildNode);","251","            children.add(node);","252","            final List<Node> nodes = target.getChildren();","253","            nodes.remove(targetChildNode);","254","            nodes.add(filtersNode);","255","        }","256","    }","257","","258","    private boolean isFilterNode(final Node node) {","259","        return Filter.class.isAssignableFrom(node.getType().getPluginClass());","260","    }","261","","262","    private boolean isSameName(final Node node1, final Node node2) {","263","        final String value = node1.getAttributes().get(NAME);","264","        return value != null && value.toLowerCase().equals(node2.getAttributes().get(NAME).toLowerCase());","265","    }","266","","267","    private boolean isSameReference(final Node node1, final Node node2) {","268","        final String value = node1.getAttributes().get(REF);","269","        return value != null && value.toLowerCase().equals(node2.getAttributes().get(REF).toLowerCase());","270","    }","271","}"]}],"log4j-core\/src\/test\/resources\/log4j-comp-logger-ref.json":[{"add":[],"delete":[]}]}},"19f5824ebabbe6c0b2e5eef4ecaca8d4a2828a00":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2652\" dev=\"rgoers\" type=\"fix\">","33","        JSON output wrong when using additonal fields.","34","      <\/action>"],"delete":["32","    <release version=\"2.13.1\" date=\"2019-MM-DD\" description=\"GA Release 2.13.1\">"]}]}},"dd87a3a8993c992bbd06f3b18eebb1e0cd9c6793":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/PurgePolicy.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/RoutingAppender.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/IdlePurgePolicy.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/PurgePolicy.java":[{"add":["26","\t * Activates purging appenders. Note that {@link PurgePolicy} implementations are responsible for invoking","27","\t * this method themselves.","32","\t * @param key routed appender key"],"delete":["26","\t * Activates purging appenders","31","\t *","32","\t * @param routed appender key"]}],"src\/changes\/changes.xml":[{"add":["98","      <action issue=\"LOG4J2-2629\" dev=\"ckozak\" type=\"fix\">\r","99","        Fix a race allowing events not to be recorded when a RoutingAppender purge policy attempts to delete an idle\r","100","        appender at exactly the same time as a new event is recorded.\r","101","      <\/action>\r"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/RoutingAppender.java":[{"add":["24","import java.util.concurrent.atomic.AtomicInteger;","137","    private final ConcurrentMap<String, CreatedRouteAppenderControl> createdAppenders = new ConcurrentHashMap<>();","140","    private final ConcurrentMap<String, RouteAppenderControl> referencedAppenders = new ConcurrentHashMap<>();","194","                    referencedAppenders.put(key, new ReferencedRouteAppenderControl(appender));","208","        for (final Map.Entry<String, CreatedRouteAppenderControl> entry : createdAppenders.entrySet()) {","227","        final RouteAppenderControl control = getControl(key, event);","229","            try {","230","                control.callAppender(event);","231","            } finally {","232","                control.release();","233","            }","235","        updatePurgePolicy(key, event);","236","    }","238","    private void updatePurgePolicy(final String key, final LogEvent event) {","247","    private synchronized RouteAppenderControl getControl(final String key, final LogEvent event) {","248","        RouteAppenderControl control = getAppender(key);","250","            control.checkout();","264","                control.checkout();","273","            CreatedRouteAppenderControl created = new CreatedRouteAppenderControl(app);","274","            control = created;","275","            createdAppenders.put(key, created);","278","        if (control != null) {","279","            control.checkout();","280","        }","284","    private RouteAppenderControl getAppender(final String key) {","285","        final RouteAppenderControl result = referencedAppenders.get(key);","327","        final CreatedRouteAppenderControl control = createdAppenders.remove(key);","330","            \/\/ Synchronize with getControl to avoid triggering stopAppender before RouteAppenderControl.checkout","331","            \/\/ can be invoked.","332","            synchronized (this) {","333","                control.pendingDeletion = true;","334","            }","335","            \/\/ Don't attempt to stop the appender in a synchronized block, since it may block flushing events","336","            \/\/ to disk.","337","            control.tryStopAppender();","409","","410","    \/**","411","     * LOG4J2-2629: PurgePolicy implementations can invoke {@link #deleteAppender(String)} after we have looked up","412","     * an instance of a target appender but before events are appended, which could result in events not being","413","     * recorded to any appender.","414","     * This extension of {@link AppenderControl} allows to to mark usage of an appender, allowing deferral of","415","     * {@link Appender#stop()} until events have successfully been recorded.","416","     * Alternative approaches considered:","417","     * - More aggressive synchronization: Appenders may do expensive I\/O that shouldn't block routing.","418","     * - Move the 'updatePurgePolicy' invocation before appenders are called: Unfortunately this approach doesn't work","419","     *   if we consider an ImmediatePurgePolicy (or IdlePurgePolicy with a very small timeout) because it may attempt","420","     *   to remove an appender that doesn't exist yet. It's counterintuitive to get an event that a route has been","421","     *   used at a point when we expect the route doesn't exist in {@link #getAppenders()}.","422","     *\/","423","    private static abstract class RouteAppenderControl extends AppenderControl {","424","","425","        RouteAppenderControl(Appender appender) {","426","            super(appender, null, null);","427","        }","428","","429","        abstract void checkout();","430","","431","        abstract void release();","432","    }","433","","434","    private static final class CreatedRouteAppenderControl extends RouteAppenderControl {","435","","436","        private volatile boolean pendingDeletion = false;","437","        private final AtomicInteger depth = new AtomicInteger();","438","","439","        CreatedRouteAppenderControl(Appender appender) {","440","            super(appender);","441","        }","442","","443","        @Override","444","        void checkout() {","445","            if (pendingDeletion) {","446","                LOGGER.warn(\"CreatedRouteAppenderControl.checkout invoked on a \" +","447","                        \"RouteAppenderControl that is pending deletion\");","448","            }","449","            depth.incrementAndGet();","450","        }","451","","452","        @Override","453","        void release() {","454","            depth.decrementAndGet();","455","            tryStopAppender();","456","        }","457","","458","        void tryStopAppender() {","459","            if (pendingDeletion","460","                    \/\/ Only attempt to stop the appender if we can CaS the depth away from zero, otherwise either","461","                    \/\/ 1. Another invocation of tryStopAppender has succeeded, or","462","                    \/\/ 2. Events are being appended, and will trigger stop when they complete","463","                    && depth.compareAndSet(0, -100_000)) {","464","                Appender appender = getAppender();","465","                LOGGER.debug(\"Stopping appender {}\", appender);","466","                appender.stop();","467","            }","468","        }","469","    }","470","","471","    private static final class ReferencedRouteAppenderControl extends RouteAppenderControl {","472","","473","        ReferencedRouteAppenderControl(Appender appender) {","474","            super(appender);","475","        }","476","","477","        @Override","478","        void checkout() {","479","            \/\/ nop","480","        }","481","","482","        @Override","483","        void release() {","484","            \/\/ nop","485","        }","486","    }"],"delete":["136","    private final ConcurrentMap<String, AppenderControl> createdAppenders = new ConcurrentHashMap<>();","139","    private final ConcurrentMap<String, AppenderControl> referencedAppenders = new ConcurrentHashMap<>();","193","                    referencedAppenders.put(key, new AppenderControl(appender, null, null));","207","        for (final Map.Entry<String, AppenderControl> entry : createdAppenders.entrySet()) {","226","        final AppenderControl control = getControl(key, event);","228","            control.callAppender(event);","239","    private synchronized AppenderControl getControl(final String key, final LogEvent event) {","240","        AppenderControl control = getAppender(key);","263","            control = new AppenderControl(app, null, null);","264","            createdAppenders.put(key, control);","270","    private AppenderControl getAppender(final String key) {","271","        final AppenderControl result = referencedAppenders.get(key);","313","        final AppenderControl control = createdAppenders.remove(key);","316","            control.getAppender().stop();"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/IdlePurgePolicy.java":[{"add":["75","            long entryValue = entry.getValue();","76","            if (entryValue < createTime) {","77","                if (appendersUsage.remove(entry.getKey(), entryValue)) {","78","                    LOGGER.debug(\"Removing appender {}\", entry.getKey());"],"delete":["75","            if (entry.getValue() < createTime) {","76","                LOGGER.debug(\"Removing appender {}\", entry.getKey());","77","                if (appendersUsage.remove(entry.getKey(), entry.getValue())) {"]}]}},"571fb8df680b0db94ad1b6afed478e915b3411a3":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/mom\/kafka\/KafkaManager.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/mom\/kafka\/KafkaManager.java":[{"add":["89","                Thread.currentThread().interrupt();"],"delete":[]}]}},"5aa2163cf9daaacd23bb7f620931b8f592be6fc7":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-jul\/src\/main\/java\/org\/apache\/logging\/log4j\/jul\/ApiLogger.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["45","      <action issue=\"LOG4J2-1987\" dev=\"ggregory\" type=\"fix\" due-to=\"Andreas Felder\">","46","        Log4J JUL Bridge and RMI Security Manager causes access denied (\"java.util.logging.LoggingPermission\" \"control\")","47","      <\/action>"],"delete":[]}],"log4j-jul\/src\/main\/java\/org\/apache\/logging\/log4j\/jul\/ApiLogger.java":[{"add":["19","import java.security.AccessController;","20","import java.security.PrivilegedAction;","51","        final Level javaLevel = LevelTranslator.toJavaLevel(logger.getLevel());","52","        \/\/ \"java.util.logging.LoggingPermission\" \"control\"","53","        AccessController.doPrivileged(new PrivilegedAction<Object>() {","54","            @Override","55","            public Object run() {","56","                ApiLogger.super.setLevel(javaLevel);","57","                return null;","58","            }","59","        });"],"delete":["49","        super.setLevel(LevelTranslator.toJavaLevel(logger.getLevel()));"]}]}},"a5ea7509ee75fe1db98c53366373c4ed10c8fba2":{"changes":{"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/ConfigurationFactory.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/ConfigurationFactory.java":[{"add":["36","import java.util.Collections;","90","    private static volatile List<ConfigurationFactory> factories = null;","99","        if (factories == null) {","100","            synchronized(TEST_PREFIX) {","101","                if (factories == null) {","102","                    List<ConfigurationFactory> list = new ArrayList<ConfigurationFactory>();","103","                    final String factoryClass = PropertiesUtil.getProperties().getStringProperty(CONFIGURATION_FACTORY_PROPERTY);","104","                    if (factoryClass != null) {","105","                        addFactory(list, factoryClass);","106","                    }","107","                    final PluginManager manager = new PluginManager(\"ConfigurationFactory\");","108","                    manager.collectPlugins();","109","                    final Map<String, PluginType> plugins = manager.getPlugins();","110","                    final Set<WeightedFactory> ordered = new TreeSet<WeightedFactory>();","111","                    for (final PluginType type : plugins.values()) {","112","                        try {","113","                            final Class<ConfigurationFactory> clazz = type.getPluginClass();","114","                            final Order o = clazz.getAnnotation(Order.class);","115","                            final Integer weight = o.value();","116","                            if (o != null) {","117","                                ordered.add(new WeightedFactory(weight, clazz));","118","                            }","119","                        } catch (final Exception ex) {","120","                            LOGGER.warn(\"Unable to add class \" + type.getPluginClass());","121","                        }","122","                    }","123","                    for (final WeightedFactory wf : ordered) {","124","                        addFactory(list, wf.factoryClass);","125","                    }","126","                    factories = Collections.unmodifiableList(list);","130","","135","    private static void addFactory(final List<ConfigurationFactory> list, final String factoryClass) {","137","            addFactory(list, (Class<ConfigurationFactory>) Class.forName(factoryClass));","145","    private static void addFactory(final List<ConfigurationFactory> list,","146","                                   final Class<ConfigurationFactory> factoryClass) {","148","            list.add(factoryClass.newInstance());","155","     * Set the configuration factory. This method is not intended for general use and may not be thread safe.","163","     * Reset the ConfigurationFactory to the default. This method is not intended for general use and may","164","     * not be thread safe.","171","     * Remove the ConfigurationFactory. This method is not intended for general use and may not be thread safe.","175","        if (configFactory == factory) {","176","            configFactory = new Factory();","177","        }"],"delete":["89","    private static List<ConfigurationFactory> factories = new ArrayList<ConfigurationFactory>();","98","        final String factoryClass = PropertiesUtil.getProperties().getStringProperty(CONFIGURATION_FACTORY_PROPERTY);","99","        if (factoryClass != null) {","100","            addFactory(factoryClass);","101","        }","102","        final PluginManager manager = new PluginManager(\"ConfigurationFactory\");","103","        manager.collectPlugins();","104","        final Map<String, PluginType> plugins = manager.getPlugins();","105","        final Set<WeightedFactory> ordered = new TreeSet<WeightedFactory>();","106","        for (final PluginType type : plugins.values()) {","107","            try {","108","                final Class<ConfigurationFactory> clazz = type.getPluginClass();","109","                final Order o = clazz.getAnnotation(Order.class);","110","                final Integer weight = o.value();","111","                if (o != null) {","112","                    ordered.add(new WeightedFactory(weight, clazz));","114","            } catch (final Exception ex) {","115","              LOGGER.warn(\"Unable to add class \" + type.getPluginClass());","118","        for (final WeightedFactory wf : ordered) {","119","            addFactory(wf.factoryClass);","120","        }","125","    private static void addFactory(final String factoryClass) {","127","            addFactory((Class<ConfigurationFactory>) Class.forName(factoryClass));","135","    private static void addFactory(final Class<ConfigurationFactory> factoryClass) {","137","            factories.add(factoryClass.newInstance());","144","     * Set the configuration factory.","152","     * Reset the ConfigurationFactory to the default.","159","     * Remove the ConfigurationFactory.","163","        factories.remove(factory);"]}],"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-169\" dev=\"rgoers\" type=\"fix\">","26","        ConfigurationFactory was adding factories on every call.","27","      <\/action>","28","      <action issue=\"LOG4J2-161\" dev=\"rgoers\" type=\"fix\">"],"delete":["25","      <action issue=\"LOG4J2-161\" dev=\"rgoers\">"]}]}},"e6c33d4259736712172da589c2f12130eaaee44e":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["91","      <action issue=\"LOG4J2-2898\" dev=\"ckozak\" type=\"fix\" due-to=\"Turbanov Andrey\">","92","        Avoid initializing volatile fields with default values.","93","      <\/action>"],"delete":[]}]}},"7d1cded8e720f7ba20aa6102ec05b0bbf63ebc57":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/FileManager.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/FileManager.java":[{"add":["197","                LOGGER.warn(\"Unable to set current file time for {}\", filename);"],"delete":["197","                LOGGER.warn(\"Unable to set current file tiem for {}\", filename);"]}],"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2894\" dev=\"rgoers\" type=\"fix\">","33","        Fix spelling error in log message.","34","      <\/action>"],"delete":[]}]}},"d24eb91d26cf4a8086cd7396de33812e9341258b":{"changes":{"core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/TestConfiguratorError.java":"ADD","src\/changes\/changes.xml":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/Configurator.java":"MODIFY"},"diff":{"core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/TestConfiguratorError.java":[{"add":[],"delete":[]}],"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-167\" dev=\"rgoers\" type=\"fix\">","26","        Configurator throws a ClassCastException if LogManager returns a SimpleLoggerContext.","27","      <\/action>"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/Configurator.java":[{"add":["19","import org.apache.logging.log4j.LoggingException;","21","import org.apache.logging.log4j.status.StatusData;","22","import org.apache.logging.log4j.status.StatusLogger;","23","","26","import java.util.List;","33","    private static final StatusLogger LOGGER = StatusLogger.getLogger();","34","","66","            org.apache.logging.log4j.spi.LoggerContext context = LogManager.getContext(loader, false, configLocation);","67","            if (context instanceof LoggerContext) {","68","                final LoggerContext ctx = (LoggerContext) context;","69","                final Configuration config = ConfigurationFactory.getInstance().getConfiguration(name, configLocation);","70","                ctx.setConfiguration(config);","71","                return ctx;","72","            } else {","73","                LOGGER.error(\"LogManager returned an instance of {} which does not implement {}. Unable to initialize Log4j\",","74","                    context.getClass().getName(), LoggerContext.class.getName());","75","            }","98","            org.apache.logging.log4j.spi.LoggerContext context = LogManager.getContext(loader, false, configLocation);","99","            if (context instanceof LoggerContext) {","100","                final LoggerContext ctx = (LoggerContext) context;","101","                final Configuration config = ConfigurationFactory.getInstance().getConfiguration(source);","102","                ctx.setConfiguration(config);","103","                return ctx;","104","            } else {","105","                LOGGER.error(\"LogManager returned an instance of {} which does not implement {}. Unable to initialize Log4j\",","106","                    context.getClass().getName(), LoggerContext.class.getName());","107","            }"],"delete":["59","            final LoggerContext ctx = (LoggerContext) LogManager.getContext(loader, false, configLocation);","60","            final Configuration config = ConfigurationFactory.getInstance().getConfiguration(name, configLocation);","61","            ctx.setConfiguration(config);","62","            return ctx;","85","            final LoggerContext ctx = (LoggerContext) LogManager.getContext(loader, false, configLocation);","86","            final Configuration config = ConfigurationFactory.getInstance().getConfiguration(source);","87","            ctx.setConfiguration(config);","88","            return ctx;"]}]}},"64dc5f9ed67dda58c4fbce7a51a025c0736bf3e9":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2877\" dev=\"rgoers\" type=\"fix\">","33","        Determine the container id to obtain container and image information.","34","      <\/action>","48","\t\t    Update mongodb3.version from 3.12.1 to 3.12.4."],"delete":["45","\t\tUpdate mongodb3.version from 3.12.1 to 3.12.4."]}]}},"673d316fd7b8a99f17bce0f876f160e12b2497c6":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-perf\/src\/main\/java\/org\/apache\/logging\/log4j\/perf\/jmh\/StackWalkBenchmark.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2880\" dev=\"rgoers\" type=\"fix\">","33","        Create StackWalker benchmark. Revert back to StackWalker.walk based on benchmark results.","34","      <\/action>"],"delete":[]}],"log4j-perf\/src\/main\/java\/org\/apache\/logging\/log4j\/perf\/jmh\/StackWalkBenchmark.java":[{"add":["106","    @Benchmark","107","    public void baseline(Blackhole bh)  {","108","","109","        stackDriver.deepCall(initialDepth, callDepth, (fqcn) -> {","110","            return null;","111","        });","112","    }","113",""],"delete":[]}]}},"f0d57be550ee2e62acd7180b9d086872ce904310":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["29","      <action issue=\"LOG4J2-1318\" dev=\"rpopma\" type=\"update\">","30","        Avoid allocating unnecessary temporary objects in LoggerContext's getLogger methods.","31","      <\/action>"],"delete":[]}]}},"ce2ceec67fcbacd03d0c5f8d29bf498f1cf2ab94":{"changes":{"flume-ng\/src\/test\/resources\/persistent.xml":"MODIFY","src\/site\/xdoc\/manual\/plugins.xml":"MODIFY","src\/site\/xdoc\/manual\/appenders.xml":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/PluginManager.java":"MODIFY","flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumePersistentManager.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/helpers\/SecretKeyProvider.java":"ADD","flume-ng\/src\/test\/java\/org\/apache\/logging\/log4j\/flume\/test\/FlumeKeyProvider.java":"ADD"},"diff":{"flume-ng\/src\/test\/resources\/persistent.xml":[{"add":["1","<configuration status=\"info\" name=\"MyApp\" packages=\"org.apache.logging.log4j.flume.test\">","7","      <!-- Uncomment to enable encryption","8","      <Property name=\"keyProvider\">FlumeKeyProvider<\/Property> -->"],"delete":["1","<configuration status=\"info\" name=\"MyApp\" packages=\"\">","7","      <Property name=\"password\">Test123!!<\/Property>"]}],"src\/site\/xdoc\/manual\/plugins.xml":[{"add":["91","        <a name=\"KeyProviders\"\/>","92","        <subsection name=\"KeyProviders\">","93","          Some components within Log4j may provide the ability to perform data encryption. These components require","94","          a secret key to perform the encryption. Applications may provide the key by creating a class that","95","          implements the <a href=\"..\/log4j-core\/apidocs\/org\/apache\/logging\/log4j\/core\/helpers\/SecretKeyProvider.html\">SecretKeyProvider<\/a>","96","          interface.","97","        <\/subsection>"],"delete":[]}],"src\/site\/xdoc\/manual\/appenders.xml":[{"add":["486","                  <li>\"keyProvider\" to specify the name of the plugin to provide the secret key for encryption.<\/li>","543","      <Property name=\"keyProvider\">MySecretProvider<\/Property>"],"delete":["486","                  <li>\"password\" to specfify that","487","                the data should be encrypted when written to disk.<\/li>","544","      <Property name=\"password\">Test123!!<\/Property>"]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/PluginManager.java":[{"add":["157","        if (plugins == null || plugins.size() == 0) {","159","                if (!PACKAGES.contains(LOG4J_PACKAGES)) {","160","                    PACKAGES.add(LOG4J_PACKAGES);","161","                }"],"delete":["157","        if (plugins.size() == 0) {","159","                PACKAGES.add(LOG4J_PACKAGES);"]}],"flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumePersistentManager.java":[{"add":["31","import org.apache.logging.log4j.core.config.plugins.PluginManager;","32","import org.apache.logging.log4j.core.config.plugins.PluginType;","34","import org.apache.logging.log4j.core.helpers.SecretKeyProvider;","63","    public static final String KEY_PROVIDER = \"keyProvider\";","265","                String key = null;","266","                for (Map.Entry<String, String> entry : properties.entrySet()) {","267","                    if (entry.getKey().equalsIgnoreCase(KEY_PROVIDER)) {","268","                        key = entry.getValue();","271","                if (key != null) {","272","                    final PluginManager manager = new PluginManager(\"KeyProvider\", SecretKeyProvider.class);","273","                    manager.collectPlugins();","274","                    final Map<String, PluginType> plugins = manager.getPlugins();","275","                    if (plugins != null) {","276","                        boolean found = false;","277","                        for (Map.Entry<String, PluginType> entry : plugins.entrySet()) {","278","                            if (entry.getKey().equalsIgnoreCase(key)) {","279","                                found = true;","280","                                Class cl = entry.getValue().getPluginClass();","281","                                try {","282","                                    SecretKeyProvider provider = (SecretKeyProvider) cl.newInstance();","283","                                    secretKey = provider.getSecretKey();","284","                                } catch (Exception ex) {","285","                                    LOGGER.error(\"Unable to create SecretKeyProvider {}, encryption will be disabled\",","286","                                        cl.getName());","287","                                }","288","                                break;","289","                            }","290","                        }","291","                        if (!found) {","292","                            LOGGER.error(\"Unable to locate SecretKey provider {}, encryption will be disabled\", key);","293","                        }","294","                    } else {","295","                        LOGGER.error(\"Unable to locate SecretKey provider {}, encryption will be disabled\", key);","296","                    }","297","                }","301","            return new FlumePersistentManager(name, data.name, data.agents, data.batchSize, data.reconnectionDelay,","302","                database, secretKey);"],"delete":["60","    public static final String PASSWORD = \"password\";","234","            byte[] salt;","263","                if (properties.containsKey(PASSWORD)) {","264","                    String password = properties.get(PASSWORD);","265","                    salt = new byte[20];","266","                    File saltFile = new File(data.dataDir + \"\/salt.dat\");","267","                    boolean needSalt = true;","268","                    if (saltFile.exists()) {","269","                        FileInputStream fis = new FileInputStream(saltFile);","270","                        if (fis.read(salt) == 20) {","271","                            needSalt = false;","272","                        }","273","                        fis.close();","275","                    if (needSalt) {","276","                        Random r = new SecureRandom();","277","                        r.nextBytes(salt);","278","                        FileOutputStream fos = new FileOutputStream(saltFile);","279","                        fos.write(salt);","280","                        fos.close();","281","                    }","282","                    SecretKeyFactory factory = SecretKeyFactory.getInstance(\"PBKDF2WithHmacSHA1\");","283","                    KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 65536, 256);","284","                    SecretKey tmp = factory.generateSecret(spec);","285","                    secretKey = new SecretKeySpec(tmp.getEncoded(), \"AES\");","287","                return new FlumePersistentManager(name, data.name, data.agents, data.batchSize, data.reconnectionDelay,","288","                    database, secretKey);","291","","293","            return null;"]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/helpers\/SecretKeyProvider.java":[{"add":[],"delete":[]}],"flume-ng\/src\/test\/java\/org\/apache\/logging\/log4j\/flume\/test\/FlumeKeyProvider.java":[{"add":[],"delete":[]}]}},"dbe8c3abce06c07a93c071e7d87c5ce6ce1a28c2":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/CompositeConfigurationTest.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/composite\/DefaultMergeStrategy.java":"MODIFY","log4j-core\/src\/test\/resources\/log4j-comp-logger-attr-override.json":"ADD","log4j-core\/src\/test\/resources\/log4j-comp-logger-root.xml":"ADD"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/CompositeConfigurationTest.java":[{"add":["20","import org.apache.logging.log4j.Level;","31","import static org.junit.Assert.*;","32","","130","","131","    @Test","132","    public void testAttributeMergeForLoggers() {","133","        final LoggerContextRule lcr = new LoggerContextRule(\"classpath:log4j-comp-logger-root.xml,log4j-comp-logger-attr-override.json\");","134","        final Statement test = new Statement() {","135","            @Override","136","            public void evaluate() throws Throwable {","137","                final CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();","138","                \/\/Test for Root log level override","139","                assertEquals(\"Expected Root logger log level to be WARN\", Level.WARN, config.getRootLogger().getLevel());","140","","141","                \/\/Test for cat2 level override","142","                LoggerConfig cat2 = config.getLogger(\"cat2\");","143","                assertEquals(\"Expected cat2 log level to be INFO\", Level.INFO, cat2.getLevel());","144","","145","                \/\/Test for cat2 additivity override","146","                assertTrue(\"Expected cat2 additivity to be true\", cat2.isAdditive());","147","","148","                \/\/Regression","149","                \/\/Check level on cat3 (not present in root config)","150","                assertEquals(\"Expected cat3 log level to be ERROR\", Level.ERROR, config.getLogger(\"cat3\").getLevel());","151","                \/\/Check level on cat1 (not present in overriden config)","152","                assertEquals(\"Expected cat1 log level to be DEBUG\", Level.DEBUG, config.getLogger(\"cat1\").getLevel());","153","            }","154","        };","155","        runTest(lcr, test);","156","    }"],"delete":["18","import static org.junit.Assert.assertEquals;","19","import static org.junit.Assert.assertTrue;","20","import static org.junit.Assert.fail;","21",""]}],"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1529\" dev=\"mattsicker\" type=\"fix\" due-to=\"Sridevi Narra\">","27","        Attributes are not merged properly in composite configurations.","28","      <\/action>"],"delete":["26",""]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/composite\/DefaultMergeStrategy.java":[{"add":["157","                                targetNode.getAttributes().putAll(node.getAttributes());"],"delete":[]}],"log4j-core\/src\/test\/resources\/log4j-comp-logger-attr-override.json":[{"add":[],"delete":[]}],"log4j-core\/src\/test\/resources\/log4j-comp-logger-root.xml":[{"add":[],"delete":[]}]}},"a04ea5c0b2260a1453e4ca5a22ec21e4a770e554":{"changes":{"src\/changes\/changes.xml":"MODIFY","core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/impl\/ThrowableFormatOptionsTest.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-194\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","26","        ThrowableFormatOptionsTest failed on Windows due to CR\/LF issue.","27","      <\/action>"],"delete":[]}],"core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/impl\/ThrowableFormatOptionsTest.java":[{"add":["139","        test(new String[]{\"separator(\" + Constants.LINE_SEP + \")\"}, Integer.MAX_VALUE, Constants.LINE_SEP, null);"],"delete":["139","        test(new String[]{\"separator(\\n)\"}, Integer.MAX_VALUE, Constants.LINE_SEP, null);"]}]}},"e5503d7f9f0f8059c1c83e028a54ec7d84ea112c":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/AbstractActionTest.java":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/AbstractActionTest.java":[{"add":["18","import static org.junit.Assert.assertEquals;","19","import static org.junit.Assert.assertTrue;","20","","21","import java.io.IOException;","22","import java.util.List;","23","","47","        assertTrue(formattedMessage, formattedMessage.contains(\"Exception reported by action 'class org.apache.\"","48","                + \"logging.log4j.core.appender.rolling.action.AbstractActionTest$TestAction' java.io.IOException: \"","49","                + \"failed\" + System.lineSeparator()","50","                + \"\\tat org.apache.logging.log4j.core.appender.rolling.action.AbstractActionTest\"","51","                + \"$TestAction.execute(AbstractActionTest.java:\"));"],"delete":["25","import java.io.IOException;","26","import java.util.List;","27","","28","import static org.junit.Assert.assertEquals;","29","import static org.junit.Assert.assertTrue;","30","","47","        assertTrue(formattedMessage.contains(\"Exception reported by action 'class org.apache.\" +","48","                \"logging.log4j.core.appender.rolling.action.AbstractActionTest$TestAction' java.io.IOException: \" +","49","                \"failed\\n\\tat org.apache.logging.log4j.core.appender.rolling.action.AbstractActionTest\" +","50","                \"$TestAction.execute(AbstractActionTest.java:\"));"]}]}},"1e726c20e71e9aca7b5c1f4d568bd3fabd189076":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/RoutingAppenderWithPurgingTest.java":"MODIFY","log4j-core\/src\/test\/resources\/log4j-routing-purge.xml":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/RoutingAppender.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/IdlePurgePolicy.java":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/RoutingAppenderWithPurgingTest.java":[{"add":["19","import static org.junit.Assert.assertFalse;","24","import java.util.HashSet;","26","import java.util.Set;","89","        \/\/ '2' is a referenced list appender","90","        final String[] files = {IDLE_LOG_FILE1, IDLE_LOG_FILE3, MANUAL_LOG_FILE1, MANUAL_LOG_FILE3};","92","        Set<String> expectedAppenderKeys = new HashSet<>(2);","93","        expectedAppenderKeys.add(\"1\");","94","        expectedAppenderKeys.add(\"3\");","95","        assertEquals(expectedAppenderKeys, routingAppenderManual.getAppenders().keySet());","97","        assertFalse(((ListAppender) loggerContextRule.getAppender(\"ReferencedList\")).getEvents().isEmpty());","98","","99","        assertEquals(\"Incorrect number of appenders with IdlePurgePolicy.\", 2, routingAppenderIdle.getAppenders().size());","101","                2, routingAppenderIdleWithHangingAppender.getAppenders().size());","102","        assertEquals(\"Incorrect number of appenders manual purge.\", 2, routingAppenderManual.getAppenders().size());","108","        assertEquals(\"Incorrect number of appenders with manual purge.\", 2, routingAppenderManual.getAppenders().size());","117","        assertFalse(\"Reference based routes should not be stoppable\",","118","                loggerContextRule.getAppender(\"ReferencedList\").isStopped());","119",""],"delete":["86","        final String[] files = {IDLE_LOG_FILE1, IDLE_LOG_FILE2, IDLE_LOG_FILE3, MANUAL_LOG_FILE1, MANUAL_LOG_FILE2, MANUAL_LOG_FILE3};","89","        assertEquals(\"Incorrect number of appenders with IdlePurgePolicy.\", 3, routingAppenderIdle.getAppenders().size());","91","                3, routingAppenderIdleWithHangingAppender.getAppenders().size());","92","        assertEquals(\"Incorrect number of appenders manual purge.\", 3, routingAppenderManual.getAppenders().size());","98","        assertEquals(\"Incorrect number of appenders with manual purge.\", 3, routingAppenderManual.getAppenders().size());"]}],"log4j-core\/src\/test\/resources\/log4j-routing-purge.xml":[{"add":["32","    <List name=\"ReferencedList\"\/>","42","        <Route ref=\"ReferencedList\" key=\"2\"\/>","46","","52","        <Route ref=\"ReferencedList\" key=\"2\"\/>","66","        <Route ref=\"ReferencedList\" key=\"2\"\/>"],"delete":["44","    "]}],"src\/changes\/changes.xml":[{"add":["93","      <action issue=\"LOG4J2-2631\" dev=\"ckozak\" type=\"fix\">\r","94","        RoutingAppender PurgePolicy implementations no longer stop appenders referenced from the logger configuration,\r","95","        only those that have been created by the RoutingAppender. Note that RoutingAppender.getAppenders no longer\r","96","        includes entries for referenced appenders, only those which it has created.\r","97","      <\/action>\r"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/RoutingAppender.java":[{"add":["136","    private final ConcurrentMap<String, AppenderControl> createdAppenders = new ConcurrentHashMap<>();","137","    private final Map<String, AppenderControl> createdAppendersUnmodifiableView","138","            = Collections.unmodifiableMap(createdAppenders);","139","    private final ConcurrentMap<String, AppenderControl> referencedAppenders = new ConcurrentHashMap<>();","193","                    referencedAppenders.put(key, new AppenderControl(appender, null, null));","206","        \/\/ Only stop appenders that were created by this RoutingAppender","207","        for (final Map.Entry<String, AppenderControl> entry : createdAppenders.entrySet()) {","209","            if (appender instanceof LifeCycle2) {","210","                ((LifeCycle2) appender).stop(timeout, timeUnit);","211","            } else {","212","                appender.stop();","231","        if (purgePolicy != null","232","                \/\/ LOG4J2-2631: PurgePolicy implementations do not need to be aware of appenders that","233","                \/\/ were not created by this RoutingAppender.","234","                && !referencedAppenders.containsKey(key)) {","240","        AppenderControl control = getAppender(key);","253","            control = getAppender(DEFAULT_KEY);","264","            createdAppenders.put(key, control);","270","    private AppenderControl getAppender(final String key) {","271","        final AppenderControl result = referencedAppenders.get(key);","272","        if (result == null) {","273","            return createdAppenders.get(key);","274","        }","275","        return result;","276","    }","277","","297","    \/**","298","     * Returns an unmodifiable view of the appenders created by this {@link RoutingAppender}.","299","     * Note that this map does not contain appenders that are routed by reference.","300","     *\/","302","        return createdAppendersUnmodifiableView;","311","        LOGGER.debug(\"Deleting route with {} key \", key);","312","        \/\/ LOG4J2-2631: Only appenders created by this RoutingAppender are eligible for deletion.","313","        final AppenderControl control = createdAppenders.remove(key);","315","            LOGGER.debug(\"Stopping route with {} key\", key);","318","            if (referencedAppenders.containsKey(key)) {","319","                LOGGER.debug(\"Route {} using an appender reference may not be removed because \" +","320","                        \"the appender may be used outside of the RoutingAppender\", key);","321","            } else {","322","                LOGGER.debug(\"Route with {} key already deleted\", key);","323","            }"],"delete":["136","    private final ConcurrentMap<String, AppenderControl> appenders = new ConcurrentHashMap<>();","190","                    appenders.put(key, new AppenderControl(appender, null, null));","203","        final Map<String, Appender> map = configuration.getAppenders();","204","        for (final Map.Entry<String, AppenderControl> entry : appenders.entrySet()) {","206","            if (!map.containsKey(appender.getName())) {","207","                if (appender instanceof LifeCycle2) {","208","                    ((LifeCycle2) appender).stop(timeout, timeUnit);","209","                } else {","210","                    appender.stop();","211","                }","230","        if (purgePolicy != null) {","236","        AppenderControl control = appenders.get(key);","249","            control = appenders.get(DEFAULT_KEY);","260","            appenders.put(key, control);","286","        return Collections.unmodifiableMap(appenders);","295","        LOGGER.debug(\"Deleting route with \" + key + \" key \");","296","        final AppenderControl control = appenders.remove(key);","298","            LOGGER.debug(\"Stopping route with \" + key + \" key\");","301","            LOGGER.debug(\"Route with \" + key + \" key already deleted\");"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/IdlePurgePolicy.java":[{"add":["76","                LOGGER.debug(\"Removing appender {}\", entry.getKey());"],"delete":["76","                LOGGER.debug(\"Removing appender \" + entry.getKey());"]}]}},"4d4743b7c88cd99d143972bbbfb10026b7782972":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingRandomAccessFileManager.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingRandomAccessFileManager.java":[{"add":["164","\tpublic synchronized boolean closeOutputStream() {","165","\t\tflush();","166","\t\tif (randomAccessFile != null) {","167","\t\t\ttry {","168","\t\t\t\trandomAccessFile.close();","169","\t\t\t\treturn true;","170","\t\t\t} catch (final IOException e) {","171","\t\t\t\tlogError(\"Unable to close RandomAccessFile\", e);","172","\t\t\t\treturn false;","173","\t\t\t}","174","\t\t}","175","\t\treturn true;","176","\t}"],"delete":["164","    public synchronized boolean closeOutputStream() {","165","        flush();","166","        try {","167","            randomAccessFile.close();","168","            return true;","169","        } catch (final IOException e) {","170","            logError(\"Unable to close RandomAccessFile\", e);","171","            return false;","172","        }","173","    }"]}],"src\/changes\/changes.xml":[{"add":["51","      <action issue=\"LOG4J2-2418\" dev=\"ggregory\" type=\"fix\" due-to=\"Jonas Rutishauser\">","52","        NullPointerException when closing never used RollingRandomAccessFileAppender.","53","      <\/action>"],"delete":[]}]}},"516756119ff74cb5b4bcbea425bf6b26ec630f63":{"changes":{"log4j-web\/src\/main\/java\/org\/apache\/logging\/log4j\/web\/Log4jWebSupport.java":"MODIFY","log4j-web\/src\/main\/java\/org\/apache\/logging\/log4j\/web\/Log4jServletContextListener.java":"MODIFY","log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/Log4jShutdownOnContextDestroyedListenerTest.java":"ADD","log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/WebLookupTest.java":"MODIFY","log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/Log4jServletContainerInitializerTest.java":"MODIFY","log4j-web\/pom.xml":"MODIFY","log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/Log4jServletContextListenerTest.java":"MODIFY","log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/Log4jWebInitializerImplTest.java":"MODIFY","log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/PropertyTest.java":"MODIFY","log4j-web\/src\/main\/java\/org\/apache\/logging\/log4j\/web\/Log4jShutdownOnContextDestroyedListener.java":"ADD","log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/Log4jServletFilterTest.java":"MODIFY","log4j-web\/src\/main\/java\/org\/apache\/logging\/log4j\/web\/Log4jServletContainerInitializer.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/ServletAppenderTest.java":"MODIFY"},"diff":{"log4j-web\/src\/main\/java\/org\/apache\/logging\/log4j\/web\/Log4jWebSupport.java":[{"add":["58","     * The {@link javax.servlet.ServletContext} parameter name for the flag that disables Log4j's auto-shutdown","59","     * in Servlet 3.0+ web applications. Set a context parameter with this name to \"true\" to disable","60","     * auto-shutdown.","61","     *\/","62","    String IS_LOG4J_AUTO_SHUTDOWN_DISABLED = \"isLog4jAutoShutdownDisabled\";","63","","64","    \/**"],"delete":[]}],"log4j-web\/src\/main\/java\/org\/apache\/logging\/log4j\/web\/Log4jServletContextListener.java":[{"add":["52","        ","53","        if (\"true\".equalsIgnoreCase(servletContext.getInitParameter(","54","                Log4jWebSupport.IS_LOG4J_AUTO_SHUTDOWN_DISABLED))) {","55","        \tthrow new IllegalStateException(\"Do not use \" + getClass().getSimpleName() + \" when \"","56","        \t\t\t+ Log4jWebSupport.IS_LOG4J_AUTO_SHUTDOWN_DISABLED + \" is true. Please use \"","57","        \t\t\t+ Log4jShutdownOnContextDestroyedListener.class.getSimpleName() + \" instead of \"","58","        \t\t\t+ getClass().getSimpleName() + \".\");","59","        }"],"delete":[]}],"log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/Log4jShutdownOnContextDestroyedListenerTest.java":[{"add":[],"delete":[]}],"log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/WebLookupTest.java":[{"add":["28","import org.junit.jupiter.api.Test;","31","import static org.junit.jupiter.api.Assertions.*;","49","            assertNotNull(ctx, \"No LoggerContext\");","50","            assertNotNull(WebLoggerContextUtils.getServletContext(), \"No ServletContext\");","52","            assertNotNull(config, \"No Configuration\");","54","            assertNotNull(substitutor, \"No Interpolator\");","56","            assertNotNull(value, \"No value for TestParam\");","57","            assertEquals(\"ParamValue\", value, \"Incorrect value for TestParam: \" + value);","59","            assertNotNull(value, \"No value for TestAttr\");","60","            assertEquals(\"AttrValue\", value, \"Incorrect value for TestAttr: \" + value);","62","            assertNotNull(value, \"No value for Name1\");","63","            assertEquals(\"Ben\", value, \"Incorrect value for Name1: \" + value);","65","            assertNotNull(value, \"No value for Name2\");","66","            assertEquals(\"Jerry\", value, \"Incorrect value for Name2: \" + value);","68","            assertNotNull(value, \"No value for context name\");","69","            assertEquals(\"WebApp\", value, \"Incorrect value for context name\");","91","        assertNotNull(ctx, \"No LoggerContext\");","92","        assertNotNull(WebLoggerContextUtils.getServletContext(), \"No ServletContext\");","94","        assertNotNull(config, \"No Configuration\");","104","        assertEquals(\"default\", value, \"Incorrect value for context name\");","105","        assertNotNull(value, \"No value for context name\");"],"delete":["28","import org.junit.Test;","31","import static org.junit.Assert.*;","49","            assertNotNull(\"No LoggerContext\", ctx);","50","            assertNotNull(\"No ServletContext\", WebLoggerContextUtils.getServletContext());","52","            assertNotNull(\"No Configuration\", config);","54","            assertNotNull(\"No Interpolator\", substitutor);","56","            assertNotNull(\"No value for TestParam\", value);","57","            assertEquals(\"Incorrect value for TestParam: \" + value, \"ParamValue\", value);","59","            assertNotNull(\"No value for TestAttr\", value);","60","            assertEquals(\"Incorrect value for TestAttr: \" + value, \"AttrValue\", value);","62","            assertNotNull(\"No value for Name1\", value);","63","            assertEquals(\"Incorrect value for Name1: \" + value, \"Ben\", value);","65","            assertNotNull(\"No value for Name2\", value);","66","            assertEquals(\"Incorrect value for Name2: \" + value, \"Jerry\", value);","68","            assertNotNull(\"No value for context name\", value);","69","            assertEquals(\"Incorrect value for context name\", \"WebApp\", value);","91","        assertNotNull(\"No LoggerContext\", ctx);","92","        assertNotNull(\"No ServletContext\", WebLoggerContextUtils.getServletContext());","94","        assertNotNull(\"No Configuration\", config);","104","        assertEquals(\"Incorrect value for context name\", \"default\", value);","105","        assertNotNull(\"No value for context name\", value);"]}],"log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/Log4jServletContainerInitializerTest.java":[{"add":["26","import org.junit.jupiter.api.BeforeEach;","27","import org.junit.jupiter.api.Test;","28","import org.junit.jupiter.api.extension.ExtendWith;","32","import org.mockito.junit.jupiter.MockitoExtension;","34","import static org.junit.jupiter.api.Assertions.*;","36","import static org.mockito.BDDMockito.any;","38","import static org.mockito.BDDMockito.never;","43","@ExtendWith(MockitoExtension.class)","56","    @BeforeEach","87","    public void testOnStartupWithServletVersion3_xEffectiveVersion3_xShutdownDisabled() throws Exception {","88","        final FilterRegistration.Dynamic registration = mock(FilterRegistration.Dynamic.class);","89","        given(servletContext.getMajorVersion()).willReturn(3);","90","        given(servletContext.getEffectiveMajorVersion()).willReturn(3);","91","        given(servletContext.getInitParameter(eq(Log4jWebSupport.IS_LOG4J_AUTO_SHUTDOWN_DISABLED)))","92","                      .willReturn(\"true\");","93","        given(servletContext.getInitParameter(eq(Log4jWebSupport.IS_LOG4J_AUTO_INITIALIZATION_DISABLED))).willReturn(","94","                null);","95","        given(servletContext.addFilter(eq(\"log4jServletFilter\"), filterCaptor.capture())).willReturn(registration);","96","        given(servletContext.getAttribute(Log4jWebSupport.SUPPORT_ATTRIBUTE)).willReturn(initializer);","97","","98","        this.containerInitializer.onStartup(null, this.servletContext);","99","","100","        then(initializer).should().start();","101","        then(initializer).should().setLoggerContext();","102","        then(registration).should().setAsyncSupported(eq(true));","103","        then(registration).should().addMappingForUrlPatterns(eq(EnumSet.allOf(DispatcherType.class)), eq(false), eq(\"\/*\"));","104","","105","        \/\/ initParam IS_LOG4J_AUTO_SHUTDOWN_DISABLED is \"true\" so addListener shouldn't be called.","106","        then(servletContext).should(never()).addListener(any(Log4jServletContextListener.class));","107","    }","108","","109","    @Test","137","        assertNotNull(listenerCaptor.getValue(), \"The listener should not be null.\");","138","        assertSame(Log4jServletContextListener.class,","139","            listenerCaptor.getValue().getClass(),","140","            \"The listener is not correct.\");","142","        assertNotNull(filterCaptor.getValue(), \"The filter should not be null.\");","143","        assertSame(Log4jServletFilter.class, filterCaptor.getValue(), \"The filter is not correct.\");","156","        assertNotNull(filterCaptor.getValue(), \"The filter should not be null.\");","157","        assertSame(Log4jServletFilter.class, filterCaptor.getValue(), \"The filter is not correct.\");","176","            assertSame(exception, e, \"The exception is not correct.\");","180","        assertNotNull(filterCaptor.getValue(), \"The filter should not be null.\");","181","        assertSame(Log4jServletFilter.class, filterCaptor.getValue(), \"The filter is not correct.\");"],"delete":["26","import org.junit.Before;","27","import org.junit.Test;","28","import org.junit.runner.RunWith;","32","import org.mockito.runners.MockitoJUnitRunner;","34","import static org.junit.Assert.*;","41","@RunWith(MockitoJUnitRunner.class)","54","    @Before","112","        assertNotNull(\"The listener should not be null.\", listenerCaptor.getValue());","113","        assertSame(\"The listener is not correct.\", Log4jServletContextListener.class,","114","            listenerCaptor.getValue().getClass());","116","        assertNotNull(\"The filter should not be null.\", filterCaptor.getValue());","117","        assertSame(\"The filter is not correct.\", Log4jServletFilter.class, filterCaptor.getValue());","130","        assertNotNull(\"The filter should not be null.\", filterCaptor.getValue());","131","        assertSame(\"The filter is not correct.\", Log4jServletFilter.class, filterCaptor.getValue());","150","            assertSame(\"The exception is not correct.\", exception, e);","154","        assertNotNull(\"The filter should not be null.\", filterCaptor.getValue());","155","        assertSame(\"The filter is not correct.\", Log4jServletFilter.class, filterCaptor.getValue());"]}],"log4j-web\/pom.xml":[{"add":["63","    \t<groupId>org.hamcrest<\/groupId>","64","    \t<artifactId>hamcrest-all<\/artifactId>","71","      <groupId>org.mockito<\/groupId>","72","      <artifactId>mockito-junit-jupiter<\/artifactId>","73","\t<\/dependency>","74","    <dependency>"],"delete":["63","      <groupId>org.junit.vintage<\/groupId>","64","      <artifactId>junit-vintage-engine<\/artifactId>"]}],"log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/Log4jServletContextListenerTest.java":[{"add":["22","import org.junit.jupiter.api.BeforeEach;","23","import org.junit.jupiter.api.Test;","24","import org.junit.jupiter.api.extension.ExtendWith;","26","import org.mockito.junit.jupiter.MockitoExtension;","28","import static org.junit.jupiter.api.Assertions.*;","29","import static org.mockito.BDDMockito.eq;","34","@ExtendWith(MockitoExtension.class)","36","\t\/* event and servletContext are marked lenient because they aren't used in the","37","\t * testDestroyWithNoInit but are only accessed during initialization","38","\t *\/","39","\t@Mock(lenient = true)","40","\tprivate ServletContextEvent event;","41","\t@Mock(lenient = true)","48","    @BeforeEach","76","            assertEquals(\"Failed to initialize Log4j properly.\", e.getMessage(), \"The message is not correct.\");","80","    @Test","81","    public void initializingLog4jServletContextListenerShouldFaileWhenAutoShutdownIsTrue() throws Exception {","82","        given(servletContext.getInitParameter(eq(Log4jWebSupport.IS_LOG4J_AUTO_SHUTDOWN_DISABLED)))","83","                .willReturn(\"true\");","84","        ensureInitializingFailsWhenAuthShutdownIsEnabled();","85","    }","86","","87","    @Test","88","    public void initializingLog4jServletContextListenerShouldFaileWhenAutoShutdownIsTRUE() throws Exception {","89","        given(servletContext.getInitParameter(eq(Log4jWebSupport.IS_LOG4J_AUTO_SHUTDOWN_DISABLED)))","90","                .willReturn(\"TRUE\");","91","        ensureInitializingFailsWhenAuthShutdownIsEnabled();","92","    }","93","    ","94","    private void ensureInitializingFailsWhenAuthShutdownIsEnabled() {","95","        try {","96","            this.listener.contextInitialized(this.event);","97","            fail(\"Expected a RuntimeException.\");","98","        } catch (final RuntimeException e) {","99","            String expectedMessage = ","100","                    \"Do not use \" + Log4jServletContextListener.class.getSimpleName() + \" when \" ","101","                    + Log4jWebSupport.IS_LOG4J_AUTO_SHUTDOWN_DISABLED + \" is true. Please use \" ","102","                    + Log4jShutdownOnContextDestroyedListener.class.getSimpleName() + \" instead of \" ","103","                    + Log4jServletContextListener.class.getSimpleName() + \".\";","104","","105","            assertEquals(expectedMessage, e.getMessage(), \"The message is not correct\");","106","        }","107","    }"],"delete":["22","import org.junit.Before;","23","import org.junit.Test;","24","import org.junit.runner.RunWith;","26","import org.mockito.runners.MockitoJUnitRunner;","28","import static org.junit.Assert.*;","33","@RunWith(MockitoJUnitRunner.class)","35","    @Mock","36","    private ServletContextEvent event;","37","    @Mock","44","    @Before","72","            assertEquals(\"The message is not correct.\", \"Failed to initialize Log4j properly.\", e.getMessage());"]}],"log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/Log4jWebInitializerImplTest.java":[{"add":["26","import org.junit.jupiter.api.BeforeEach;","27","import org.junit.jupiter.api.Test;","28","import org.junit.jupiter.api.extension.ExtendWith;","32","import org.mockito.junit.jupiter.MockitoExtension;","39","import static org.hamcrest.MatcherAssert.assertThat;","40","import static org.junit.jupiter.api.Assertions.*;","45","@ExtendWith(MockitoExtension.class)","47","\t\/* Marking servletContext lenient because otherwise testCompositeLocationParameterWithEmptyUriListSetsDefaultConfiguration fails","48","\t * when null is passed in as the initial param because Mockito deciced null isn't a String rather than the absence of a string.","49","\t *\/","50","\t@Mock(lenient = true)","51","\tprivate ServletContext servletContext;","59","    @BeforeEach","66","        assertNotNull(initializer, \"The initializer should not be null.\");","67","        assertSame(initializer, initializerCaptor.getValue(), \"The capture is not correct.\");","68","        assertTrue(initializer instanceof Log4jWebInitializerImpl, \"The initializer is not correct.\");","75","    \tassertThrows(IllegalStateException.class, () -> {","76","    \t\tthis.initializerImpl.stop();","77","    \t});","82","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null.\");","86","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should still be null.\");","91","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null.\");","95","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should still be null.\");","109","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");","112","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should still be null.\");","117","        assertNotNull(context, \"The context should not be null.\");","118","        assertSame(loggerContext, context, \"The context is not correct.\");","122","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null again.\");","128","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should again still be null.\");","132","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should finally still be null.\");","143","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null.\");","148","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");","151","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should still be null.\");","156","        assertNotNull(context, \"The context should not be null.\");","157","        assertSame(loggerContext, context, \"The context is not correct.\");","161","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null again.\");","167","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should again still be null.\");","171","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should finally still be null.\");","182","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null.\");","187","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");","205","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null.\");","210","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");","216","    \tassertThrows(IllegalStateException.class, () -> {","217","    \t\tthis.initializerImpl.start();","218","    \t});","229","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null.\");","234","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");","248","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null.\");","250","    \tassertThrows(IllegalStateException.class, () -> {","251","    \t\tthis.initializerImpl.start();","252","    \t});","261","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null.\");","266","        assertNull(loggerContextCaptor.getValue(), \"The context attribute should be null.\");","268","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should still be null.\");","272","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should still be null because no named selector.\");","276","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null again.\");","280","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should again still be null.\");","284","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should finally still be null.\");","294","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null.\");","299","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");","302","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should still be null.\");","306","            assertNotNull(context, \"The context should not be null.\");","307","            assertSame(loggerContext, context, \"The context is not correct.\");","312","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should be null again.\");","318","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should again still be null.\");","322","        assertNull(ContextAnchor.THREAD_CONTEXT.get(), \"The context should finally still be null.\");","332","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");","347","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");","365","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");","380","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");","396","        assertNotNull(loggerContextCaptor.getValue(), \"The context attribute should not be null.\");"],"delete":["26","import org.junit.Before;","27","import org.junit.Rule;","28","import org.junit.Test;","29","import org.junit.rules.ExpectedException;","30","import org.junit.runner.RunWith;","34","import org.mockito.junit.MockitoJUnitRunner;","41","import static org.junit.Assert.assertNotNull;","42","import static org.junit.Assert.assertNull;","43","import static org.junit.Assert.assertSame;","44","import static org.junit.Assert.assertThat;","45","import static org.junit.Assert.assertTrue;","50","@RunWith(MockitoJUnitRunner.class)","52","    @Mock","53","    private ServletContext servletContext;","58","    @Rule","59","    public ExpectedException expectedException = ExpectedException.none();","63","    @Before","70","        assertNotNull(\"The initializer should not be null.\", initializer);","71","        assertSame(\"The capture is not correct.\", initializer, initializerCaptor.getValue());","72","        assertTrue(\"The initializer is not correct.\", initializer instanceof Log4jWebInitializerImpl);","79","        expectedException.expect(IllegalStateException.class);","80","        this.initializerImpl.stop();","85","        assertNull(\"The context should be null.\", ContextAnchor.THREAD_CONTEXT.get());","89","        assertNull(\"The context should still be null.\", ContextAnchor.THREAD_CONTEXT.get());","94","        assertNull(\"The context should be null.\", ContextAnchor.THREAD_CONTEXT.get());","98","        assertNull(\"The context should still be null.\", ContextAnchor.THREAD_CONTEXT.get());","112","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());","115","        assertNull(\"The context should still be null.\", ContextAnchor.THREAD_CONTEXT.get());","120","        assertNotNull(\"The context should not be null.\", context);","121","        assertSame(\"The context is not correct.\", loggerContext, context);","125","        assertNull(\"The context should be null again.\", ContextAnchor.THREAD_CONTEXT.get());","131","        assertNull(\"The context should again still be null.\", ContextAnchor.THREAD_CONTEXT.get());","135","        assertNull(\"The context should finally still be null.\", ContextAnchor.THREAD_CONTEXT.get());","146","        assertNull(\"The context should be null.\", ContextAnchor.THREAD_CONTEXT.get());","151","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());","154","        assertNull(\"The context should still be null.\", ContextAnchor.THREAD_CONTEXT.get());","159","        assertNotNull(\"The context should not be null.\", context);","160","        assertSame(\"The context is not correct.\", loggerContext, context);","164","        assertNull(\"The context should be null again.\", ContextAnchor.THREAD_CONTEXT.get());","170","        assertNull(\"The context should again still be null.\", ContextAnchor.THREAD_CONTEXT.get());","174","        assertNull(\"The context should finally still be null.\", ContextAnchor.THREAD_CONTEXT.get());","185","        assertNull(\"The context should be null.\", ContextAnchor.THREAD_CONTEXT.get());","190","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());","208","        assertNull(\"The context should be null.\", ContextAnchor.THREAD_CONTEXT.get());","213","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());","219","        expectedException.expect(IllegalStateException.class);","220","        this.initializerImpl.start();","231","        assertNull(\"The context should be null.\", ContextAnchor.THREAD_CONTEXT.get());","236","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());","250","        assertNull(\"The context should be null.\", ContextAnchor.THREAD_CONTEXT.get());","252","        expectedException.expect(IllegalStateException.class);","253","        this.initializerImpl.start();","262","        assertNull(\"The context should be null.\", ContextAnchor.THREAD_CONTEXT.get());","267","        assertNull(\"The context attribute should be null.\", loggerContextCaptor.getValue());","269","        assertNull(\"The context should still be null.\", ContextAnchor.THREAD_CONTEXT.get());","273","        assertNull(\"The context should still be null because no named selector.\", ContextAnchor.THREAD_CONTEXT.get());","277","        assertNull(\"The context should be null again.\", ContextAnchor.THREAD_CONTEXT.get());","281","        assertNull(\"The context should again still be null.\", ContextAnchor.THREAD_CONTEXT.get());","285","        assertNull(\"The context should finally still be null.\", ContextAnchor.THREAD_CONTEXT.get());","295","        assertNull(\"The context should be null.\", ContextAnchor.THREAD_CONTEXT.get());","300","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());","303","        assertNull(\"The context should still be null.\", ContextAnchor.THREAD_CONTEXT.get());","307","            assertNotNull(\"The context should not be null.\", context);","308","            assertSame(\"The context is not correct.\", loggerContext, context);","313","        assertNull(\"The context should be null again.\", ContextAnchor.THREAD_CONTEXT.get());","319","        assertNull(\"The context should again still be null.\", ContextAnchor.THREAD_CONTEXT.get());","323","        assertNull(\"The context should finally still be null.\", ContextAnchor.THREAD_CONTEXT.get());","333","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());","348","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());","366","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());","381","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());","397","        assertNotNull(\"The context attribute should not be null.\", loggerContextCaptor.getValue());"]}],"log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/PropertyTest.java":[{"add":["21","import org.junit.jupiter.api.Test;","23","import static org.junit.jupiter.api.Assertions.*;","33","                ((Log4jContextFactory) LogManager.getFactory()).isShutdownHookEnabled(),","34","                \"Shutdown hook should be disabled by default in web applications\");","39","        assertTrue(Constants.IS_WEB_APP, \"When servlet classes are available IS_WEB_APP should default to true\");"],"delete":["21","import org.junit.Test;","23","import static org.junit.Assert.*;","33","                \"Shutdown hook should be disabled by default in web applications\",","34","                ((Log4jContextFactory) LogManager.getFactory()).isShutdownHookEnabled());","39","        assertTrue(\"When servlet classes are available IS_WEB_APP should default to true\", Constants.IS_WEB_APP);"]}],"log4j-web\/src\/main\/java\/org\/apache\/logging\/log4j\/web\/Log4jShutdownOnContextDestroyedListener.java":[{"add":[],"delete":[]}],"log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/Log4jServletFilterTest.java":[{"add":["24","import org.junit.jupiter.api.Test;","25","import org.junit.jupiter.api.extension.ExtendWith;","26","import org.junit.jupiter.api.BeforeEach;","28","import org.mockito.junit.jupiter.MockitoExtension;","30","import static org.junit.jupiter.api.Assertions.*;","37","@ExtendWith(MockitoExtension.class)","39","    @Mock(lenient = true) \/\/ because filterConfig is not used in testDestroy","41","    @Mock(lenient = true) \/\/ because filterConfig is not used in testDestroy","54","    @BeforeEach","72","    @Test","74","    \tassertThrows(IllegalStateException.class, () -> {","75","    \t\tthis.filter.destroy();","76","    \t});"],"delete":["24","import org.junit.Before;","25","import org.junit.Test;","26","import org.junit.runner.RunWith;","28","import org.mockito.runners.MockitoJUnitRunner;","36","@RunWith(MockitoJUnitRunner.class)","38","    @Mock","40","    @Mock","53","    @Before","71","    @Test(expected = IllegalStateException.class)","73","        this.filter.destroy();"]}],"log4j-web\/src\/main\/java\/org\/apache\/logging\/log4j\/web\/Log4jServletContainerInitializer.java":[{"add":["59","            if (!\"true\".equalsIgnoreCase(servletContext.getInitParameter(","60","                    Log4jWebSupport.IS_LOG4J_AUTO_SHUTDOWN_DISABLED))) {","61","                servletContext.addListener(new Log4jServletContextListener());","62","            }"],"delete":["59","            servletContext.addListener(new Log4jServletContextListener());"]}],"src\/changes\/changes.xml":[{"add":["33","      <action issue=\"LOG4J2-2624\" dev=\"mattsicker\" type=\"fix\" due-to=\"Tim Perry\">","34","        Allow auto-shutdown of log4j in log4j-web to be turned off and provide a ","35","        ServletContextListener \"Log4jShutdownOnContextDestroyedListener\" to stop log4j.","36","        Register the listener at the top of web.xml to ensure the shutdown happens last.","37","      <\/action>","38","      <action issue=\"LOG4J2-1606\" dev=\"mattsicker\" type=\"fix\" due-to=\"Tim Perry\">","39","        Allow auto-shutdown of log4j in log4j-web to be turned off and provide a ","40","        ServletContextListener \"Log4jShutdownOnContextDestroyedListener\" to stop log4j. ","41","        Register the listener at the top of web.xml to ensure the shutdown happens last.","42","      <\/action>","43","      <action issue=\"LOG4J2-2999\" dev=\"vy\" type=\"add\">","44","        Replace JsonTemplateLayout resolver configurations table in docs with sections.","45","      <\/action>","46","      <action issue=\"LOG4J2-2993\" dev=\"vy\" type=\"add\">","47","        Support stack trace truncation in JsonTemplateLayout.","48","      <\/action>","82","      <action issue=\"LOG4J2-3014\" dev=\"ggregory\" type=\"fix\" due-to=\"Lee Breisacher, Gary Gregory\">","191","      <\/action>  ","192","      <action dev=\"ggregory\" type=\"update\">","193","        Update org.apache.activemq:* 5.16.0 -> 5.16.1.","194","      <\/action>","195","      <action dev=\"ggregory\" type=\"update\">","196","        Update org.mockito:mockito-* 3.7.0 -> 3.7.7.","197","      <\/action>","198","      <action dev=\"ggregory\" type=\"update\">","199","        Update org.springframework:* 5.3.2 -> 5.3.3.","200","      <\/action>","201","      <action dev=\"ggregory\" type=\"update\">","202","        Update mongodb4.version 4.1.1 -> 4.2.0.","203","      <\/action>","204","      <action dev=\"ggregory\" type=\"update\">","205","        Update org.fusesource.jansi:jansi 1.18 -> 2.2.0.","206","      <\/action>","207","      <action dev=\"ggregory\" type=\"update\">","208","        Update org.assertj:assertj-core 3.18.1 -> 3.19.0.","209","      <\/action>","210","      <action dev=\"ggregory\" type=\"update\">","211","        Update net.javacrumbs.json-unit:json-unit 2.22.0 -> 2.23.0."],"delete":["66","      <action issue=\"LOG4J2-2976\" dev=\"ggregory\" type=\"fix\" due-to=\"Lee Breisacher, Gary Gregory\">"]}],"log4j-web\/src\/test\/java\/org\/apache\/logging\/log4j\/web\/ServletAppenderTest.java":[{"add":["26","import org.junit.jupiter.api.Test;","29","import static org.junit.jupiter.api.Assertions.*;","52","            assertNotNull(ctx, \"No LoggerContext\");","53","            assertNotNull(WebLoggerContextUtils.getServletContext(), \"No ServletContext\");","55","            assertNotNull(configuration, \"No configuration\");","57","            assertNotNull(appender, \"No ServletAppender\");"],"delete":["26","import org.junit.Test;","29","import static org.junit.Assert.*;","52","            assertNotNull(\"No LoggerContext\", ctx);","53","            assertNotNull(\"No ServletContext\", WebLoggerContextUtils.getServletContext());","55","            assertNotNull(\"No configuration\", configuration);","57","            assertNotNull(\"No ServletAppender\", appender);"]}]}},"812405b7415ce7148bd72cdd99dc1d9a83739f95":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/EventRoute.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncQueueFullPolicyFactory.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncQueueFullPolicyFactoryTest.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/EventRoute.java":[{"add":["55","     * WARNING: This may result in lines logged out of order as synchronous events may be persisted before","56","     * earlier events, even from the same thread, which wait in the queue."],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncQueueFullPolicyFactory.java":[{"add":["68","        if (router == null || isRouterSelected(","69","                router, DefaultAsyncQueueFullPolicy.class, PROPERTY_VALUE_DEFAULT_ASYNC_EVENT_ROUTER)) {","72","        if (isRouterSelected(","73","                router, DiscardingAsyncQueueFullPolicy.class, PROPERTY_VALUE_DISCARDING_ASYNC_EVENT_ROUTER)) {","79","    private static boolean isRouterSelected(","80","            String propertyValue,","81","            Class<? extends AsyncQueueFullPolicy> policy,","82","            String shortPropertyValue) {","83","        return propertyValue != null && (shortPropertyValue.equalsIgnoreCase(propertyValue)","84","                || policy.getName().equals(propertyValue)","85","                || policy.getSimpleName().equals(propertyValue));","86","    }","87",""],"delete":["68","        if (router == null || PROPERTY_VALUE_DEFAULT_ASYNC_EVENT_ROUTER.equals(router)","69","                || DefaultAsyncQueueFullPolicy.class.getSimpleName().equals(router)","70","                || DefaultAsyncQueueFullPolicy.class.getName().equals(router)) {","73","        if (PROPERTY_VALUE_DISCARDING_ASYNC_EVENT_ROUTER.equals(router)","74","                || DiscardingAsyncQueueFullPolicy.class.getSimpleName().equals(router)","75","                || DiscardingAsyncQueueFullPolicy.class.getName().equals(router)) {"]}],"src\/changes\/changes.xml":[{"add":["78","      <action issue=\"LOG4J2-2611\" dev=\"ckozak\" type=\"add\">\r","79","        AsyncQueueFullPolicy configuration short values \"Default\" and \"Discard\" are case insensitive to avoid confusion.\r","80","      <\/action>\r"],"delete":[]}],"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncQueueFullPolicyFactoryTest.java":[{"add":["21","import org.junit.After;","26","import java.util.Locale;","27","","37","    @After","38","    public void resetProperties() throws Exception {","74","    public void testCreateDiscardingRouterCaseInsensitive() {","75","        System.setProperty(AsyncQueueFullPolicyFactory.PROPERTY_NAME_ASYNC_EVENT_ROUTER,","76","                AsyncQueueFullPolicyFactory.PROPERTY_VALUE_DISCARDING_ASYNC_EVENT_ROUTER.toLowerCase(Locale.ENGLISH));","77","        assertEquals(Level.INFO, ((DiscardingAsyncQueueFullPolicy) AsyncQueueFullPolicyFactory.create()).","78","                getThresholdLevel());","79","    }","80","","81","    @Test"],"delete":["34","    public void setUp() throws Exception {"]}]}},"7163c2cc975e6f73b534f1e8c0ad7af25df99550":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2636\" dev=\"rgoers\" type=\"fix\">\r","33","        RFC5424Layout was not properly setting default Structured Element id for the MDC\r","34","      <\/action>\r"],"delete":[]}]}},"56816509933d1155759a08bd1d2ade31e22613e9":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingAppenderSizeWithTimeTest.java":"ADD","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/PatternProcessor.java":"MODIFY","src\/site\/xdoc\/manual\/appenders.xml":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/TimeBasedTriggeringPolicy.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/CronTriggeringPolicy.java":"MODIFY","log4j-core\/src\/test\/resources\/log4j-rolling-size-with-time.xml":"ADD"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingAppenderSizeWithTimeTest.java":[{"add":[],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/PatternProcessor.java":[{"add":["59","    private boolean isTimeBased = false;","60","","110","    public void setTimeBased(boolean isTimeBased) {","111","        this.isTimeBased = isTimeBased;","112","    }","113","","221","    \tif (nextFileTime != 0 || !isTimeBased) {"],"delete":["215","    \tif (nextFileTime != 0) {"]}],"src\/site\/xdoc\/manual\/appenders.xml":[{"add":["3245","                When combined with a time based triggering policy the file pattern must contain a <code>%i<\/code>","3246","                otherwise the target file will be overwritten on every rollover as the SizeBased Triggering Policy","3247","                will not cause the timestamp value in the file name to change. When used without a time based","3248","                triggering policy the SizeBased Triggering Policy will cause the timestamp value to change."],"delete":["3245","                The file pattern must contain a <code>%i<\/code> otherwise the target file will be overwritten on","3246","                every rollover as the SizeBased Triggering Policy does not cause the timestamp value","3247","                in the file name to change."]}],"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2602\" dev=\"rgoers\" type=\"fix\">\r","33","        Update file time when size based triggering policy is used without a time-based triggering policy.\r","34","      <\/action>\r"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/TimeBasedTriggeringPolicy.java":[{"add":["117","        aManager.getPatternProcessor().setTimeBased(true);"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/CronTriggeringPolicy.java":[{"add":["72","        aManager.getPatternProcessor().setTimeBased(true);"],"delete":[]}],"log4j-core\/src\/test\/resources\/log4j-rolling-size-with-time.xml":[{"add":[],"delete":[]}]}},"8bd80f34668af8120757b4f8eda6abc24de26a2d":{"changes":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/ParameterizedMessage.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-api\/src\/test\/java\/org\/apache\/logging\/log4j\/message\/ParameterizedMessageTest.java":"MODIFY"},"diff":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/ParameterizedMessage.java":[{"add":["31","","34","","48","","53","","58","","144","        final int len = Math.max(1, messagePattern == null ? 0 : messagePattern.length() >> 1); \/\/ divide by 2","145","        this.indices = new int[len]; \/\/ LOG4J2-1542 ensure non-zero array length"],"delete":["31","    ","34","    ","48","    ","53","    ","58","    ","144","        this.indices = new int[messagePattern == null ? 0 : messagePattern.length() >> 1]; \/\/ divide by 2"]}],"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1542\" dev=\"rpopma\" type=\"fix\" due-to=\"Rog¨¦rio Lecari?o Leite\">","27","        Prevent ArrayIndexOutOfBoundsException in ParameterizedMessage.formatTo for single-char or empty messages.","28","      <\/action>"],"delete":[]}],"log4j-api\/src\/test\/java\/org\/apache\/logging\/log4j\/message\/ParameterizedMessageTest.java":[{"add":["41","    public void testZeroLength() {","42","        final String testMsg = \"\";","43","        ParameterizedMessage msg = new ParameterizedMessage(testMsg, new String[]{\"arg\"});","44","        String result = msg.getFormattedMessage();","45","        assertEquals(testMsg, result);","46","        final Object[] array = null;","47","        msg = new ParameterizedMessage(testMsg, array, null);","48","        result = msg.getFormattedMessage();","49","        assertEquals(testMsg, result);","50","    }","51","","52","    @Test","53","    public void testOneCharLength() {","54","        final String testMsg = \"d\";","55","        ParameterizedMessage msg = new ParameterizedMessage(testMsg, new String[]{\"arg\"});","56","        String result = msg.getFormattedMessage();","57","        assertEquals(testMsg, result);","58","        final Object[] array = null;","59","        msg = new ParameterizedMessage(testMsg, array, null);","60","        result = msg.getFormattedMessage();","61","        assertEquals(testMsg, result);","62","    }","63","","64","    @Test"],"delete":[]}]}},"c24b2b1c7032c26129b3f2df991e11a6b220f847":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/impl\/ThrowableProxy.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/impl\/ThrowableProxy.java":[{"add":["567","        } catch (final ClassNotFoundException | NoClassDefFoundError e) {","569","        } catch (final SecurityException e) {","578","        } catch (final ClassNotFoundException | NoClassDefFoundError | SecurityException e) {"],"delete":["567","        } catch (final ClassNotFoundException ignored) {","569","        } catch (final NoClassDefFoundError ignored) {","570","            return initializeClass(className);","571","        } catch (final SecurityException ignored) {","580","        } catch (final ClassNotFoundException ignore) {","581","            return null;","582","        } catch (final NoClassDefFoundError ignore) {","583","            return null;","584","        } catch (final SecurityException ignore) {"]}]}},"63a08d02bd8e9db8cffec2c12eab283f6ef3cf2f":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2635\" dev=\"rgoers\" type=\"fix\" due-to=\"Filipp Gunbin\">","33","        Wrong java version check in ThreadNameCachingStrategy.","34","      <\/action>"],"delete":[]}]}},"baea9914fa5aa32706e62bb52109df5837a9bcbd":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/lookup\/Interpolator.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/util\/ReflectionUtil.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/LoggerContext.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/lookup\/Interpolator.java":[{"add":["102","        } catch (final LinkageError | Exception e) {","103","            handleError(LOOKUP_KEY_JNDI, e);","111","        } catch (final LinkageError | Exception e) {","112","            handleError(LOOKUP_KEY_JVMRUNARGS, e);"],"delete":["102","        } catch (final Throwable t) {","103","            handleError(LOOKUP_KEY_JNDI, t);","111","        } catch (final Throwable t) {","112","            handleError(LOOKUP_KEY_JVMRUNARGS, t);"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/util\/ReflectionUtil.java":[{"add":["188","        } catch (final LinkageError | InstantiationException e) {"],"delete":["188","        } catch (final NoClassDefFoundError | InstantiationException e) {"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/LoggerContext.java":[{"add":["317","            } catch (final LinkageError | Exception e) {","318","                \/\/ LOG4J2-1506 Hello Android, GAE","319","                LOGGER.error(\"Unable to unregister MBeans\", e);","541","            } catch (final LinkageError | Exception e) {","543","                LOGGER.error(\"Could not reconfigure JMX\", e);"],"delete":["317","            } catch (final Throwable t) {","318","                LOGGER.error(\"Unable to unregister MBeans\", t);","540","            } catch (final Throwable t) {","542","                LOGGER.error(\"Could not reconfigure JMX\", t);"]}]}},"0e6ad616ddcb90893b1cce3e1926ea47f9c7215e":{"changes":{"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/BaseConfiguration.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/BaseConfiguration.java":[{"add":["238","        \/\/don't cache a pluginmanager instance - packages may be updated, requiring","309","","317","","334","        appenders.putIfAbsent(appender.getName(), appender);"],"delete":["238","        \/\/don't cache a pluginmanager instance - packages may be updated, requiring ","309","    ","317","    ","334","        appenders.putIfAbsent(name, appender);"]}],"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-190\" dev=\"rgoers\" type=\"fix\" due-to=\"Werner\">","26","        BaseConfiguration addLoggerAppender saved appender using the Logger name.","27","      <\/action>"],"delete":[]}]}},"f01862e85de9af65f9665fb0d258200819e746c9":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["31","    <release version=\"2.13.1\" date=\"2019-MM-DD\" description=\"GA Release 2.13.1\">","32","      <action issue=\"LOG4J2-2415\" dev=\"ckozak\" type=\"fix\" due-to=\"Andrey Turbanov\">","33","        Fix lock contention in the classloader using new versions of slf4j without EventData on slf4j logger creation.","34","      <\/action>","35","    <\/release>"],"delete":[]}]}},"b842432cd8ef81d62d047afdbc0212763432be30":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/async\/RingBufferLogEventTest.java":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/async\/RingBufferLogEventTest.java":[{"add":["172","","173","    @Test","174","    public void testMessageTextNeverThrowsNpe() {","175","        final RingBufferLogEvent evt = new RingBufferLogEvent();","176","        try {","177","            evt.getFormattedMessage();","178","        } catch (NullPointerException e) {","179","            fail(\"the messageText field was not set\");","180","        }","181","    }"],"delete":[]}]}},"7fd9297f37a315bba4244491e49d0b8a0aad544c":{"changes":{"core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/ConsoleAppenderAnsiStyleJira180Main.java":"ADD","core\/src\/test\/resources\/log4j2-180.xml":"ADD"},"diff":{"core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/ConsoleAppenderAnsiStyleJira180Main.java":[{"add":[],"delete":[]}],"core\/src\/test\/resources\/log4j2-180.xml":[{"add":[],"delete":[]}]}},"da8b478046e4b0f08c622823d6881029bf9c7724":{"changes":{"jcl-bridge\/src\/site\/site.xml":"MODIFY","src\/site\/site.vm":"MODIFY","flume-ng\/src\/site\/site.xml":"MODIFY","taglib\/src\/site\/site.xml":"MODIFY","log4j-to-slf4j\/src\/site\/site.xml":"MODIFY","api\/src\/site\/site.xml":"MODIFY","log4j12-api\/src\/site\/site.xml":"MODIFY","slf4j-impl\/src\/site\/site.xml":"MODIFY","core\/src\/site\/site.xml":"MODIFY","web\/src\/site\/site.xml":"MODIFY"},"diff":{"jcl-bridge\/src\/site\/site.xml":[{"add":["24","","25","    <!-- Component-specific reports -->","27","","28","\t<!-- Overall Project Info -->","29","    <menu name=\"Log4J Project Information\" img=\"icon-info-sign\">","30","      <item name=\"Dependencies\" href=\"..\/dependencies.html\" \/>","31","      <item name=\"Dependency Convergence\" href=\"..\/dependency-convergence.html\" \/>","32","      <item name=\"Dependency Management\" href=\"..\/dependency-management.html\" \/>","33","      <item name=\"Project Team\" href=\"..\/team-list.html\" \/>","34","      <item name=\"Mailing Lists\" href=\"..\/mail-lists.html\" \/>","35","      <item name=\"Issue Tracking\" href=\"..\/issue-tracking.html\" \/>","36","      <item name=\"Project License\" href=\"..\/license.html\" \/>","37","      <item name=\"Source Repository\" href=\"..\/source-repository.html\" \/>","38","      <item name=\"Project Summary\" href=\"..\/project-summary.html\" \/>","39","    <\/menu>","40","","41","    <menu name=\"Log4J Project Reports\" img=\"icon-cog\">","42","      <item name=\"Changes Report\" href=\"..\/changes-report.html\" \/>","43","      <item name=\"JIRA Report\" href=\"..\/jira-report.html\" \/>","44","      <item name=\"Surefire Report\" href=\"..\/surefire-report.html\" \/>","45","      <item name=\"RAT Report\" href=\"..\/rat-report.html\" \/>","46","    <\/menu>"],"delete":[]}],"src\/site\/site.vm":[{"add":["158","#macro ( menuItem $item $isComponentDocumentation )","186","\t#if (${project.artifactId} != \"log4j\" && $isComponentDocumentation && ","187","\t\t\t\t($item.href == \"team-list.html\" || $item.href == \"mail-lists.html\" ","188","\t\t\t\t|| $item.href == \"issue-tracking.html\" || $item.href == \"license.html\" ","189","\t\t\t\t|| $item.href == \"source-repository.html\"))","190","\t<!-- Removing overall project item $item.name from component-specific menu -->","191","\t#else","192","\t\t#set ($thisItemName = $item.name)","193","\t\t#if (${project.artifactId} != \"log4j\" && $isComponentDocumentation )","194","\t\t#set ($thisItemName = $item.name.replace(\"Project Information\", \"Component Project\"))","195","\t\t#set ($thisItemName = $item.name.replace(\"Project\", \"Component\"))","197","\t\t<li class=\"$collapse$active\">","198","\t\t#link($currentItemHref $thisItemName $item.target $item.img $item.position $item.alt $item.border $item.width $item.height )","199","\t\t#if ( $item && $item.items && $item.items.size() > 0 )","200","\t\t\t#if ( $collapse == \"expanded\" )","201","\t\t\t\t<ul>","202","\t\t\t\t\t#foreach( $subitem in $item.items )","203","\t\t\t\t\t\t#menuItem( $subitem $isComponentDocumentation )","204","\t\t\t\t\t#end","205","\t\t\t\t<\/ul>","206","\t\t\t#end","207","\t\t#end","208","\t\t<\/li>","209"," \t#end","215","\t\t#set ($isComponentDocumentation = false)","216"," \t\t#if ( $menu.name )","217","\t\t\t#set ( $menuName = $menu.name )","218","\t\t\t#if ( $menuName == \"Project Documentation\" )","219","\t\t\t#set ( $menuName = \"Component Documentation\" )","220","\t\t\t#set ($isComponentDocumentation = true)","221","\t\t\t#end","223","\t\t\t <li class=\"nav-header\"><i class=\"$menu.img\"><\/i>$menuName<\/li>","225","\t\t\t <li class=\"nav-header\">$menuName<\/li>","230","\t\t\t\t#menuItem( $item $isComponentDocumentation )"],"delete":["158","#macro ( menuItem $item )","186","\t<li class=\"$collapse$active\">","187","\t#link($currentItemHref $item.name $item.target $item.img $item.position $item.alt $item.border $item.width $item.height )","188","\t#if ( $item && $item.items && $item.items.size() > 0 )","189","\t\t#if ( $collapse == \"expanded\" )","190","\t\t\t<ul>","191","\t\t\t\t#foreach( $subitem in $item.items )","192","\t\t\t\t\t#menuItem( $subitem )","193","\t\t\t\t#end","194","\t\t\t<\/ul>","196","\t#end","197","\t<\/li>","203","\t\t#if ( $menu.name )","205","\t\t\t <li class=\"nav-header\"><i class=\"$menu.img\"><\/i>$menu.name<\/li>","207","\t\t\t <li class=\"nav-header\">$menu.name<\/li>","212","\t\t\t\t#menuItem( $item )"]}],"flume-ng\/src\/site\/site.xml":[{"add":["24","","25","    <!-- Component-specific reports -->","27","","28","\t<!-- Overall Project Info -->","29","    <menu name=\"Log4J Project Information\" img=\"icon-info-sign\">","30","      <item name=\"Dependencies\" href=\"..\/dependencies.html\" \/>","31","      <item name=\"Dependency Convergence\" href=\"..\/dependency-convergence.html\" \/>","32","      <item name=\"Dependency Management\" href=\"..\/dependency-management.html\" \/>","33","      <item name=\"Project Team\" href=\"..\/team-list.html\" \/>","34","      <item name=\"Mailing Lists\" href=\"..\/mail-lists.html\" \/>","35","      <item name=\"Issue Tracking\" href=\"..\/issue-tracking.html\" \/>","36","      <item name=\"Project License\" href=\"..\/license.html\" \/>","37","      <item name=\"Source Repository\" href=\"..\/source-repository.html\" \/>","38","      <item name=\"Project Summary\" href=\"..\/project-summary.html\" \/>","39","    <\/menu>","40","","41","    <menu name=\"Log4J Project Reports\" img=\"icon-cog\">","42","      <item name=\"Changes Report\" href=\"..\/changes-report.html\" \/>","43","      <item name=\"JIRA Report\" href=\"..\/jira-report.html\" \/>","44","      <item name=\"Surefire Report\" href=\"..\/surefire-report.html\" \/>","45","      <item name=\"RAT Report\" href=\"..\/rat-report.html\" \/>","46","    <\/menu>"],"delete":[]}],"taglib\/src\/site\/site.xml":[{"add":["33","","34","    <!-- Component-specific reports -->","36","","37","\t<!-- Overall Project Info -->","38","    <menu name=\"Log4J Project Information\" img=\"icon-info-sign\">","39","      <item name=\"Dependencies\" href=\"..\/dependencies.html\" \/>","40","      <item name=\"Dependency Convergence\" href=\"..\/dependency-convergence.html\" \/>","41","      <item name=\"Dependency Management\" href=\"..\/dependency-management.html\" \/>","42","      <item name=\"Project Team\" href=\"..\/team-list.html\" \/>","43","      <item name=\"Mailing Lists\" href=\"..\/mail-lists.html\" \/>","44","      <item name=\"Issue Tracking\" href=\"..\/issue-tracking.html\" \/>","45","      <item name=\"Project License\" href=\"..\/license.html\" \/>","46","      <item name=\"Source Repository\" href=\"..\/source-repository.html\" \/>","47","      <item name=\"Project Summary\" href=\"..\/project-summary.html\" \/>","48","    <\/menu>","49","","50","    <menu name=\"Log4J Project Reports\" img=\"icon-cog\">","51","      <item name=\"Changes Report\" href=\"..\/changes-report.html\" \/>","52","      <item name=\"JIRA Report\" href=\"..\/jira-report.html\" \/>","53","      <item name=\"Surefire Report\" href=\"..\/surefire-report.html\" \/>","54","      <item name=\"RAT Report\" href=\"..\/rat-report.html\" \/>","55","    <\/menu>"],"delete":[]}],"log4j-to-slf4j\/src\/site\/site.xml":[{"add":["24","","25","    <!-- Component-specific reports -->","27","","28","\t<!-- Overall Project Info -->","29","    <menu name=\"Log4J Project Information\" img=\"icon-info-sign\">","30","      <item name=\"Dependencies\" href=\"..\/dependencies.html\" \/>","31","      <item name=\"Dependency Convergence\" href=\"..\/dependency-convergence.html\" \/>","32","      <item name=\"Dependency Management\" href=\"..\/dependency-management.html\" \/>","33","      <item name=\"Project Team\" href=\"..\/team-list.html\" \/>","34","      <item name=\"Mailing Lists\" href=\"..\/mail-lists.html\" \/>","35","      <item name=\"Issue Tracking\" href=\"..\/issue-tracking.html\" \/>","36","      <item name=\"Project License\" href=\"..\/license.html\" \/>","37","      <item name=\"Source Repository\" href=\"..\/source-repository.html\" \/>","38","      <item name=\"Project Summary\" href=\"..\/project-summary.html\" \/>","39","    <\/menu>","40","","41","    <menu name=\"Log4J Project Reports\" img=\"icon-cog\">","42","      <item name=\"Changes Report\" href=\"..\/changes-report.html\" \/>","43","      <item name=\"JIRA Report\" href=\"..\/jira-report.html\" \/>","44","      <item name=\"Surefire Report\" href=\"..\/surefire-report.html\" \/>","45","      <item name=\"RAT Report\" href=\"..\/rat-report.html\" \/>","46","    <\/menu>"],"delete":[]}],"api\/src\/site\/site.xml":[{"add":["24","","25","    <!-- Component-specific reports -->","27","","28","\t<!-- Overall Project Info -->","29","    <menu name=\"Log4J Project Information\" img=\"icon-info-sign\">","30","      <item name=\"Dependencies\" href=\"..\/dependencies.html\" \/>","31","      <item name=\"Dependency Convergence\" href=\"..\/dependency-convergence.html\" \/>","32","      <item name=\"Dependency Management\" href=\"..\/dependency-management.html\" \/>","33","      <item name=\"Project Team\" href=\"..\/team-list.html\" \/>","34","      <item name=\"Mailing Lists\" href=\"..\/mail-lists.html\" \/>","35","      <item name=\"Issue Tracking\" href=\"..\/issue-tracking.html\" \/>","36","      <item name=\"Project License\" href=\"..\/license.html\" \/>","37","      <item name=\"Source Repository\" href=\"..\/source-repository.html\" \/>","38","      <item name=\"Project Summary\" href=\"..\/project-summary.html\" \/>","39","    <\/menu>","40","","41","    <menu name=\"Log4J Project Reports\" img=\"icon-cog\">","42","      <item name=\"Changes Report\" href=\"..\/changes-report.html\" \/>","43","      <item name=\"JIRA Report\" href=\"..\/jira-report.html\" \/>","44","      <item name=\"Surefire Report\" href=\"..\/surefire-report.html\" \/>","45","      <item name=\"RAT Report\" href=\"..\/rat-report.html\" \/>","46","    <\/menu>"],"delete":[]}],"log4j12-api\/src\/site\/site.xml":[{"add":["24","","25","    <!-- Component-specific reports -->","27","","28","\t<!-- Overall Project Info -->","29","    <menu name=\"Log4J Project Information\" img=\"icon-info-sign\">","30","      <item name=\"Dependencies\" href=\"..\/dependencies.html\" \/>","31","      <item name=\"Dependency Convergence\" href=\"..\/dependency-convergence.html\" \/>","32","      <item name=\"Dependency Management\" href=\"..\/dependency-management.html\" \/>","33","      <item name=\"Project Team\" href=\"..\/team-list.html\" \/>","34","      <item name=\"Mailing Lists\" href=\"..\/mail-lists.html\" \/>","35","      <item name=\"Issue Tracking\" href=\"..\/issue-tracking.html\" \/>","36","      <item name=\"Project License\" href=\"..\/license.html\" \/>","37","      <item name=\"Source Repository\" href=\"..\/source-repository.html\" \/>","38","      <item name=\"Project Summary\" href=\"..\/project-summary.html\" \/>","39","    <\/menu>","40","","41","    <menu name=\"Log4J Project Reports\" img=\"icon-cog\">","42","      <item name=\"Changes Report\" href=\"..\/changes-report.html\" \/>","43","      <item name=\"JIRA Report\" href=\"..\/jira-report.html\" \/>","44","      <item name=\"Surefire Report\" href=\"..\/surefire-report.html\" \/>","45","      <item name=\"RAT Report\" href=\"..\/rat-report.html\" \/>","46","    <\/menu>"],"delete":[]}],"slf4j-impl\/src\/site\/site.xml":[{"add":["24","","25","    <!-- Component-specific reports -->","27","","28","\t<!-- Overall Project Info -->","29","    <menu name=\"Log4J Project Information\" img=\"icon-info-sign\">","30","      <item name=\"Dependencies\" href=\"..\/dependencies.html\" \/>","31","      <item name=\"Dependency Convergence\" href=\"..\/dependency-convergence.html\" \/>","32","      <item name=\"Dependency Management\" href=\"..\/dependency-management.html\" \/>","33","      <item name=\"Project Team\" href=\"..\/team-list.html\" \/>","34","      <item name=\"Mailing Lists\" href=\"..\/mail-lists.html\" \/>","35","      <item name=\"Issue Tracking\" href=\"..\/issue-tracking.html\" \/>","36","      <item name=\"Project License\" href=\"..\/license.html\" \/>","37","      <item name=\"Source Repository\" href=\"..\/source-repository.html\" \/>","38","      <item name=\"Project Summary\" href=\"..\/project-summary.html\" \/>","39","    <\/menu>","40","","41","    <menu name=\"Log4J Project Reports\" img=\"icon-cog\">","42","      <item name=\"Changes Report\" href=\"..\/changes-report.html\" \/>","43","      <item name=\"JIRA Report\" href=\"..\/jira-report.html\" \/>","44","      <item name=\"Surefire Report\" href=\"..\/surefire-report.html\" \/>","45","      <item name=\"RAT Report\" href=\"..\/rat-report.html\" \/>","46","    <\/menu>"],"delete":[]}],"core\/src\/site\/site.xml":[{"add":["24","","25","    <!-- Component-specific reports -->","27","","28","\t<!-- Overall Project Info -->","29","    <menu name=\"Log4J Project Information\" img=\"icon-info-sign\">","30","      <item name=\"Dependencies\" href=\"..\/dependencies.html\" \/>","31","      <item name=\"Dependency Convergence\" href=\"..\/dependency-convergence.html\" \/>","32","      <item name=\"Dependency Management\" href=\"..\/dependency-management.html\" \/>","33","      <item name=\"Project Team\" href=\"..\/team-list.html\" \/>","34","      <item name=\"Mailing Lists\" href=\"..\/mail-lists.html\" \/>","35","      <item name=\"Issue Tracking\" href=\"..\/issue-tracking.html\" \/>","36","      <item name=\"Project License\" href=\"..\/license.html\" \/>","37","      <item name=\"Source Repository\" href=\"..\/source-repository.html\" \/>","38","      <item name=\"Project Summary\" href=\"..\/project-summary.html\" \/>","39","    <\/menu>","40","","41","    <menu name=\"Log4J Project Reports\" img=\"icon-cog\">","42","      <item name=\"Changes Report\" href=\"..\/changes-report.html\" \/>","43","      <item name=\"JIRA Report\" href=\"..\/jira-report.html\" \/>","44","      <item name=\"Surefire Report\" href=\"..\/surefire-report.html\" \/>","45","      <item name=\"RAT Report\" href=\"..\/rat-report.html\" \/>","46","    <\/menu>"],"delete":[]}],"web\/src\/site\/site.xml":[{"add":["33","","34","    <!-- Component-specific reports -->","36","","37","\t<!-- Overall Project Info -->","38","    <menu name=\"Log4J Project Information\" img=\"icon-info-sign\">","39","      <item name=\"Dependencies\" href=\"..\/dependencies.html\" \/>","40","      <item name=\"Dependency Convergence\" href=\"..\/dependency-convergence.html\" \/>","41","      <item name=\"Dependency Management\" href=\"..\/dependency-management.html\" \/>","42","      <item name=\"Project Team\" href=\"..\/team-list.html\" \/>","43","      <item name=\"Mailing Lists\" href=\"..\/mail-lists.html\" \/>","44","      <item name=\"Issue Tracking\" href=\"..\/issue-tracking.html\" \/>","45","      <item name=\"Project License\" href=\"..\/license.html\" \/>","46","      <item name=\"Source Repository\" href=\"..\/source-repository.html\" \/>","47","      <item name=\"Project Summary\" href=\"..\/project-summary.html\" \/>","48","    <\/menu>","49","","50","    <menu name=\"Log4J Project Reports\" img=\"icon-cog\">","51","      <item name=\"Changes Report\" href=\"..\/changes-report.html\" \/>","52","      <item name=\"JIRA Report\" href=\"..\/jira-report.html\" \/>","53","      <item name=\"Surefire Report\" href=\"..\/surefire-report.html\" \/>","54","      <item name=\"RAT Report\" href=\"..\/rat-report.html\" \/>","55","    <\/menu>"],"delete":[]}]}},"0c9c9f384475af3402833e9a2a27e97248b84b38":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/filter\/DynamicThresholdFilter.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/filter\/DynamicThresholdFilterTest.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/filter\/DynamicThresholdFilter.java":[{"add":["151","    @Override","152","    public Result filter(final Logger logger, final Level level, final Marker marker, final String msg,","153","            final Object p0) {","154","        return filter(level, ThreadContext.getContext());","155","","156","    }","157","","158","    @Override","159","    public Result filter(final Logger logger, final Level level, final Marker marker, final String msg,","160","            final Object p0, final Object p1) {","161","        return filter(level, ThreadContext.getContext());","162","","163","    }","164","","165","    @Override","166","    public Result filter(final Logger logger, final Level level, final Marker marker, final String msg,","167","            final Object p0, final Object p1, final Object p2) {","168","        return filter(level, ThreadContext.getContext());","169","","170","    }","171","","172","    @Override","173","    public Result filter(final Logger logger, final Level level, final Marker marker, final String msg,","174","            final Object p0, final Object p1, final Object p2, final Object p3) {","175","        return filter(level, ThreadContext.getContext());","176","","177","    }","178","","179","    @Override","180","    public Result filter(final Logger logger, final Level level, final Marker marker, final String msg,","181","            final Object p0, final Object p1, final Object p2, final Object p3,","182","            final Object p4) {","183","        return filter(level, ThreadContext.getContext());","184","","185","    }","186","","187","    @Override","188","    public Result filter(final Logger logger, final Level level, final Marker marker, final String msg,","189","            final Object p0, final Object p1, final Object p2, final Object p3,","190","            final Object p4, final Object p5) {","191","        return filter(level, ThreadContext.getContext());","192","","193","    }","194","","195","    @Override","196","    public Result filter(final Logger logger, final Level level, final Marker marker, final String msg,","197","            final Object p0, final Object p1, final Object p2, final Object p3,","198","            final Object p4, final Object p5, final Object p6) {","199","        return filter(level, ThreadContext.getContext());","200","","201","    }","202","","203","    @Override","204","    public Result filter(final Logger logger, final Level level, final Marker marker, final String msg,","205","            final Object p0, final Object p1, final Object p2, final Object p3,","206","            final Object p4, final Object p5, final Object p6,","207","            final Object p7) {","208","        return filter(level, ThreadContext.getContext());","209","","210","    }","211","","212","    @Override","213","    public Result filter(final Logger logger, final Level level, final Marker marker, final String msg,","214","            final Object p0, final Object p1, final Object p2, final Object p3,","215","            final Object p4, final Object p5, final Object p6,","216","            final Object p7, final Object p8) {","217","        return filter(level, ThreadContext.getContext());","218","","219","    }","220","","221","    @Override","222","    public Result filter(final Logger logger, final Level level, final Marker marker, final String msg,","223","            final Object p0, final Object p1, final Object p2, final Object p3,","224","            final Object p4, final Object p5, final Object p6,","225","            final Object p7, final Object p8, final Object p9) {","226","        return filter(level, ThreadContext.getContext());","227","","228","    }","229","    "],"delete":[]}],"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1511\" dev=\"ggregory\" type=\"fix\" due-to=\"Srikanth Surukuntu\">","27","        DynamicThresholdFilter filters incorrectly when params are passed as individual arguments instead of varargs.","28","      <\/action>"],"delete":[]}],"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/filter\/DynamicThresholdFilterTest.java":[{"add":["76","        ThreadContext.clearMap();","80","    public void testFilterWorksWhenParamsArePassedAsArguments() {","81","        ThreadContext.put(\"userid\", \"testuser\");","82","        ThreadContext.put(\"organization\", \"apache\");","83","        final KeyValuePair[] pairs = new KeyValuePair[] {","84","                new KeyValuePair(\"testuser\", \"DEBUG\"),","85","                new KeyValuePair(\"JohnDoe\", \"warn\") };","86","        final DynamicThresholdFilter filter = DynamicThresholdFilter.createFilter(\"userid\", pairs, Level.ERROR, Filter.Result.ACCEPT, Filter.Result.NEUTRAL);","87","        filter.start();","88","        assertTrue(filter.isStarted());","89","        Object [] replacements = {\"one\", \"two\", \"three\"};","90","        assertSame(Filter.Result.ACCEPT, filter.filter(null, Level.DEBUG, null, \"some test message\", replacements)); ","91","        assertSame(Filter.Result.ACCEPT, filter.filter(null, Level.DEBUG, null, \"some test message\", \"one\", \"two\", \"three\")); ","92","        ThreadContext.clearMap();","93","    }","94","    ","95","    @Test"],"delete":[]}]}},"4e1f798ccc2de63054a22f30fa9508bc55139577":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["83","      <action issue=\"LOG4J2-1753\" dev=\"ggregory\" type=\"fix\" due-to=\"Ludovic Hochet\">","84","        Fix ClassNotFoundException org.apache.logging.log4j.core.util.ExecutorServices in OSGi tests.","85","      <\/action>"],"delete":[]}]}},"9bea362a0440cfed0e12eb503e95e1c8eadbe827":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/AppenderControl.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1538\" dev=\"ggregory\" type=\"fix\" due-to=\"Igor Karpov\">","27","        Dynamic removal of filter may cause NPE.","28","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/AppenderControl.java":[{"add":["92","        final Filter filter = getFilter();","93","        return filter != null && Filter.Result.DENY == filter.filter(event);"],"delete":["92","        return getFilter() != null && Filter.Result.DENY == getFilter().filter(event);"]}]}},"a36d1110a10f401120372a9a92df3dd9bd74f9f2":{"changes":{"src\/site\/xdoc\/manual\/appenders.xml":"MODIFY"},"diff":{"src\/site\/xdoc\/manual\/appenders.xml":[{"add":["432","                passes all filters and is routed to this appender. Defaults to false.<\/td>"],"delete":["432","                passes all filters and is routed to this appender.<\/td>"]}]}},"71fd036e0bbc40598b72676854b2827565b44836":{"changes":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/util\/StackLocatorUtil.java":"MODIFY"},"diff":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/util\/StackLocatorUtil.java":[{"add":["18","import java.util.NoSuchElementException;","21","import org.apache.logging.log4j.status.StatusLogger;","22","","28","    private static volatile boolean errorLogged = false;","74","        try {","75","            return stackLocator.calcLocation(fqcnOfLogger);","76","        } catch (NoSuchElementException ex) {","77","            if (!errorLogged) {","78","                errorLogged = true;","79","                StatusLogger.getLogger().warn(\"Unable to locate stack trace element for {}\", fqcnOfLogger, ex);","80","            }","81","            return null;","82","        }"],"delete":["70","        return stackLocator.calcLocation(fqcnOfLogger);"]}]}},"70ad5f35c1cb62736e63650abf5b9183b625c823":{"changes":{"src\/changes\/changes.xml":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/layout\/PatternLayout.java":"MODIFY","core\/src\/test\/resources\/log4j2-config.xml":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/lookup\/Interpolator.java":"MODIFY","core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/TestConfigurator.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-192\" dev=\"rgoers\" type=\"fix\">","26","        Add support for interpolating Environment variables when processing the configuration.","27","      <\/action>"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/layout\/PatternLayout.java":[{"add":["128","    public String getConversionPattern() {","129","        return conversionPattern;","130","    }","131",""],"delete":[]}],"core\/src\/test\/resources\/log4j2-config.xml":[{"add":["24","    <List name=\"List2\">","25","      <PatternLayout pattern=\"${env:PATH} %m%n\"\/>","26","    <\/List>"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/lookup\/Interpolator.java":[{"add":["58","    \/**","59","     * Create the default Interpolator using only Lookups that work without an event.","60","     *\/","64","        lookups.put(\"env\", new EnvironmentLookup());"],"delete":[]}],"core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/TestConfigurator.java":[{"add":["23","import org.apache.logging.log4j.core.Layout;","27","import org.apache.logging.log4j.core.layout.PatternLayout;","28","import org.apache.logging.log4j.test.appender.ListAppender;","186","","187","    @Test","188","    public void testEnvironment() throws Exception {","189","        final LoggerContext ctx = Configurator.initialize(\"-config\", null, (String) null);","190","        final Logger logger = LogManager.getLogger(\"org.apache.test.TestConfigurator\");","191","        Configuration config = ctx.getConfiguration();","192","        assertNotNull(\"No configuration\", config);","193","        assertTrue(\"Incorrect Configuration. Expected \" + CONFIG_NAME + \" but found \" + config.getName(),","194","            CONFIG_NAME.equals(config.getName()));","195","        final Map<String, Appender<?>> map = config.getAppenders();","196","        assertNotNull(\"No Appenders\", map != null && map.size() > 0);","197","        Appender<?> app = null;","198","        for (Map.Entry<String, Appender<?>> entry: map.entrySet()) {","199","            if (entry.getKey().equals(\"List2\")) {","200","                app = entry.getValue();","201","            }","202","        }","203","        assertNotNull(\"No ListAppender named List2\", app);","204","        Layout layout = app.getLayout();","205","        assertNotNull(\"Appender List2 does not have a Layout\", layout);","206","        assertTrue(\"Appender List2 is not configured with a PatternLayout\", layout instanceof PatternLayout);","207","        String pattern = ((PatternLayout) layout).getConversionPattern();","208","        assertNotNull(\"No conversion pattern for List2 PatternLayout\", pattern);","209","        assertFalse(\"Environment variable was not substituted\", pattern.startsWith(\"${env:PATH}\"));","210","    }","211",""],"delete":[]}]}},"235955ab4ed2bd0a9a5256b1e0e3017eb7a90c4f":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/PropertyTest.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/Property.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/visitors\/PluginValueVisitor.java":"MODIFY","log4j-core\/src\/test\/resources\/configPropertyTest.xml":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/PropertyTest.java":[{"add":["50","        \/\/<Property name=\"emptyElementKey\" \/>","51","        \/\/<Property name=\"emptyAttributeKey\" value=\"\" \/>","52","        \/\/<Property name=\"emptyAttributeKey2\" value=\"\"><\/Property>","53","        \/\/<Property name=\"elementKey\">elementValue<\/Property>","54","        \/\/<Property name=\"attributeKey\" value=\"attributeValue\" \/>","55","        \/\/<Property name=\"attributeWithEmptyElementKey\" value=\"attributeValue2\"><\/Property>","56","        \/\/<Property name=\"bothElementAndAttributeKey\" value=\"attributeValue3\">elementValue3<\/Property>","59","                \",a=\" + \/\/ ${sys:emptyAttributeKey}","60","                \",b=\" + \/\/ ${sys:emptyAttributeKey2}","63","                \",5=elementValue3,m=msg\"; \/\/ ${sys:bothElementAndAttributeKey}","69","    public void testNullValueIsConvertedToEmptyString() { \/\/ LOG4J2-1313 <Property name=\"x\" \/> support","70","        assertEquals(\"\", Property.createProperty(\"name\", null).getValue());","71","    }","72","","73","    @Test"],"delete":["38","    @Ignore(\"TODO fix LOG4J2-1313\")","51","\/\/        <Property name=\"elementKey\">elementValue<\/Property>","52","\/\/        <Property name=\"emptyElementKey\"><\/Property>","53","\/\/        <Property name=\"attributeKey\" value=\"attributeValue\" \/>","54","\/\/        <Property name=\"attributeWithEmptyElementKey\" value=\"attributeValue2\"><\/Property>","55","\/\/        <Property name=\"bothElementAndAttributeKey\" value=\"attributeValue\"3>elementValue<\/Property>","60","                \",5=attributeValue3,m=msg\"; \/\/ ${sys:bothElementAndAttributeKey}"]}],"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1313\" dev=\"rpopma\" type=\"fix\" due-to=\"Philipp Knobel, Leon Finker\">","27","        Support Property values to be specified in configuration as a value attribute as well as an element.","28","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/Property.java":[{"add":["56","        return value == null ? \"\" : value; \/\/ LOG4J2-1313 null would be same as Property not existing","86","        return name + '=' + getValue();"],"delete":["56","        return value;","86","        return name + '=' + value;"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/visitors\/PluginValueVisitor.java":[{"add":["36","            final StringBuilder log) {","38","        final String elementValue = node.getValue();","39","        final String attributeValue = node.getAttributes().get(\"value\");","40","        String rawValue = null; \/\/ if neither is specified, return null (LOG4J2-1313)","41","        if (Strings.isNotEmpty(elementValue)) {","42","            if (Strings.isNotEmpty(attributeValue)) {","43","                LOGGER.error(\"Configuration contains {} with both attribute value ({}) AND element\" +","44","                                \" value ({}). Please specify only one value. Using the element value.\",","45","                        node.getName(), attributeValue, elementValue);","46","            }","47","            rawValue = elementValue;","48","        } else {","49","            rawValue = removeAttributeValue(node.getAttributes(), \"value\");","50","        }"],"delete":["36","                        final StringBuilder log) {","38","        final String rawValue = Strings.isNotEmpty(node.getValue()) ? node.getValue() :","39","                removeAttributeValue(node.getAttributes(), \"value\");"]}],"log4j-core\/src\/test\/resources\/configPropertyTest.xml":[{"add":["19","    <Property name=\"emptyElementKey\" \/>","20","    <Property name=\"emptyAttributeKey\" value=\"\" \/>","21","    <Property name=\"emptyAttributeKey2\" value=\"\"><\/Property>","29","      <PatternLayout pattern=\"1=${sys:elementKey},2=${sys:emptyElementKey},a=${sys:emptyAttributeKey},b=${sys:emptyAttributeKey2},3=${sys:attributeKey},4=${sys:attributeWithEmptyElementKey},5=${sys:bothElementAndAttributeKey},m=%m\" \/>"],"delete":["20","    <Property name=\"emptyElementKey\"><\/Property>","27","      <PatternLayout pattern=\"1=${sys:elementKey},2=${sys:emptyElementKey},3=${sys:attributeKey},4=${sys:attributeWithEmptyElementKey},5=${sys:bothElementAndAttributeKey},m=%m\" \/>"]}]}},"1bd8a513959bc7df70d81002098b584b1e7ea87b":{"changes":{"\/dev\/null":"DELETE"},"diff":{"\/dev\/null":[{"add":[],"delete":[]}]}},"2eb63119eed1f9a5a7d7bb25b1b55d4a147f10b1":{"changes":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/ReusableMessageFactory.java":"MODIFY","log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/ReusableObjectMessage.java":"MODIFY","log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/ReusableSimpleMessage.java":"MODIFY","log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/EventParameterMemoryLeakTest.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/Clearable.java":"ADD","log4j-core\/src\/test\/resources\/EventParameterMemoryLeakTest.xml":"MODIFY","log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/ReusableParameterizedMessage.java":"MODIFY"},"diff":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/ReusableMessageFactory.java":[{"add":["79","     * Invokes {@link Clearable#clear()} when possible.","80","     * This flag is used internally to verify that a reusable message is no longer in use and","86","        if (message instanceof Clearable) {","87","            ((Clearable) message).clear();"],"delete":["79","     * Switches the {@code reserved} flag off if the specified message is a ReusableParameterizedMessage,","80","     * otherwise does nothing. This flag is used internally to verify that a reusable message is no longer in use and","86","        if (message instanceof ReusableParameterizedMessage) {","87","            ((ReusableParameterizedMessage) message).reserved = false;","88","        } else if (message instanceof ReusableObjectMessage) {","89","            ((ReusableObjectMessage) message).set(null);"]}],"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/ReusableObjectMessage.java":[{"add":["26","public class ReusableObjectMessage implements ReusableMessage, ParameterVisitable, Clearable {","123","","124","    @Override","125","    public void clear() {","126","        obj = null;","127","    }"],"delete":["26","public class ReusableObjectMessage implements ReusableMessage, ParameterVisitable {"]}],"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/ReusableSimpleMessage.java":[{"add":["25","public class ReusableSimpleMessage implements ReusableMessage, CharSequence, ParameterVisitable, Clearable {","107","","108","    @Override","109","    public void clear() {","110","        charSequence = null;","111","    }"],"delete":["25","public class ReusableSimpleMessage implements ReusableMessage, CharSequence, ParameterVisitable {"]}],"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/EventParameterMemoryLeakTest.java":[{"add":["61","        log.info(\"test\", new ObjectThrowable(parameter));","62","        log.info(\"test {}\", \"hello\", new ObjectThrowable(parameter));","69","        final String line4 = reader.readLine();","70","        final String line5 = reader.readLine();","75","        assertThat(line3, containsString(\"paramValue\"));","76","        assertThat(line4, containsString(\"paramValue\"));","77","        assertNull(\"Expected only three lines\", line5);","107","    private static final class ObjectThrowable extends RuntimeException {","108","        private final Object object;","109","","110","        ObjectThrowable(Object object) {","111","            super(String.valueOf(object));","112","            this.object = object;","113","        }","114","","115","        @Override","116","        public String toString() {","117","            return \"ObjectThrowable \" + object;","118","        }","119","    }","120",""],"delete":["71","        assertNull(\"Expected only a two lines\", line3);"]}],"src\/changes\/changes.xml":[{"add":["141","      <action issue=\"LOG4J2-2364\" dev=\"ckozak\" type=\"fix\">","142","        Fixed a memory leak in which ReusableParameterizedMessage would hold a reference to the most recently","143","        logged throwable and provided varargs array.","144","      <\/action>"],"delete":[]}],"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/Clearable.java":[{"add":[],"delete":[]}],"log4j-core\/src\/test\/resources\/EventParameterMemoryLeakTest.xml":[{"add":["9","        <Pattern>%d %p %c{1.} [%t] %m %throwable{short.message}%n<\/Pattern>"],"delete":["9","        <Pattern>%d %p %c{1.} [%t] %m%n<\/Pattern>"]}],"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/ReusableParameterizedMessage.java":[{"add":["32","public class ReusableParameterizedMessage implements ReusableMessage, ParameterVisitable, Clearable {","343","","344","    @Override","345","    public void clear() { \/\/ LOG4J2-1583","346","        \/\/ This method does not clear parameter values, those are expected to be swapped to a","347","        \/\/ reusable message, which is responsible for clearing references.","348","        reserved = false;","349","        varargs = null;","350","        messagePattern = null;","351","        throwable = null;","352","    }"],"delete":["32","public class ReusableParameterizedMessage implements ReusableMessage, ParameterVisitable {"]}]}},"b687abcb9aa2cc283a4977ad538d8a41f2041f7f":{"changes":{"flume-ng\/src\/test\/resources\/default_embedded.xml":"MODIFY","flume-ng\/src\/test\/resources\/embedded.xml":"MODIFY","flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumeEmbeddedManager.java":"MODIFY","src\/site\/xdoc\/manual\/appenders.xml":"MODIFY","flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumeAvroManager.java":"MODIFY","flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumeAppender.java":"MODIFY","flume-ng\/pom.xml":"MODIFY","flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/Log4jEventSource.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/BatchEvent.java":"MODIFY","flume-ng\/src\/test\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumeAppenderTest.java":"MODIFY","flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumePersistentManager.java":"MODIFY","flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/AbstractFlumeManager.java":"MODIFY"},"diff":{"flume-ng\/src\/test\/resources\/default_embedded.xml":[{"add":["3","    <Flume name=\"eventLogger\" suppressExceptions=\"false\" compress=\"true\" type=\"embedded\" dataDir=\"InMemory\">"],"delete":["3","    <Flume name=\"eventLogger\" suppressExceptions=\"false\" compress=\"true\" embedded=\"true\" dataDir=\"InMemory\">"]}],"flume-ng\/src\/test\/resources\/embedded.xml":[{"add":["3","    <Flume name=\"eventLogger\" suppressExceptions=\"false\" compress=\"true\" type=\"embedded\">"],"delete":["3","    <Flume name=\"eventLogger\" suppressExceptions=\"false\" compress=\"true\" embedded=\"true\">"]}],"flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumeEmbeddedManager.java":[{"add":["18","import org.apache.flume.Event;","121","    public void send(final Event event) {"],"delete":["19","import org.apache.flume.event.SimpleEvent;","121","    public void send(final SimpleEvent event, final int delay, final int retries) {"]}],"src\/site\/xdoc\/manual\/appenders.xml":[{"add":["102","              <td>Extracting location is an expensive operation (it can make","390","            asynchronously. Setting the \"type\" attribute to \"Embedded\" will force the use of the embedded agent. In","427","              <td>connectTimeout<\/td>","428","              <td>integer<\/td>","429","              <td>The number of milliseconds Flume will wait before timing out the connection.<\/td>","430","            <\/tr>","431","            <tr>","461","              <td>maxDelay<\/td>","462","              <td>integer<\/td>","463","              <td>The maximum number of seconds to wait for batchSize events before publishing the batch.<\/td>","464","            <\/tr>","465","            <tr>","509","              <td>requestTimeout<\/td>","511","              <td>The number of milliseconds Flume will wait before timing out the request.<\/td>"],"delete":["102","              <td>Extracting location is an expensive operation (it can make  ","390","            asynchronously. Setting the \"embedded\" attribute to \"true\" will force the use of the embedded agent. In","499","              <td>reconnectionDelay<\/td>","501","              <td>The number of milliseconds the application should wait before trying again to connect to the","502","                agent. When type=\"persistent\" is specified this represents the frequency between retries when no","503","                remote Flume agents are available (the persistent agent will continue to write to its database in","504","                the interim).<\/td>"]}],"flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumeAvroManager.java":[{"add":["18","import org.apache.flume.Event;","19","import org.apache.flume.api.RpcClient;","20","import org.apache.flume.api.RpcClientFactory;","24","import java.util.Properties;","31","    private static final int MAX_RECONNECTS = 3;","39","    private final int retries;","40","","41","    private final int connectTimeout;","42","","43","    private final int requestTimeout;","47","    private RpcClient rpcClient = null;","54","     * @param retries The number of times to retry connecting before giving up.","55","     * @param connectTimeout The connection timeout in ms.","56","     * @param requestTimeout The request timeout in ms.","57","     *","59","    protected FlumeAvroManager(final String name, final String shortName, final Agent[] agents, final int batchSize,","60","                               final int retries, final int connectTimeout, final int requestTimeout) {","64","        this.retries = retries;","65","        this.connectTimeout = connectTimeout;","66","        this.requestTimeout = requestTimeout;","67","        this.rpcClient = connect(agents, retries, connectTimeout, requestTimeout);","77","    public static FlumeAvroManager getManager(final String name, final Agent[] agents, int batchSize,","78","                                              final int retries, final int connectTimeout, final int requestTimeout) {","97","        return (FlumeAvroManager) getManager(sb.toString(), factory, new FactoryData(name, agents, batchSize, retries,","98","            connectTimeout, requestTimeout));","117","    public int getRetries() {","118","        return retries;","119","    }","120","","121","    public int getConnectTimeout() {","122","        return connectTimeout;","123","    }","124","","125","    public int getRequestTimeout() {","126","        return requestTimeout;","127","    }","128","","130","        if (rpcClient == null) {","131","            rpcClient = connect(agents, retries, connectTimeout, requestTimeout);","134","        if (rpcClient != null) {","136","                rpcClient.appendBatch(events.getEvents());","138","                rpcClient.close();","139","                rpcClient = null;","143","                throw new AppenderRuntimeException(\"No Flume agents are available\");","149","    public synchronized void send(final Event event)  {","150","        if (rpcClient == null) {","151","            rpcClient = connect(agents, retries, connectTimeout, requestTimeout);","154","        if (rpcClient != null) {","155","            try {","156","                rpcClient.append(event);","157","            } catch (final Exception ex) {","158","                rpcClient.close();","159","                rpcClient = null;","160","                String msg = \"Unable to write to \" + getName() + \" at \" + agents[current].getHost() + \":\" +","161","                    agents[current].getPort();","162","                LOGGER.warn(msg, ex);","163","                throw new AppenderRuntimeException(\"No Flume agents are available\");","174","    private RpcClient connect(final Agent[] agents, int retries, int connectTimeout, int requestTimeout) {","175","        Properties props = new Properties();","176","","177","        props.put(\"client.type\", agents.length > 1 ? \"default_failover\" : \"default\");","178","","179","        int count = 1;","180","        StringBuilder sb = new StringBuilder();","181","        for (Agent agent : agents) {","182","            if (sb.length() > 0) {","183","                sb.append(\" \");","185","            String hostName = \"host\" + count++;","186","            props.put(\"hosts.\" + hostName, agent.getHost() + \":\" + agent.getPort());","187","            sb.append(hostName);","189","        props.put(\"hosts\", sb.toString());","190","        if (batchSize > 0) {","191","            props.put(\"batch-size\", Integer.toString(batchSize));","193","        if (retries > 1) {","194","            if (retries > MAX_RECONNECTS) {","195","                retries = MAX_RECONNECTS;","196","            }","197","            props.put(\"max-attempts\", Integer.toString(retries * agents.length));","198","        }","199","        if (requestTimeout >= 1000) {","200","            props.put(\"request-timeout\", Integer.toString(requestTimeout));","201","        }","202","        if (connectTimeout >= 1000) {","203","            props.put(\"connect-timeout\", Integer.toString(connectTimeout));","204","        }","205","        return RpcClientFactory.getInstance(props);","210","        if (rpcClient != null) {","212","                rpcClient.close();","213","            } catch (final Exception ex) {","214","                LOGGER.error(\"Attempt to close RPC client failed\", ex);","217","        rpcClient = null;","227","        private final int retries;","228","        private final int conntectTimeout;","229","        private final int requestTimeout;","237","        public FactoryData(final String name, final Agent[] agents, final int batchSize, final int retries,","238","                           final int connectTimeout, final int requestTimeout) {","242","            this.retries = retries;","243","            this.conntectTimeout = connectTimeout;","244","            this.requestTimeout = requestTimeout;","262","                return new FlumeAvroManager(name, data.name, data.agents, data.batchSize, data.retries,","263","                    data.conntectTimeout, data.requestTimeout);"],"delete":["18","import org.apache.avro.AvroRemoteException;","19","import org.apache.avro.ipc.NettyTransceiver;","20","import org.apache.avro.ipc.Transceiver;","21","import org.apache.avro.ipc.specific.SpecificRequestor;","22","import org.apache.flume.event.SimpleEvent;","23","import org.apache.flume.source.avro.AvroFlumeEvent;","24","import org.apache.flume.source.avro.AvroSourceProtocol;","25","import org.apache.flume.source.avro.Status;","29","import java.io.IOException;","30","import java.net.InetSocketAddress;","31","import java.nio.ByteBuffer;","32","import java.util.ArrayList;","33","import java.util.HashMap;","34","import java.util.List;","35","import java.util.Map;","42","    \/**","43","      The default reconnection delay (500 milliseconds or .5 seconds).","44","     *\/","45","    public static final int DEFAULT_RECONNECTION_DELAY   = 500;","46","","47","    private static final int DEFAULT_RECONNECTS = 3;","51","    private AvroSourceProtocol client;","52","","57","    private final EventList events = new EventList();","61","    private Transceiver transceiver;","69","    protected FlumeAvroManager(final String name, final String shortName, final Agent[] agents, final int batchSize) {","73","        this.client = connect(agents);","83","    public static FlumeAvroManager getManager(final String name, final Agent[] agents, int batchSize) {","102","        return (FlumeAvroManager) getManager(sb.toString(), factory, new FactoryData(name, agents, batchSize));","122","        if (client == null) {","123","            client = connect(agents);","126","        if (client != null) {","127","            final List<SimpleEvent> list = events.getEvents();","128","            final List<AvroFlumeEvent> batch = new ArrayList<AvroFlumeEvent>(list.size());","129","            for (SimpleEvent event : list) {","130","                final AvroFlumeEvent avroEvent = new AvroFlumeEvent();","131","                avroEvent.setBody(ByteBuffer.wrap(event.getBody()));","132","                avroEvent.setHeaders(new HashMap<CharSequence, CharSequence>());","133","","134","                for (final Map.Entry<String, String> entry : event.getHeaders().entrySet()) {","135","                    avroEvent.getHeaders().put(entry.getKey(), entry.getValue());","136","                }","137","                batch.add(avroEvent);","138","            }","139","","141","                final Status status = client.appendBatch(batch);","142","                if (status.equals(Status.OK)) {","143","                    return;","144","                } else {","145","                    LOGGER.warn(\"RPC communication failed to \" + agents[current].getHost() +","146","                        \":\" + agents[current].getPort());","147","                }","152","            }","153","","154","            for (int index = 0; index < agents.length; ++index) {","155","                if (index == current) {","156","                    continue;","157","                }","158","                final Agent agent = agents[index];","159","                try {","160","                    transceiver = null;","161","                    final AvroSourceProtocol c = connect(agent.getHost(), agent.getPort());","162","                    final Status status = c.appendBatch(batch);","163","                    if (!status.equals(Status.OK)) {","164","                        final String warnMsg = \"RPC communication failed to \" + getName() + \" at \" +","165","                            agent.getHost() + \":\" + agent.getPort();","166","                        LOGGER.warn(warnMsg);","167","                        continue;","168","                    }","169","                    client = c;","170","                    current = index;","171","                    return;","172","                } catch (final Exception ex) {","173","                    final String warnMsg = \"Unable to write to \" + getName() + \" at \" + agent.getHost() + \":\" +","174","                        agent.getPort();","175","                    LOGGER.warn(warnMsg, ex);","176","                }","179","        throw new AppenderRuntimeException(\"No Flume agents are available\");","183","    public synchronized void send(final SimpleEvent event, int delay, int retries)  {","184","        if (delay == 0) {","185","            delay = DEFAULT_RECONNECTION_DELAY;","187","        if (retries == 0) {","188","            retries = DEFAULT_RECONNECTS;","189","        }","190","        if (client == null) {","191","            client = connect(agents);","192","        }","193","        String msg = \"No Flume agents are available\";","194","        if (client != null) {","195","            final AvroFlumeEvent avroEvent = new AvroFlumeEvent();","196","            avroEvent.setBody(ByteBuffer.wrap(event.getBody()));","197","            avroEvent.setHeaders(new HashMap<CharSequence, CharSequence>());","199","            for (final Map.Entry<String, String> entry : event.getHeaders().entrySet()) {","200","                avroEvent.getHeaders().put(entry.getKey(), entry.getValue());","202","","203","            final List<AvroFlumeEvent> batch = batchSize > 1 ? events.addAndGet(avroEvent, batchSize) : null;","204","            if (batch == null && batchSize > 1) {","205","                return;","206","            }","207","","208","            int i = 0;","209","","210","            msg = \"Error writing to \" + getName();","211","","212","            do {","213","                try {","214","                    final Status status = (batch == null) ? client.append(avroEvent) : client.appendBatch(batch);","215","                    if (!status.equals(Status.OK)) {","216","                        throw new AvroRemoteException(\"RPC communication failed to \" + agents[current].getHost() +","217","                            \":\" + agents[current].getPort());","218","                    }","219","                    return;","220","                } catch (final Exception ex) {","221","                    if (i == retries - 1) {","222","                        msg = \"Unable to write to \" + getName() + \" at \" + agents[current].getHost() + \":\" +","223","                            agents[current].getPort();","224","                        LOGGER.warn(msg, ex);","225","                        break;","226","                    }","227","                    sleep(delay);","228","                }","229","            } while (++i < retries);","230","","231","            for (int index = 0; index < agents.length; ++index) {","232","                if (index == current) {","233","                    continue;","234","                }","235","                final Agent agent = agents[index];","236","                i = 0;","237","                do {","238","                    try {","239","                        transceiver = null;","240","                        final AvroSourceProtocol c = connect(agent.getHost(), agent.getPort());","241","                        final Status status = (batch == null) ? c.append(avroEvent) : c.appendBatch(batch);","242","                        if (!status.equals(Status.OK)) {","243","                            if (i == retries - 1) {","244","                                final String warnMsg = \"RPC communication failed to \" + getName() + \" at \" +","245","                                    agent.getHost() + \":\" + agent.getPort();","246","                                LOGGER.warn(warnMsg);","247","                            }","248","                            continue;","249","                        }","250","                        client = c;","251","                        current = index;","252","                        return;","253","                    } catch (final Exception ex) {","254","                        if (i == retries - 1) {","255","                            final String warnMsg = \"Unable to write to \" + getName() + \" at \" + agent.getHost() + \":\" +","256","                                agent.getPort();","257","                            LOGGER.warn(warnMsg, ex);","258","                            break;","259","                        }","260","                        sleep(delay);","261","                    }","262","                } while (++i < retries);","263","            }","264","        }","265","","266","        throw new AppenderRuntimeException(msg);","267","","268","    }","269","","270","    private void sleep(final int delay) {","271","        try {","272","            Thread.sleep(delay);","273","        } catch (final InterruptedException ex) {","274","            Thread.currentThread().interrupt();","283","    private AvroSourceProtocol connect(final Agent[] agents) {","284","        int i = 0;","285","        for (final Agent agent : agents) {","286","            final AvroSourceProtocol server = connect(agent.getHost(), agent.getPort());","287","            if (server != null) {","288","                current = i;","289","                return server;","290","            }","291","            ++i;","292","        }","293","        LOGGER.error(\"Flume manager \" + getName() + \" was unable to connect to any agents\");","294","        return null;","295","    }","297","    private AvroSourceProtocol connect(final String hostname, final int port) {","298","        try {","299","            if (transceiver == null) {","300","                transceiver = new NettyTransceiver(new InetSocketAddress(hostname, port));","302","        } catch (final IOException ioe) {","303","            LOGGER.error(\"Unable to create transceiver\", ioe);","304","            return null;","306","        try {","307","            return SpecificRequestor.getClient(AvroSourceProtocol.class, transceiver);","308","        } catch (final IOException ioe) {","309","            LOGGER.error(\"Unable to create Avro client\");","310","            return null;","316","        if (transceiver != null) {","318","                transceiver.close();","319","            } catch (final IOException ioe) {","320","                LOGGER.error(\"Attempt to clean up Avro transceiver failed\", ioe);","323","        client = null;","324","    }","325","","326","    \/**","327","     * Thread-safe List management of a batch.","328","     *\/","329","    private static class EventList extends ArrayList<AvroFlumeEvent> {","330","","331","        \/**","332","         * Generated serial version ID.","333","         *\/","334","        private static final long serialVersionUID = -1599817377315957495L;","335","","336","        public synchronized List<AvroFlumeEvent> addAndGet(final AvroFlumeEvent event, final int batchSize) {","337","            super.add(event);","338","            if (this.size() >= batchSize) {","339","                final List<AvroFlumeEvent> events = new ArrayList<AvroFlumeEvent>();","340","                events.addAll(this);","341","                clear();","342","                return events;","343","            } else {","344","                return null;","345","            }","346","        }","363","        public FactoryData(final String name, final Agent[] agents, final int batchSize) {","384","                return new FlumeAvroManager(name, data.name, data.agents, data.batchSize);"]}],"flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumeAppender.java":[{"add":["61","                          final String eventPrefix, final boolean compress,","83","        manager.send(flumeEvent);","118","     * @param connectionTimeout The amount of time in milliseconds to wait before a connection times out. Minimum is","119","     *                          1000.","120","     * @param requestTimeout The amount of time in milliseconds to wait before a request times out. Minimum is 1000.","122","     * @param maxDelay The maximum number of seconds to wait for a complete batch.","143","                                                   @PluginAttr(\"connectTimeout\") final String connectionTimeout,","144","                                                   @PluginAttr(\"requestTimeout\") final String requestTimeout,","146","                                                   @PluginAttr(\"maxDelay\") final String maxDelay,","166","            if (embed && embedded != null) {","189","        final int connectTimeout = connectionTimeout == null ? 0 : Integer.parseInt(connectionTimeout);","190","        final int reqTimeout = requestTimeout == null ? 0 : Integer.parseInt(requestTimeout);","192","        final int delay = maxDelay == null ? 60000 : Integer.parseInt(maxDelay);","193","","216","                manager = FlumeAvroManager.getManager(name, agents, batchCount, retries, connectTimeout, reqTimeout);","223","                manager = FlumePersistentManager.getManager(name, agents, properties, batchCount, retries,","224","                    connectTimeout, reqTimeout, delay, dataDir);","232","                manager = FlumeAvroManager.getManager(name, agents, batchCount, retries, connectTimeout, reqTimeout);","240","            excludes, required, mdcPrefix, eventPrefix, compress, factory, manager);"],"delete":["49","    private final int reconnectDelay;","50","","51","    private final int retries;","52","","65","                          final String eventPrefix, final boolean compress, final int delay, final int retries,","75","        this.reconnectDelay = delay;","76","        this.retries = retries;","89","        manager.send(flumeEvent, reconnectDelay, retries);","124","     * @param delay The amount of time in milliseconds to wait between retries.","146","                                                   @PluginAttr(\"reconnectionDelay\") final String delay,","167","            if (embed) {","190","        final int reconnectDelay = delay == null ? 0 : Integer.parseInt(delay);","214","                manager = FlumeAvroManager.getManager(name, agents, batchCount);","221","                manager = FlumePersistentManager.getManager(name, agents, properties, batchCount, reconnectDelay, dataDir);","229","                manager = FlumeAvroManager.getManager(name, agents, batchCount);","237","            excludes, required, mdcPrefix, eventPrefix, compress, reconnectDelay, retries, factory, manager);"]}],"flume-ng\/pom.xml":[{"add":["34","    <flumeVersion>1.3.1<\/flumeVersion>"],"delete":["34","    <flumeVersion>1.2.0<\/flumeVersion>"]}],"flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/Log4jEventSource.java":[{"add":["19","import org.apache.flume.Event;","54","    public void send(final Event event) {"],"delete":["20","import org.apache.flume.event.SimpleEvent;","54","    public void send(final SimpleEvent event) {"]}],"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-198\" dev=\"rgoers\" type=\"fix\">","26","        FlumeAvroManager now uses Flume RPCClient.","27","      <\/action>","28","      <action issue=\"LOG4J2-196\" dev=\"rgoers\" type=\"fix\">","29","        FlumeAvroManager now uses Flume RPCClient.","30","      <\/action>"],"delete":[]}],"flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/BatchEvent.java":[{"add":["18","import org.apache.flume.Event;","28","    private List<Event> events = new ArrayList<Event>();","30","    public void addEvent(Event event) {","34","    public List<Event> getEvents() {"],"delete":["18","import org.apache.flume.event.SimpleEvent;","28","    private List<SimpleEvent> events = new ArrayList<SimpleEvent>();","30","    public void addEvent(SimpleEvent event) {","34","    public List<SimpleEvent> getEvents() {"]}],"flume-ng\/src\/test\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumeAppenderTest.java":[{"add":["131","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"1000\",","132","            \"1000\", \"1\", \"1000\", \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);","157","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"1000\",","158","            \"1000\", \"1\", \"1000\", \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);","195","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"1000\",","196","            \"1000\", \"1\", \"1000\", \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);","225","         final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"1000\",","226","             \"1000\", \"1\", \"1000\", \"avro\", \"false\", null, null, null, null, null, \"true\", \"10\", null, null, null);","256","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"1000\",","257","            \"1000\", \"1\", \"1000\", \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);","282","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"1000\",","283","            \"1000\", \"1\", \"1000\", \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);","327","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"1000\",","328","            \"1000\", \"1\", \"1000\", \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);"],"delete":["131","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"100\", \"3\",","132","            \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);","157","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"100\", \"3\",","158","            \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);","195","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"100\", \"3\",","196","            \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);","225","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"100\", \"3\",","226","            \"avro\", \"false\", null, null, null, null, null, \"true\", \"10\", null, null, null);","256","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"100\", \"3\",","257","            \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);","282","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, \"false\", \"Avro\", null, \"100\", \"3\",","283","            \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);","327","        final FlumeAppender avroAppender = FlumeAppender.createAppender(agents, null, null, \"Avro\", null, \"100\", \"3\",","328","            \"avro\", \"false\", null, null, null, null, null, \"true\", \"1\", null, null, null);"]}],"flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/FlumePersistentManager.java":[{"add":["27","import org.apache.flume.Event;","73","    private final int delay;","83","                                     final int batchSize, final int retries, final int connectionTimeout,","84","                                     final int requestTimeout, final int delay, final Database database,","86","        super(name, shortName, agents, batchSize, retries, connectionTimeout, requestTimeout);","87","        this.delay = delay;","103","                                                    int batchSize, final int retries, final int connectionTimeout,","104","                                                    final int requestTimeout, final int delay, final String dataDir) {","125","        return getManager(sb.toString(), factory, new FactoryData(name, agents, batchSize, retries,","126","            connectionTimeout, requestTimeout, delay, dataDir, properties));","130","    public synchronized void send(final Event event)  {","181","        super.send(event);","192","        private final int retries;","193","        private final int connectionTimeout;","194","        private final int requestTimeout;","195","        private final int delay;","205","        public FactoryData(final String name, final Agent[] agents, final int batchSize, final int retries,","206","                           final int connectionTimeout, final int requestTimeout, final int delay,","212","            this.retries = retries;","213","            this.connectionTimeout = connectionTimeout;","214","            this.requestTimeout = requestTimeout;","215","            this.delay = delay;","297","            return new FlumePersistentManager(name, data.name, data.agents, data.batchSize, data.retries,","298","                data.connectionTimeout, data.requestTimeout, data.delay, database, secretKey);","336","                    database.count() > 0 && lastBatch + manager.delay > System.currentTimeMillis()) {","363","                                    for (Event event : batch.getEvents()) {","404","                            Thread.sleep(manager.delay);","415","                        queue.poll(manager.delay, TimeUnit.MILLISECONDS);"],"delete":["68","    private final int reconnectionDelay;","69","","74","    \/**","75","     The default reconnection delay (5 minutes).","76","     *\/","77","    public static final int DEFAULT_DELAY = 1000 * 60 * 5;","87","                                     final int batchSize, final int reconnectionDelay, final Database database,","89","        super(name, shortName, agents, batchSize);","93","        this.reconnectionDelay = reconnectionDelay <= 0 ? DEFAULT_DELAY : reconnectionDelay;","106","                                                    int batchSize, final int reconnectionDelay, final String dataDir) {","127","        return getManager(sb.toString(), factory, new FactoryData(name, agents, batchSize,","128","            reconnectionDelay, dataDir, properties));","132","    public synchronized void send(final SimpleEvent event, int delay, int retries)  {","183","        super.send(event, 1, 1);","194","        private final int reconnectionDelay;","204","        public FactoryData(final String name, final Agent[] agents, final int batchSize, final int reconnectionDelay,","210","            this.reconnectionDelay = reconnectionDelay;","292","            return new FlumePersistentManager(name, data.name, data.agents, data.batchSize, data.reconnectionDelay,","293","                database, secretKey);","331","                    database.count() > 0 && lastBatch + manager.reconnectionDelay > System.currentTimeMillis()) {","358","                                    for (SimpleEvent event : batch.getEvents()) {","399","                            Thread.sleep(manager.reconnectionDelay);","410","                        queue.poll(manager.reconnectionDelay, TimeUnit.MILLISECONDS);"]}],"flume-ng\/src\/main\/java\/org\/apache\/logging\/log4j\/flume\/appender\/AbstractFlumeManager.java":[{"add":["18","import org.apache.flume.Event;","30","    public abstract void send(Event event);"],"delete":["18","import org.apache.flume.event.SimpleEvent;","30","    public abstract void send(SimpleEvent event, int delay, int retries);"]}]}},"f6b2730a652a17ec856b7a1477c938066b3556bc":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingFileAppenderInterruptedThreadTest.java":"ADD","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingFileManager.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["118","      <action issue=\"LOG4J2-1798\" dev=\"rgoers\" due-to=\"Viacheslav Zhivaev\">","119","        Handle interrupted exceptions that occur during rollover.","120","      <\/action>"],"delete":[]}],"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingFileAppenderInterruptedThreadTest.java":[{"add":[],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingFileManager.java":[{"add":["384","","385","        boolean interrupted = Thread.interrupted(); \/\/ clear interrupted state","386","        try {","387","            if (interrupted) {","388","                LOGGER.warn(\"RollingFileManager cleared thread interrupted state, continue to rollover\");","389","            }","390","","391","            if (rollover(rolloverStrategy)) {","392","                try {","393","                    size = 0;","394","                    initialTime = System.currentTimeMillis();","395","                    createFileAfterRollover();","396","                } catch (final IOException e) {","397","                    logError(\"Failed to create file after rollover\", e);","398","                }","399","            }","400","        } finally {","401","            if (interrupted) { \/\/ restore interrupted state","402","                Thread.currentThread().interrupt();"],"delete":["384","        if (rollover(rolloverStrategy)) {","385","            try {","386","                size = 0;","387","                initialTime = System.currentTimeMillis();","388","                createFileAfterRollover();","389","            } catch (final IOException e) {","390","                logError(\"Failed to create file after rollover\", e);"]}]}},"8dd0cb27bc5a924bd51281821bff89999bd7b869":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/net\/TcpSocketManager.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/util\/NullOutputStream.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1562\" dev=\"ggregory\" type=\"fix\">","27","        SocketAppender memory usage grows unbounded if it cannot connect to a server.","28","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/net\/TcpSocketManager.java":[{"add":["31","import org.apache.commons.io.output.NullOutputStream;","311","                os = NullOutputStream.NULL_OUTPUT_STREAM;"],"delete":["310","                os = new ByteArrayOutputStream();"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/util\/NullOutputStream.java":[{"add":["38","    private NullOutputStream() {","39","        \/\/ do nothing","40","    }","41","    "],"delete":[]}]}},"937c8771128300217bc48a2b4368dd101195d0f9":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingRandomAccessFileManager.java":"MODIFY","log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingRandomAccessFileManagerTest.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingRandomAccessFileManager.java":[{"add":["24","import java.nio.file.Paths;","152","        if (isAttributeViewEnabled()) {","153","            defineAttributeView(Paths.get(fileName));","154","        }"],"delete":[]}],"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingRandomAccessFileManagerTest.java":[{"add":["19","import org.apache.logging.log4j.core.config.DefaultConfiguration;","20","import org.apache.logging.log4j.core.util.Closer;","21","import org.apache.logging.log4j.core.util.FileUtils;","22","import org.apache.logging.log4j.core.util.NullOutputStream;","23","import org.apache.logging.log4j.util.Strings;","24","import org.junit.Test;","25","","26","import java.io.File;","27","import java.io.FileOutputStream;","28","import java.io.IOException;","29","import java.io.OutputStream;","30","import java.io.RandomAccessFile;","31","import java.nio.file.Files;","32","import java.nio.file.Paths;","33","import java.nio.file.attribute.PosixFileAttributeView;","34","import java.nio.file.attribute.PosixFilePermission;","35","import java.nio.file.attribute.PosixFilePermissions;","36","import java.util.Set;","37","import java.util.concurrent.locks.LockSupport;","38","","47","import static org.junit.Assert.assertNotNull;","209","    @Test","210","    public void testRolloverRetainsFileAttributes() throws Exception {","211","","212","        \/\/ Short-circuit if host doesn't support file attributes.","213","        if (!FileUtils.isFilePosixAttributeViewSupported()) {","214","            return;","215","        }","216","","217","        \/\/ Create the initial file.","218","        final File file = File.createTempFile(\"log4j2\", \"test\");","219","        LockSupport.parkNanos(1000000); \/\/ 1 millisec","220","","221","        \/\/ Set the initial file attributes.","222","        final String filePermissionsString = \"rwxrwxrwx\";","223","        final Set<PosixFilePermission> filePermissions =","224","                PosixFilePermissions.fromString(filePermissionsString);","225","        FileUtils.defineFilePosixAttributeView(file.toPath(), filePermissions, null, null);","226","","227","        \/\/ Create the manager.","228","        final RolloverStrategy rolloverStrategy = DefaultRolloverStrategy","229","                .newBuilder()","230","                .setMax(\"7\")","231","                .setMin(\"1\")","232","                .setFileIndex(\"max\")","233","                .setStopCustomActionsOnError(false)","234","                .setConfig(new DefaultConfiguration())","235","                .build();","236","        final RollingRandomAccessFileManager manager =","237","                RollingRandomAccessFileManager.getRollingRandomAccessFileManager(","238","                        file.getAbsolutePath(),","239","                        Strings.EMPTY,","240","                        true,","241","                        true,","242","                        RollingRandomAccessFileManager.DEFAULT_BUFFER_SIZE,","243","                        new SizeBasedTriggeringPolicy(Long.MAX_VALUE),","244","                        rolloverStrategy,","245","                        null,","246","                        null,","247","                        filePermissionsString,","248","                        null,","249","                        null,","250","                        null);","251","        assertNotNull(manager);","252","        manager.initialize();","253","","254","        \/\/ Trigger a rollover.","255","        manager.rollover();","256","","257","        \/\/ Verify the rolled over file attributes.","258","        final Set<PosixFilePermission> actualFilePermissions = Files","259","                .getFileAttributeView(","260","                        Paths.get(manager.getFileName()),","261","                        PosixFileAttributeView.class)","262","                .readAttributes()","263","                .permissions();","264","        assertEquals(filePermissions, actualFilePermissions);","265","","266","    }","267",""],"delete":["30","import java.io.File;","31","import java.io.FileOutputStream;","32","import java.io.IOException;","33","import java.io.OutputStream;","34","import java.io.RandomAccessFile;","35","import java.util.concurrent.locks.LockSupport;","36","","37","import org.apache.logging.log4j.core.util.Closer;","38","import org.apache.logging.log4j.core.util.NullOutputStream;","39","import org.apache.logging.log4j.util.Strings;","40","import org.junit.Test;","41",""]}]}},"17c6ae50d2ad98035537016bee7296f3ca612e95":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/db\/jdbc\/JdbcDatabaseManager.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["81","      <action issue=\"LOG4J2-2612\" dev=\"ggregory\" type=\"fix\">\r","82","        NullPointerException at org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.writeInternal(JdbcDatabaseManager.java:803).\r","83","      <\/action>\r"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/db\/jdbc\/JdbcDatabaseManager.java":[{"add":["27","import java.sql.Statement;","483","            connClosed = isClosed(this.connection);","489","            stmtClosed = isClosed(this.statement);","512","    \tfinal PreparedStatement tempPreparedStatement = this.statement;","513","    \tthis.statement = null;","517","            Closer.close(tempPreparedStatement);","524","        final Connection tempConnection = this.connection;","525","        this.connection = null;","529","            Closer.close(tempConnection);","659","\t\/**","660","\t * Checks if a statement is closed. A null statement is considered closed.","661","\t *","662","\t * @param statement The statement to check.","663","\t * @return true if a statement is closed, false if null.","664","\t * @throws SQLException if a database access error occurs","665","\t *\/","666","\tprivate boolean isClosed(final Statement statement) throws SQLException {","667","\t\treturn statement == null || statement.isClosed();","668","\t}","669","","670","\t\/**","671","\t * Checks if a connection is closed. A null connection is considered closed.","672","\t *","673","\t * @param connection The connection to check.","674","\t * @return true if a connection is closed, false if null.","675","\t * @throws SQLException if a database access error occurs","676","\t *\/","677","\tprivate boolean isClosed(final Connection connection) throws SQLException {","678","\t\treturn connection == null || connection.isClosed();","679","\t}","680","","768","\t\t\tif (!this.isRunning() || isClosed(this.connection) || isClosed(this.statement)) {","769","\t\t\t\tthrow new AppenderLoggingException(","770","\t\t\t\t\t\t\"Cannot write logging event; JDBC manager not connected to the database.\");","771","\t\t\t}","841","            \t\/\/ statement can be null when a AppenderLoggingException is thrown at the start of this method","842","            \tif (statement != null) {","843","            \t\tstatement.clearParameters();","844","            \t}"],"delete":["482","            connClosed = this.connection == null || this.connection.isClosed();","488","            stmtClosed = this.statement == null || this.statement.isClosed();","514","            Closer.close(this.statement);","519","        } finally {","520","            this.statement = null;","526","            Closer.close(this.connection);","531","        } finally {","532","            this.connection = null;","745","            if (!this.isRunning() || this.connection == null || this.connection.isClosed() || this.statement == null","746","                    || this.statement.isClosed()) {","747","                throw new AppenderLoggingException(","748","                        \"Cannot write logging event; JDBC manager not connected to the database.\");","749","            }","819","                statement.clearParameters();"]}]}},"f91ce9347be991d052e76a4f620cc343322b4edb":{"changes":{"core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/net\/SocketReconnectTest.java":"MODIFY","core\/src\/test\/java\/org\/apache\/logging\/log4j\/test\/layout\/BasicLayout.java":"ADD","core\/src\/test\/resources\/log4j-socket.xml":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/OutputStreamManager.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/net\/DatagramOutputStream.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/net\/SocketReconnectTest.java":[{"add":["31","import java.util.ArrayList;","32","import java.util.List;","39","import static org.junit.Assert.*;","54","        List<String> list = new ArrayList<String>();","55","        TestSocketServer server = new TestSocketServer(list);","56","        server.start();","57","        Thread.sleep(300);","59","        \/\/System.err.println(\"Initializing logger\");","60","        final Logger logger = LogManager.getLogger(SocketReconnectTest.class);","62","        String message = \"Log #1\";","63","        logger.error(message);","64","        String expectedHeader = \"Header\";","66","        String msg = null;","67","        String header = null;","68","        for (int i = 0; i < 5; ++i) {","69","            Thread.sleep(100);","70","            if (list.size() > 1) {","71","                header = list.get(0);","72","                msg = list.get(1);","73","                break;","75","        }","76","        assertNotNull(\"No header\", header);","77","        assertEquals(expectedHeader, header);","78","        assertNotNull(\"No message\", msg);","79","        assertEquals(message, msg);","81","        server.shutdown();","82","        server.join();","84","        list.clear();","85","","86","        message = \"Log #2\";","87","        boolean exceptionCaught = false;","88","","89","        for (int i = 0; i < 5; ++i) {","93","                exceptionCaught = true;","94","                break;","98","        assertTrue(\"No Exception thrown\", exceptionCaught);","99","        message = \"Log #3\";","100","","101","","102","        server = new TestSocketServer(list);","103","        server.start();","104","        Thread.sleep(300);","105","","106","        msg = null;","107","        header = null;","108","        logger.error(message);","109","        for (int i = 0; i < 5; ++i) {","110","            Thread.sleep(100);","111","            if (list.size() > 1) {","112","                header = list.get(0);","113","                msg = list.get(1);","114","                break;","115","            }","116","        }","117","        assertNotNull(\"No header\", header);","118","        assertEquals(expectedHeader, header);","119","        assertNotNull(\"No message\", msg);","120","        assertEquals(message, msg);","121","        server.shutdown();","122","        server.join();","126","    private static class TestSocketServer extends Thread {","127","        private volatile boolean shutdown = false;","128","        private List<String> list;","131","        public TestSocketServer(List<String> list) {","132","            this.list = list;","135","        public void run() {","136","            ServerSocket server = null;","137","            client = null;","138","            try {","139","                server = new ServerSocket(SOCKET_PORT);","140","                client = server.accept();","141","                while (!shutdown) {","142","                    BufferedReader reader = new BufferedReader(new InputStreamReader(client.getInputStream()));","143","                    list.add(reader.readLine());","144","                }","145","            } catch (Exception ex) {","146","                ex.printStackTrace();","147","            } finally {","148","                if (client != null) {","149","                    try {","150","                        client.close();","151","                    } catch (Exception ex) {","152","                        System.out.println(\"Unable to close socket \" + ex.getMessage());","153","                    }","154","                }","155","                if (server != null) {","156","                    try {","157","                        server.close();","158","                    } catch (Exception ex) {","159","                        System.out.println(\"Unable to close server socket \" + ex.getMessage());","160","                    }","165","        public void shutdown() {","166","            shutdown = true;","167","            try {","168","                client.shutdownInput();","169","            } catch (Exception ex) {","170","                ex.printStackTrace();"],"delete":["37","import static org.junit.Assert.assertEquals;","38","import static org.junit.Assert.fail;","52","        TestSocketServer testServer = null;","53","        ExecutorService executor = null;","54","        Future<InputStream> futureIn;","55","        final InputStream in;","57","        try {","58","            executor = Executors.newSingleThreadExecutor();","59","            System.err.println(\"Initializing server\");","60","            testServer = new TestSocketServer();","61","            futureIn = executor.submit(testServer);","62","            Thread.sleep(300);","64","            \/\/System.err.println(\"Initializing logger\");","65","            final Logger logger = LogManager.getLogger(SocketReconnectTest.class);","67","            String message = \"Log #1\";","68","            logger.error(message);","70","            BufferedReader reader = new BufferedReader(new InputStreamReader(futureIn.get()));","71","            assertEquals(message, reader.readLine());","72","","73","            closeQuietly(testServer);","74","            executor.shutdown();","75","            try {","76","                \/\/ Wait a while for existing tasks to terminate","77","                if (!executor.awaitTermination(100, TimeUnit.MILLISECONDS)) {","78","                    executor.shutdownNow();","79","                    if (!executor.awaitTermination(100, TimeUnit.MILLISECONDS)) {","80","                        System.err.println(\"Pool did not terminate\");","81","                    }","82","                }","83","            } catch (InterruptedException ie) {","84","                \/\/ (Re-)Cancel if current thread also interrupted","85","                executor.shutdownNow();","86","                \/\/ Preserve interrupt status","87","                Thread.currentThread().interrupt();","90","            message = \"Log #2\";","91","            logger.error(message);","93","            message = \"Log #3\";","99","","100","            \/\/System.err.println(\"Re-initializing server\");","101","            executor = Executors.newSingleThreadExecutor();","102","            testServer = new TestSocketServer();","103","            futureIn = executor.submit(testServer);","104","            Thread.sleep(500);","105","","106","            try {","107","                logger.error(message);","108","                reader = new BufferedReader(new InputStreamReader(futureIn.get()));","109","                assertEquals(message, reader.readLine());","110","            } catch (final AppenderRuntimeException e) {","111","                e.printStackTrace();","112","                fail(\"Unexpected Exception\");","113","            }","114","            \/\/System.err.println(\"Sleeping to demonstrate repeated re-connections\");","115","            \/\/Thread.sleep(5000);","116","        } finally {","117","            closeQuietly(testServer);","118","            closeQuietly(executor);","123","    private static class TestSocketServer implements Callable<InputStream> {","124","        private ServerSocket server;","127","        public InputStream call() throws Exception {","128","            server = new ServerSocket(SOCKET_PORT);","129","            client = server.accept();","130","            return client.getInputStream();","133","        public void close() {","134","            closeQuietly(client);","135","            closeQuietly(server);","136","        }","137","","138","        private void closeQuietly(final ServerSocket socket) {","139","            if (null != socket) {","140","                try {","141","                    socket.close();","142","                } catch (final IOException ignore) {","147","        private void closeQuietly(final Socket socket) {","148","            if (null != socket) {","149","                try {","150","                    socket.close();","151","                } catch (final IOException ignore) {","152","                }","156","","157","    private static void closeQuietly(final ExecutorService executor) {","158","        if (null != executor) {","159","            executor.shutdownNow();","160","        }","161","    }","162","","163","    private static void closeQuietly(final TestSocketServer testServer) {","164","        if (null != testServer) {","165","            testServer.close();","166","        }","167","    }"]}],"core\/src\/test\/java\/org\/apache\/logging\/log4j\/test\/layout\/BasicLayout.java":[{"add":[],"delete":[]}],"core\/src\/test\/resources\/log4j-socket.xml":[{"add":["1","<configuration status=\"warn\" name=\"MyApp\" packages=\"org.apache.logging.log4j.test\">","4","\t\t\t\treconnectionDelay=\"100\">","5","\t\t\t<BasicLayout \/>"],"delete":["1","<configuration status=\"debug\" name=\"MyApp\">","4","\t\t\t\treconnectionDelay=\"250\">","5","\t\t\t<PatternLayout pattern=\"%msg%n\"\/>"]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/OutputStreamManager.java":[{"add":["30","    private byte[] header = null;","57","            this.header = header;","101","        if (header != null) {","102","            try {","103","                this.os.write(header, 0, header.length);","104","            } catch (final IOException ioe) {","105","                LOGGER.error(\"Unable to write header\", ioe);","106","            }","107","        }"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/net\/DatagramOutputStream.java":[{"add":["91","        if (this.data != null && this.ds != null && this.address != null) {"],"delete":["91","        if (this.ds != null && this.address != null) {"]}],"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-181\" dev=\"rgoers\" type=\"fix\">","26","        OutputStreamManager now adds the layout header whenever the OutputStream is set.","27","      <\/action>","28","      <action issue=\"LOG4J2-177\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","29","        Fix NullPointerException in DatagramOutputStream when flush is called from multiple threads.","30","      <\/action>"],"delete":[]}]}},"cf919cb6d14b7755dcba8718aaef3db6368c73f4":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerTimestampMessageTest.java":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerTimestampMessageTest.java":[{"add":["37","import static org.junit.Assert.*;","38","","70","        assertFalse(PoisonClock.called);","72","        assertTrue(PoisonClock.called);","84","        public static boolean called = false;","87","            \/\/throw new RuntimeException(\"This should not have been called\");","88","            called = true;","89","            return 987654321L;"],"delete":["18","import static org.junit.Assert.assertNotNull;","19","import static org.junit.Assert.assertTrue;","20","","85","            throw new RuntimeException(\"This should not have been called\");"]}]}},"10ad73fbce5b10df4b94986f9058164bf291cbc9":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/LoggersPluginTest.java":"ADD","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/LoggersPlugin.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/util\/PluginBuilder.java":"MODIFY","log4j-core\/src\/test\/resources\/multipleRootLoggersTest.xml":"ADD"},"diff":{"src\/changes\/changes.xml":[{"add":["33","      <action issue=\"LOG4J2-1954\" dev=\"rpopma\" type=\"update\">","34","        Configurations with multiple root loggers now fail loudly.","35","      <\/action>"],"delete":[]}],"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/LoggersPluginTest.java":[{"add":[],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/LoggersPlugin.java":[{"add":["47","                    if (root != null) {","48","                        throw new IllegalStateException(\"Configuration has multiple root loggers. There can be only one.\");","49","                    }"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/util\/PluginBuilder.java":[{"add":["124","            LOGGER.error(\"Unable to inject fields into builder class for plugin type {}, element {}: {}\",","125","                    this.clazz, node.getName(),","126","                    (e instanceof InvocationTargetException ? ((InvocationTargetException) e).getCause() : e).toString(), e);","134","            LOGGER.error(\"Unable to invoke factory method in {} for element {}: {}\",","135","                    this.clazz, this.node.getName(),","136","                    (e instanceof InvocationTargetException ? ((InvocationTargetException) e).getCause() : e).toString(), e);"],"delete":["124","            LOGGER.error(\"Unable to inject fields into builder class for plugin type {}, element {}.\", this.clazz,","125","                node.getName(), e);","133","            LOGGER.error(\"Unable to invoke factory method in class {} for element {}.\", this.clazz, this.node.getName(),","134","                e);"]}],"log4j-core\/src\/test\/resources\/multipleRootLoggersTest.xml":[{"add":[],"delete":[]}]}},"f113499bcff6f5014a838a9dfa68e720c654b261":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/impl\/ReusableLogEventFactoryTest.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/impl\/ReusableLogEventFactory.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/impl\/ReusableLogEventFactoryTest.java":[{"add":["100","    @Test","101","    public void testCreateEventInitFieldsProperly() throws Exception {","102","        final ReusableLogEventFactory factory = new ReusableLogEventFactory();","103","        LogEvent event = callCreateEvent(factory, \"logger\", Level.INFO, new SimpleMessage(\"xyz\"), null);","104","        assertNotNull(event.getContextMap());","105","        assertNotNull(event.getContextStack());","106","    }","107",""],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/impl\/ReusableLogEventFactory.java":[{"add":["75","        result.setContextStack(ThreadContext.getDepth() == 0 ? ThreadContext.EMPTY_STACK : ThreadContext.cloneStack());\/\/ mutable copy"],"delete":["75","        result.setContextStack(ThreadContext.getDepth() == 0 ? null : ThreadContext.cloneStack());\/\/ mutable copy"]}],"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1530\" dev=\"mikes\" type=\"fix\">","27","        LogEvent.getContextStack() can return null.","28","      <\/action>"],"delete":[]}]}},"d6c32d3c73ae3034ddc29239702de35bb59c0ef3":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/pattern\/ThrowablePatternConverter.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/pattern\/ThrowablePatternConverter.java":[{"add":["62","    @Deprecated"],"delete":[]}]}},"3c2148e81e7351f2108f3f5a2e26af8ea49804d9":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/filter\/LevelRangeFilter.java":"MODIFY","log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/filter\/LevelRangeFilterTest.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1559\" dev=\"ggregory\" type=\"fix\" due-to=\"Andrey Plotkin\">","27","        NPE in Level.isInRange.","28","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/filter\/LevelRangeFilter.java":[{"add":["63","        final Level actualMaxLevel = maxLevel == null ? Level.ERROR : maxLevel;"],"delete":["63","        final Level actualMaxLevel = minLevel == null ? Level.ERROR : maxLevel;"]}],"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/filter\/LevelRangeFilterTest.java":[{"add":["50","","51","    @Test","52","    public void testMinimumOnlyLevel() {","53","        final LevelRangeFilter filter = LevelRangeFilter.createFilter(Level.ERROR, null, null, null);","54","        filter.start();","55","        assertTrue(filter.isStarted());","56","        assertSame(Filter.Result.NEUTRAL, filter.filter(null, Level.ERROR, null, (Object) null, (Throwable) null));","57","    }","58","    "],"delete":[]}]}},"aabb33971bdde1f74679384f992fc2035013906c":{"changes":{"log4j-core\/src\/main\/resources\/Log4j-config.xsd":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-core\/src\/main\/resources\/Log4j-config.xsd":[{"add":["115","            <xs:element name=\"AppenderRef\" type=\"AppenderRefType\" maxOccurs=\"unbounded\" minOccurs=\"1\"\/>"],"delete":["115","            <xs:element name=\"AppenderRef\" type=\"AppenderRefType\"\/>"]}],"src\/changes\/changes.xml":[{"add":["42","      <action issue=\"LOG4J2-1982\" dev=\"ggregory\" type=\"fix\" due-to=\"Christoph Lembeck\">","43","        Log4j-config.xsd only allows one AppenderRef element for each Logger element.","44","      <\/action>"],"delete":[]}]}},"cb3ee2b6ef9d888c3b269b3fa8c0d1d9345ecc5c":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/RingBufferLogEventTranslator.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/RingBufferLogEventTranslator.java":[{"add":["39","    private static final ContextDataInjector INJECTOR = ContextDataInjectorFactory.createInjector();","62","                INJECTOR.injectContextData(null, (StringMap) event.getContextData()), contextStack,"],"delete":["39","    private final ContextDataInjector injector = ContextDataInjectorFactory.createInjector();","62","                injector.injectContextData(null, (StringMap) event.getContextData()), contextStack,"]}],"src\/changes\/changes.xml":[{"add":["84","      <action issue=\"LOG4J2-2867\" dev=\"ckozak\" type=\"fix\">","85","        RingBufferLogEventTranslator uses a static ContextDataInjector instead of initializing a new object","86","        on each thread.","87","      <\/action>"],"delete":[]}]}},"7b13505a82e7afeb2d89518ad36597e233790572":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/net\/SocketAppenderReconnectTest.java":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/net\/SocketAppenderReconnectTest.java":[{"add":["30","import org.apache.logging.log4j.util.PropertiesUtil;","191","                awaitUntilSucceeds(() -> logger.info(message));","201","    private static void awaitUntilSucceeds(final Runnable runnable) {","202","        final long pollIntervalMillis;","203","        final long timeoutSeconds;","204","        final boolean osWindows = PropertiesUtil.getProperties().isOsWindows();","205","        if (osWindows) {","206","            \/\/ Windows-specific non-sense values.","207","            \/\/ These figures are collected by trial-and-error on a friend's laptop which has Windows installed.","208","            pollIntervalMillis = 1_000L;","209","            timeoutSeconds = 15;","210","        } else {","211","            \/\/ Universally sensible values.","212","            pollIntervalMillis = 100;","213","            timeoutSeconds = 3;","214","        }","215","        await()","216","                .pollInterval(pollIntervalMillis, TimeUnit.MILLISECONDS)","217","                .atMost(timeoutSeconds, TimeUnit.SECONDS)","218","                .until(() -> {","219","                    runnable.run();","220","                    return true;","221","                });","222","    }","223",""],"delete":["190","                await()","191","                        .pollInterval(100, TimeUnit.MILLISECONDS)","192","                        .atMost(2, TimeUnit.SECONDS)","193","                        .until(() -> {","194","                            logger.info(message);","195","                            return true;","196","                        });"]}]}},"c5ea0659efb49b81b697625010504d59891fca39":{"changes":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/util\/ReflectionUtil.java":"MODIFY"},"diff":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/util\/ReflectionUtil.java":[{"add":["82","        } catch (final Exception | LinkageError e) {"],"delete":["82","        } catch (final Throwable e) {"]}]}},"31340441e844383efe640e051a3d747a3ef9cd00":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerDisruptor.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-jul\/pom.xml":"MODIFY","log4j-jul\/src\/test\/java\/org\/apache\/logging\/log4j\/jul\/AsyncLoggerThreadsTest.java":"ADD"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerDisruptor.java":[{"add":["88","        if (isStarting()) {","89","            LOGGER.trace(\"[{}] AsyncLoggerDisruptor is already starting.\", contextName);","90","            return;","91","        }","92","        setStarting();"],"delete":[]}],"src\/changes\/changes.xml":[{"add":["80","      <action issue=\"LOG4J2-2837\" dev=\"ckozak\" type=\"fix\">","81","        Disruptor and JUL no longer recursively start the AsyncLoggerDisruptor","82","        resulting in an extra disruptor background thread constantly waiting.","83","      <\/action>"],"delete":[]}],"log4j-jul\/pom.xml":[{"add":["62","    <!-- Required for AsyncLogger testing -->","63","    <dependency>","64","      <groupId>com.lmax<\/groupId>","65","      <artifactId>disruptor<\/artifactId>","66","      <scope>test<\/scope>","67","    <\/dependency>"],"delete":[]}],"log4j-jul\/src\/test\/java\/org\/apache\/logging\/log4j\/jul\/AsyncLoggerThreadsTest.java":[{"add":[],"delete":[]}]}},"7de998159e2cfb9cda0170572bc0273d1eb18b84":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingAppenderSizeWithTimeTest.java":"MODIFY","log4j-core\/src\/test\/resources\/log4j-rolling-size-with-time.xml":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingAppenderSizeWithTimeTest.java":[{"add":["63","        for (int i = 0; i < 5000; ++i) {","68","                Thread.sleep(10);"],"delete":["63","        for (int i = 0; i < 1000; ++i) {","68","                Thread.sleep(500);"]}],"log4j-core\/src\/test\/resources\/log4j-rolling-size-with-time.xml":[{"add":["30","      <SizeBasedTriggeringPolicy size=\"5000\" \/>"],"delete":["30","      <SizeBasedTriggeringPolicy size=\"1000\" \/>"]}]}},"a686a4e8c66f2eefc7814962450eb18054ed8ab5":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLogger.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1779\" dev=\"rpopma\" type=\"fix\">","27","        Fixed bug where AsyncLogger did not resolve configuration properties.","28","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLogger.java":[{"add":["330","                contextData.putValue(prop.getName(), value);"],"delete":["330","                contextData.putValue(prop.getName(), prop.getValue());"]}]}},"a4e217c9ba3810a4e3677c8ba9a39345586bc4bf":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/ZipCompressAction.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfAccumulatedFileSize.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfLastModified.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfAny.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/GzCompressAction.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfAll.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/CommonsCompressAction.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/DeleteAction.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfNot.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfAccumulatedFileCount.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/FileRenameAction.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfFileName.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/ZipCompressAction.java":[{"add":["31","    private static final int BUF_SIZE = 8192;"],"delete":["31","    private static final int BUF_SIZE = 8102;"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfAccumulatedFileSize.java":[{"add":["98","    public static IfAccumulatedFileSize createFileSizeCondition( "],"delete":["98","    public static IfAccumulatedFileSize createFileSizeCondition( \/\/"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfLastModified.java":[{"add":["100","    public static IfLastModified createAgeCondition( ","102","            @PluginAttribute(\"age\") final Duration age, "],"delete":["100","    public static IfLastModified createAgeCondition( \/\/","102","            @PluginAttribute(\"age\") final Duration age, \/\/"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfAny.java":[{"add":["77","    public static IfAny createOrCondition( "],"delete":["77","    public static IfAny createOrCondition( \/\/"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/GzCompressAction.java":[{"add":["31","    private static final int BUF_SIZE = 8192;","123","        return GzCompressAction.class.getSimpleName() + '[' + source + \" to \" + destination "],"delete":["31","    private static final int BUF_SIZE = 8102;","123","        return GzCompressAction.class.getSimpleName() + '[' + source + \" to \" + destination \/\/"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfAll.java":[{"add":["107","    public static IfAll createAndCondition( "],"delete":["107","    public static IfAll createAndCondition( \/\/"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/CommonsCompressAction.java":[{"add":["35","    private static final int BUF_SIZE = 8192;","38","     * Compressor name. One of \"gz\", \"bzip2\", \"xz\", \"pack200\" or \"deflate\".","142","        return CommonsCompressAction.class.getSimpleName() + '[' + source + \" to \" + destination "],"delete":["35","    private static final int BUF_SIZE = 8102;","38","     * Compressor name. One of \"gz\", \"bzip2\", \"xz\", \"pack200\", or \"deflate\".","142","        return CommonsCompressAction.class.getSimpleName() + '[' + source + \" to \" + destination \/\/"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/DeleteAction.java":[{"add":["201","            @PluginAttribute(\"basePath\") final String basePath, "],"delete":["201","            @PluginAttribute(\"basePath\") final String basePath, \/\/"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfNot.java":[{"add":["68","    public static IfNot createNotCondition( "],"delete":["68","    public static IfNot createNotCondition( \/\/"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfAccumulatedFileCount.java":[{"add":["96","    public static IfAccumulatedFileCount createFileCountCondition( "],"delete":["96","    public static IfAccumulatedFileCount createFileCountCondition( \/\/"]}],"src\/changes\/changes.xml":[{"add":["45","      <action issue=\"LOG4J2-1985\" dev=\"ggregory\" type=\"fix\" due-to=\"Kenneth McFarland\">","46","        Fix default buffer size to match documentation (from 8102 to 8192 a.k.a. 8KB.)","47","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/FileRenameAction.java":[{"add":["176","        return FileRenameAction.class.getSimpleName() + '[' + source + \" to \" + destination"],"delete":["176","        return FileRenameAction.class.getSimpleName() + '[' + source + \" to \" + destination \/\/"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/action\/IfFileName.java":[{"add":["135","    public static IfFileName createNameCondition( ","137","            @PluginAttribute(\"glob\") final String glob, ","138","            @PluginAttribute(\"regex\") final String regex, "],"delete":["135","    public static IfFileName createNameCondition( \/\/","137","            @PluginAttribute(\"glob\") final String glob, \/\/","138","            @PluginAttribute(\"regex\") final String regex, \/\/"]}]}},"0572275c704ff14b8b63ed466cc6ea59becc73d9":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2832\" dev=\"rgoers\" type=\"fix\" due-to=\"Benjamin Asbach\">","33","        Correct class name printed in error message in RollingFileAppender.","34","      <\/action>"],"delete":[]}]}},"805583764296e085a44a7a14dfb3d527be6c2a14":{"changes":{"web\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/web\/JNDIContextFilter.java":"MODIFY","api\/src\/main\/java\/org\/apache\/logging\/log4j\/LogManager.java":"MODIFY","api\/src\/main\/java\/org\/apache\/logging\/log4j\/simple\/SimpleLoggerContextFactory.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/selector\/BasicContextSelector.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/selector\/JNDIContextSelector.java":"MODIFY","log4j-to-slf4j\/src\/main\/java\/org\/apache\/logging\/slf4j\/SLF4JLoggerContextFactory.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/selector\/NamedContextSelector.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/Configurator.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/selector\/ClassLoaderContextSelector.java":"MODIFY","api\/src\/main\/java\/org\/apache\/logging\/log4j\/spi\/LoggerContextFactory.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/impl\/Log4jContextFactory.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","api\/src\/test\/java\/org\/apache\/logging\/log4j\/TestLoggerContextFactory.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/selector\/ContextSelector.java":"MODIFY"},"diff":{"web\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/web\/JNDIContextFilter.java":[{"add":["35","import java.net.URI;","57","        URI configLocation = null;","58","        String configLocn = filterConfig.getInitParameter(CONFIG_LOCATION);","59","        if (configLocn != null) {","60","            try {","61","                configLocation = new URI(configLocn);","62","            } catch (Exception ex) {","63","                context.log(\"Unable to convert config location \" + configLocn + \" to a URI: \" + ex.getMessage());","64","            }","65","        }","66","","77","                    ctx = selector.locateContext(name, configLocation);"],"delete":["56","        final String configLocn = filterConfig.getInitParameter(CONFIG_LOCATION);","67","                    ctx = selector.locateContext(name, configLocn);"]}],"api\/src\/main\/java\/org\/apache\/logging\/log4j\/LogManager.java":[{"add":["18","import java.net.URI;","25","import com.sun.xml.internal.xsom.impl.UnionSimpleTypeImpl;","170","     * Returns a LoggerContext.","171","     *","172","     * @param loader The ClassLoader for the context. If null the context will attempt to determine the appropriate","173","     * ClassLoader.","174","     * @param currentContext if false the LoggerContext appropriate for the caller of this method is returned. For","175","     * example, in a web application if the caller is a class in WEB-INF\/lib then one LoggerContext may be","176","     * returned and if the caller is a class in the container's classpath then a different LoggerContext may be","177","     * returned. If true then only a single LoggerContext will be returned.","178","     * @return a LoggerContext.","179","     *\/","180","    public static LoggerContext getContext(final ClassLoader loader, final boolean currentContext,","181","                                           URI configLocation) {","182","        return factory.getContext(LogManager.class.getName(), loader, currentContext, configLocation);","183","    }","184","","185","    \/**"],"delete":[]}],"api\/src\/main\/java\/org\/apache\/logging\/log4j\/simple\/SimpleLoggerContextFactory.java":[{"add":["21","import java.net.URI;","22","","33","","34","    public LoggerContext getContext(final String fqcn, final ClassLoader loader, final boolean currentContext,","35","                                    URI configLocation) {","36","        return context;","37","    }"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/selector\/BasicContextSelector.java":[{"add":["21","import java.net.URI;","39","","40","    public LoggerContext getContext(final String fqcn, final ClassLoader loader, final boolean currentContext,","41","                                    URI configLocation) {","42","","43","        final LoggerContext ctx = ContextAnchor.THREAD_CONTEXT.get();","44","        return ctx != null ? ctx : CONTEXT;","45","    }","46",""],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/selector\/JNDIContextSelector.java":[{"add":["27","import java.net.URI;","97","        return getContext(fqcn, loader, currentContext, null);","98","    }","99","","100","    public LoggerContext getContext(final String fqcn, final ClassLoader loader, final boolean currentContext,","101","                                    URI configLocation) {","117","        return loggingContextName == null ? CONTEXT : locateContext(loggingContextName, configLocation);","120","    public LoggerContext locateContext(final String name, final URI configLocation) {"],"delete":["111","        return loggingContextName == null ? CONTEXT : locateContext(loggingContextName, null);","114","    public LoggerContext locateContext(final String name, final String configLocation) {"]}],"log4j-to-slf4j\/src\/main\/java\/org\/apache\/logging\/slf4j\/SLF4JLoggerContextFactory.java":[{"add":["21","import java.net.URI;","22","","32","","33","    public LoggerContext getContext(final String fqcn, final ClassLoader loader, final boolean currentContext,","34","                                    URI configLocation) {","35","        return context;","36","    }"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/selector\/NamedContextSelector.java":[{"add":["20","import java.net.URI;","21","","33","    LoggerContext locateContext(String name, URI configLocation);"],"delete":["31","    LoggerContext locateContext(String name, String configLocation);"]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/Configurator.java":[{"add":["59","            final LoggerContext ctx = (LoggerContext) LogManager.getContext(loader, false, configLocation);","79","            URI configLocation = null;","80","            try {","81","                configLocation = source.getLocation() == null ? null : new URI(source.getLocation());","82","            } catch (Exception ex) {","83","                \/\/ Invalid source location.","84","            }","85","            final LoggerContext ctx = (LoggerContext) LogManager.getContext(loader, false, configLocation);"],"delete":["59","            final LoggerContext ctx = (LoggerContext) LogManager.getContext(loader, false);","79","            final LoggerContext ctx = (LoggerContext) LogManager.getContext(loader, false);"]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/selector\/ClassLoaderContextSelector.java":[{"add":["26","import java.net.URI;","65","        return getContext(fqcn, loader, currentContext, null);","66","    }","67","","68","    public LoggerContext getContext(final String fqcn, final ClassLoader loader, final boolean currentContext,","69","                                    URI configLocation) {","77","            return locateContext(loader, configLocation);","98","                        return locateContext(clazz.getClassLoader(), configLocation);","110","                    return locateContext(ldr, configLocation);","129","                    return locateContext(Loader.loadClass(name).getClassLoader(), configLocation);","163","    private LoggerContext locateContext(final ClassLoader loader, final URI configLocation) {","165","        AtomicReference<WeakReference<LoggerContext>> ref = CONTEXT_MAP.get(name);","167","            if (configLocation == null) {","168","                ClassLoader parent = loader.getParent();","169","                while (parent != null) {","170","","171","                    ref = CONTEXT_MAP.get(parent.toString());","172","                    if (ref != null) {","173","                        final WeakReference<LoggerContext> r = ref.get();","174","                        LoggerContext ctx = r.get();","175","                        if (ctx != null) {","176","                            return ctx;","177","                        }","178","                    }","179","                    parent = parent.getParent();","180","                    \/*  In Tomcat 6 the parent of the JSP classloader is the webapp classloader which would be","181","                    configured by the WebAppContextListener. The WebAppClassLoader is also the ThreadContextClassLoader.","182","                    In JBoss 5 the parent of the JSP ClassLoader is the WebAppClassLoader which is also the","183","                    ThreadContextClassLoader. However, the parent of the WebAppClassLoader is the ClassLoader","184","                    that is configured by the WebAppContextListener.","185","","186","                    ClassLoader threadLoader = null;","187","                    try {","188","                        threadLoader = Thread.currentThread().getContextClassLoader();","189","                    } catch (Exception ex) {","190","                        \/\/ Ignore SecurityException","191","                    }","192","                    if (threadLoader != null && threadLoader == parent) {","193","                        break;","194","                    } else {","195","                        parent = parent.getParent();","196","                    } *\/","197","                }","198","            }"],"delete":["71","            return locateContext(loader, null);","92","                        return locateContext(clazz.getClassLoader(), null);","104","                    return locateContext(ldr, null);","123","                    return locateContext(Loader.loadClass(name).getClassLoader(), null);","157","    private LoggerContext locateContext(final ClassLoader loader, final String configLocation) {","159","        final AtomicReference<WeakReference<LoggerContext>> ref = CONTEXT_MAP.get(name);"]}],"api\/src\/main\/java\/org\/apache\/logging\/log4j\/spi\/LoggerContextFactory.java":[{"add":["18","import java.net.URI;","19","","35","","36","    \/**","37","     * Creates a {@link LoggerContext}.","38","     *","39","     * @param fqcn The fully qualified class name of the caller.","40","     * @param loader The ClassLoader to use or null.","41","     * @param currentContext If true returns the current Context, if false returns the Context appropriate","42","     * for the caller if a more appropriate Context can be determined.","43","     * @param configLocation The location of the configuration for the LoggerContext.","44","     * @return The LoggerContext.","45","     *\/","46","    LoggerContext getContext(String fqcn, ClassLoader loader, boolean currentContext, URI configLocation);"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/impl\/Log4jContextFactory.java":[{"add":["27","import java.net.URI;","28","","81","","82","","83","    \/**","84","     * Load the LoggerContext using the ContextSelector.","85","     * @param fqcn The fully qualified class name of the caller.","86","     * @param loader The ClassLoader to use or null.","87","     * @param currentContext If true returns the current Context, if false returns the Context appropriate","88","     * for the caller if a more appropriate Context can be determined.","89","     * @param configLocation The location of the configuration for the LoggerContext.","90","     * @return The LoggerContext.","91","     *\/","92","    public LoggerContext getContext(final String fqcn, final ClassLoader loader, final boolean currentContext,","93","                                    URI configLocation) {","94","        final LoggerContext ctx = selector.getContext(fqcn, loader, currentContext, configLocation);","95","        if (ctx.getStatus() == LoggerContext.Status.INITIALIZED) {","96","            ctx.start();","97","        }","98","        return ctx;","99","    }"],"delete":[]}],"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-161\" dev=\"rgoers\">","26","        Modify ClassLoaderContextSelector to use the first ClassLoader in the child parent hierarchy that","27","        has a Context with a configuration to allow JSPs to use the WebApp's context and configuration.","28","      <\/action>"],"delete":[]}],"api\/src\/test\/java\/org\/apache\/logging\/log4j\/TestLoggerContextFactory.java":[{"add":["21","import java.net.URI;","22","","33","","34","    public LoggerContext getContext(final String fqcn, final ClassLoader loader, final boolean currentContext,","35","                                    URI configLocation) {","36","        return context;","37","    }"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/selector\/ContextSelector.java":[{"add":["20","import java.net.URI;","39","     * Returns the LoggerContext.","40","     * @param fqcn The fully qualified class name of the caller.","41","     * @param loader ClassLoader to use or null.","42","     * @param currentContext If true returns the current Context, if false returns the Context appropriate","43","     * for the caller if a more appropriate Context can be determined.","44","     * @param configLocation The location of the configuration for the LoggerContext.","45","     * @return The LoggerContext.","46","     *\/","47","    LoggerContext getContext(String fqcn, ClassLoader loader, boolean currentContext, URI configLocation);","48","","49","    \/**"],"delete":[]}]}},"461bbab6029746ff40017e8ef37aa556f02f91b2":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["29","        Include arbitrary message fields in RFC-5424 structured data."],"delete":["29","        Allow elements of the logging event to be added to the MDC structured data in RFC5424Layout."]}]}},"46f2f78d7052b2b1488982ca4ec09a03d6a9a316":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["27","        Prevent deadlock in Async Loggers when queue is full and logged Object's toString() logs another message."],"delete":["27","        Prevent deadlock in Async Loggers when logged Object's toString() logs another message."]}]}},"91bca37f518be9e59195a5995f69a70a5b2e756e":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["57","      <action issue=\"LOG4J2-1994\" dev=\"ggregory\" type=\"fix\">","58","        TcpSocketServer does not close accepted Sockets.","59","      <\/action>"],"delete":[]}]}},"def9908fc399b9fa1f57b219449ad0b8e464c42a":{"changes":{"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/AsyncLoggerTest.java":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/AsyncLoggerContextSelectorTest.java":"MODIFY","log4j-async\/src\/test\/resources\/FastRollingFileAppenderLocationTest.xml":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/config\/AsyncLoggerConfigTest.java":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/SystemClockTest.java":"MODIFY","log4j-async\/src\/main\/java\/org\/apache\/logging\/log4j\/async\/ClockFactory.java":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/AsyncLoggerContextTest.java":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/AsyncLoggerLocationTest.java":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileAppenderTest.java":"MODIFY","log4j-async\/src\/test\/resources\/AsyncLoggerTest.xml":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastFileAppenderLocationTest.java":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/CachedClockTest.java":"MODIFY","log4j-async\/src\/test\/resources\/AsyncLoggerLocationTest.xml":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastFileAppenderTest.java":"MODIFY","log4j-async\/src\/test\/resources\/FastRollingFileAppenderTest.xml":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileAppenderLocationTest.java":"MODIFY","log4j-async\/src\/test\/resources\/FastFileAppenderTest.xml":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileAppenderRolloverTest.java":"ADD","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/ClockFactoryTest.java":"MODIFY","log4j-async\/src\/test\/resources\/AsyncLoggerConfigTest.xml":"MODIFY","log4j-async\/src\/test\/resources\/FastFileAppenderLocationTest.xml":"MODIFY"},"diff":{"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/AsyncLoggerTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","50","        File f = new File(\"target\", \"AsyncLoggerTest.log\");"],"delete":["34","        File f = new File(\"AsyncLoggerTest.log\");"]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/AsyncLoggerContextSelectorTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","31","","39","","47",""],"delete":["15","        ","23","        ","31","        "]}],"log4j-async\/src\/test\/resources\/FastRollingFileAppenderLocationTest.xml":[{"add":["3","    <FastRollingFile name=\"FastRollingFile\" fileName=\"target\/FastRollingFileAppenderLocationTest.log\""],"delete":["3","    <FastRollingFile name=\"FastRollingFile\" fileName=\"FastRollingFileAppenderLocationTest.log\""]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/config\/AsyncLoggerConfigTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","41","        File f = new File(\"target\", \"AsyncLoggerConfigTest.log\");"],"delete":["25","        File f = new File(\"AsyncLoggerConfigTest.log\");"]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/SystemClockTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","28","","30","","39","","41",""],"delete":["12","        ","14","        ","23","        ","25","        "]}],"log4j-async\/src\/main\/java\/org\/apache\/logging\/log4j\/async\/ClockFactory.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/"],"delete":[]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/AsyncLoggerContextTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","33",""],"delete":["17","        "]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/AsyncLoggerLocationTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","50","        File f = new File(\"target\", \"AsyncLoggerLocationTest.log\");"],"delete":["34","        File f = new File(\"AsyncLoggerLocationTest.log\");"]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileAppenderTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","41","        File f = new File(\"target\", \"FastRollingFileAppenderTest.log\");"],"delete":["25","        File f = new File(\"FastRollingFileAppenderTest.log\");"]}],"log4j-async\/src\/test\/resources\/AsyncLoggerTest.xml":[{"add":["3","    <FastFile name=\"FastFile\" fileName=\"target\/AsyncLoggerTest.log\" "],"delete":["3","    <FastFile name=\"FastFile\" fileName=\"AsyncLoggerTest.log\" "]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastFileAppenderLocationTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","41","        File f = new File(\"target\", \"FastFileAppenderLocationTest.log\");"],"delete":["25","        File f = new File(\"FastFileAppenderLocationTest.log\");"]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/CachedClockTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","28","","30","","39","","41",""],"delete":["12","        ","14","        ","23","        ","25","        "]}],"log4j-async\/src\/test\/resources\/AsyncLoggerLocationTest.xml":[{"add":["3","    <FastFile name=\"FastFile\" fileName=\"target\/AsyncLoggerLocationTest.log\" "],"delete":["3","    <FastFile name=\"FastFile\" fileName=\"AsyncLoggerLocationTest.log\" "]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastFileAppenderTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","41","        File f = new File(\"target\", \"FastFileAppenderTest.log\");"],"delete":["25","        File f = new File(\"FastFileAppenderTest.log\");"]}],"log4j-async\/src\/test\/resources\/FastRollingFileAppenderTest.xml":[{"add":["3","    <FastRollingFile name=\"FastRollingFile\" fileName=\"target\/FastRollingFileAppenderTest.log\"","4","                 filePattern=\"target\/afterRollover-%i.log\" append=\"false\"","10","        <SizeBasedTriggeringPolicy size=\"250 B\"\/>"],"delete":["3","    <FastRollingFile name=\"FastRollingFile\" fileName=\"FastRollingFileAppenderTest.log\"","4","                 filePattern=\"test-%d{MM-dd-yyyy}-%i.log.gz\" append=\"false\"","10","        <TimeBasedTriggeringPolicy \/>"]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileAppenderLocationTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","41","        File f = new File(\"target\", \"FastRollingFileAppenderLocationTest.log\");"],"delete":["25","        File f = new File(\"FastRollingFileAppenderLocationTest.log\");"]}],"log4j-async\/src\/test\/resources\/FastFileAppenderTest.xml":[{"add":["3","    <FastFile name=\"FastFile\" fileName=\"target\/FastFileAppenderTest.log\" immediateFlush=\"false\" append=\"false\">"],"delete":["3","    <FastFile name=\"FastFile\" fileName=\"FastFileAppenderTest.log\" immediateFlush=\"false\" append=\"false\">"]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileAppenderRolloverTest.java":[{"add":[],"delete":[]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/ClockFactoryTest.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","72",""],"delete":["56","    "]}],"log4j-async\/src\/test\/resources\/AsyncLoggerConfigTest.xml":[{"add":["3","    <File name=\"File\" fileName=\"target\/AsyncLoggerConfigTest.log\" bufferedIO=\"false\" immediateFlush=\"true\" append=\"false\">"],"delete":["3","    <File name=\"File\" fileName=\"AsyncLoggerConfigTest.log\" bufferedIO=\"false\" immediateFlush=\"true\" append=\"false\">"]}],"log4j-async\/src\/test\/resources\/FastFileAppenderLocationTest.xml":[{"add":["3","    <FastFile name=\"FastFile\" fileName=\"target\/FastFileAppenderLocationTest.log\" immediateFlush=\"false\" append=\"false\">"],"delete":["3","    <FastFile name=\"FastFile\" fileName=\"FastFileAppenderLocationTest.log\" immediateFlush=\"false\" append=\"false\">"]}]}},"789d74ad3f2322e46b9e9b617108e36b49fae558":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/util\/ResolverUtilCustomProtocolTest.java":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/util\/ResolverUtilCustomProtocolTest.java":[{"add":["33","import org.apache.logging.log4j.junit.CleanFolders;","37","import org.junit.rules.RuleChain;","47","    @Rule","48","    public RuleChain chain = RuleChain.outerRule(new CleanFolders(ResolverUtilTest.WORK_DIR));","49","    ","188","                    .setClassLoader(new SingleURLClassLoader(new URL(\"vfs:\/\" + ResolverUtilTest.WORK_DIR + \"\/resolverutil3\/customplugin3\/\"), cl));","201","                    new URL(\"vfs:\/\" + ResolverUtilTest.WORK_DIR + \"\/resolverutil4\/customplugin4.jar\/customplugin4\/\"), cl));"],"delete":["183","                    .setClassLoader(new SingleURLClassLoader(new URL(\"vfs:\/target\/resolverutil3\/customplugin3\/\"), cl));","196","                    new URL(\"vfs:\/target\/resolverutil4\/customplugin4.jar\/customplugin4\/\"), cl));"]}]}},"8a5b2e0ba2e8d28479d1042f0f62e114bc04602c":{"changes":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/StructuredDataId.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/message\/StructuredDataId.java":[{"add":["97","    public StructuredDataId(final String name, final String[] required, final String[] optional, int maxLength) {\r","100","            if (maxLength <= 0) {\r","101","                maxLength = MAX_LENGTH;\r","102","            }\r","103","            if (name.length() > maxLength) {\r"],"delete":["97","    public StructuredDataId(final String name, final String[] required, final String[] optional,\r","98","                               final int maxLength) {\r","101","            if (maxLength > 0 && name.length() > MAX_LENGTH) {\r"]}],"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2622\" dev=\"rgoers\" type=\"fix\">\r","33","        StructuredDataId was ignoring maxLength atribute.\r","34","      <\/action>\r"],"delete":[]}]}},"2a5665ef8216e753ae9cb4b6c40c8cb1342e6a04":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerConfigDisruptor.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerDisruptor.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/DefaultAsyncQueueFullPolicy.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerConfigDisruptor.java":[{"add":["29","import org.apache.logging.log4j.core.util.Log4jThread;","386","                && backgroundThreadId != Thread.currentThread().getId()","387","                \/\/ Threads owned by log4j are most likely to result in","388","                \/\/ deadlocks because they generally consume events.","389","                \/\/ This prevents deadlocks between AsyncLoggerContext","390","                \/\/ disruptors.","391","                && !(Thread.currentThread() instanceof Log4jThread);"],"delete":["385","                && backgroundThreadId != Thread.currentThread().getId();"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerDisruptor.java":[{"add":["27","import org.apache.logging.log4j.core.util.Log4jThread;","284","                && backgroundThreadId != Thread.currentThread().getId()","285","                \/\/ Threads owned by log4j are most likely to result in","286","                \/\/ deadlocks because they generally consume events.","287","                \/\/ This prevents deadlocks between AsyncLoggerContext","288","                \/\/ disruptors.","289","                && !(Thread.currentThread() instanceof Log4jThread);"],"delete":["283","                && backgroundThreadId != Thread.currentThread().getId();"]}],"src\/changes\/changes.xml":[{"add":["77","      <action issue=\"LOG4J2-2895\" dev=\"ckozak\" type=\"fix\">","78","        Fix potential deadlock in asynchronous logging by avoiding blocking for queue space on Log4jThreads","79","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/DefaultAsyncQueueFullPolicy.java":[{"add":["19","import org.apache.logging.log4j.core.util.Log4jThread;","32","        Thread currentThread = Thread.currentThread();","33","        if (currentThread.getId() == backgroundThreadId","34","                \/\/ Threads owned by log4j are most likely to result in","35","                \/\/ deadlocks because they generally consume events.","36","                \/\/ This prevents deadlocks between AsyncLoggerContext","37","                \/\/ disruptors.","38","                || currentThread instanceof Log4jThread) {"],"delete":["31","        if (Thread.currentThread().getId() == backgroundThreadId) {"]}]}},"b95e8fb4d6ad8fb5ba6f72ccd15fbe24a02ccc3e":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/script\/ScriptManager.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/script\/ScriptManager.java":[{"add":["24","import java.util.Objects;","83","                String threading = Objects.toString(factory.getParameter(KEY_THREADING), null);"],"delete":["82","                String threading = (String) factory.getParameter(KEY_THREADING);"]}],"src\/changes\/changes.xml":[{"add":["84","      <action issue=\"LOG4J2-2618\" dev=\"ggregory\" type=\"fix\">\r","85","        Possible ClassCastException in org.apache.logging.log4j.core.script.ScriptManager.ScriptManager(Configuration, WatchManager)\r","86","      <\/action>\r"],"delete":[]}]}},"a705ab55f632e78a0934c551ed8ef68a52891b0f":{"changes":{"core\/pom.xml":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["180","            <Fragment-Host>org.apache.commons.log4j-api;bundle-version=${project.version.osgi}<\/Fragment-Host>","185","            <phase>generate-sources<\/phase>","186","            <goals>","187","              <goal>cleanVersions<\/goal>","188","            <\/goals>","189","            <configuration>","190","              <versions>","191","","192","                <project.version.osgi>${project.version}<\/project.version.osgi>","193","              <\/versions>","194","            <\/configuration>","195","          <\/execution>","196","          <execution>","369","\t\t\t    <!--"],"delete":["180","            <Fragment-Host>org.apache.commons.log4j-api;bundle-version=${project.version}<\/Fragment-Host>","357","\t\t\t    <!-- "]}],"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-159\" dev=\"rgoers\" type=\"fix\">","26","        Use OSGi version format in Fragment-Host","27","      <\/action>"],"delete":[]}]}},"7972089ad01a30568b2467581abac6f3cb70b769":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/db\/jdbc\/JdbcDatabaseManager.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["63","      <action issue=\"LOG4J2-2667\" dev=\"ggregory\" type=\"fix\" due-to=\"Gary Gregory, Edith Chui\">","64","        \"Values not bound to statement\" when using JDBC appender, appender does not respect bufferSize=\"0\".","65","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/db\/jdbc\/JdbcDatabaseManager.java":[{"add":["548","                if (isBuffered() && this.isBatchSupported && this.statement != null) {","851","            if (isBuffered() && this.isBatchSupported) {"],"delete":["548","                if (this.isBatchSupported && this.statement != null) {","851","            if (this.isBatchSupported) {"]}]}},"ef65783fa633bac0465b2ff093cf82c79fb645d4":{"changes":{"core\/src\/test\/resources\/log4j-routing3.xml":"ADD","src\/changes\/changes.xml":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/RoutingAppender.java":"MODIFY","core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/RoutingDefaultAppenderTest.java":"ADD"},"diff":{"core\/src\/test\/resources\/log4j-routing3.xml":[{"add":[],"delete":[]}],"src\/changes\/changes.xml":[{"add":["23","      <action issue=\"LOG4J2-166\" dev=\"rgoers\" type=\"fix\">","24","        RoutingAppender's default Route can now be an appender reference.","25","      <\/action>"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/RoutingAppender.java":[{"add":["134","            control = appenders.get(DEFAULT_KEY);","135","            if (control != null) {","136","                return control;","137","            }"],"delete":[]}],"core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/routing\/RoutingDefaultAppenderTest.java":[{"add":[],"delete":[]}]}},"fd3dba710b2ce9e8ee48e64ba09b31b2dca0dc04":{"changes":{"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/perftest\/PerfTestDriver.java":"MODIFY","src\/site\/resources\/images\/async-vs-sync-throughput.png":"ADD","src\/site\/resources\/images\/async-average-latency.png":"MODIFY","src\/site\/resources\/images\/async-max-latency-99.99pct.png":"MODIFY","log4j-async\/src\/main\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileAppender.java":"MODIFY","log4j-async\/src\/main\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastFileAppender.java":"MODIFY","pom.xml":"MODIFY","log4j-async\/src\/main\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastFileManager.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingFileManager.java":"MODIFY","src\/site\/xdoc\/manual\/async.xml":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileAppenderRolloverTest.java":"MODIFY","log4j-async\/src\/main\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileManager.java":"MODIFY","src\/site\/xdoc\/performance.xml":"MODIFY","src\/site\/resources\/images\/async-throughput-comparison.png":"MODIFY"},"diff":{"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/perftest\/PerfTestDriver.java":[{"add":["167","                \"WaitStrategy\", \"Sleep\"));","172","    \/\/ multi-threaded performance test","176","                \"WaitStrategy\", \"Sleep\"));","191","        \/\/ includeLocation=false","195","        tests.add(s(\"perf3PlainNoLoc.xml\", LOG20, \"Loggers all async\",","196","                ALL_ASYNC, SYSCLOCK));","197","        tests.add(s(\"perf7MixedNoLoc.xml\", LOG20, \"Loggers mixed sync\/async\"));","200","        tests.add(s(\"perf5AsyncApndNoLoc.xml\", LOG20, \"Async Appender\"));","202","        \/\/ includeLocation=true","203","        \/\/ tests.add(s(\"perf6AsyncApndLoc.xml\", LOG20,","204","        \/\/ \"Async Appender includeLocation\"));","205","        \/\/ tests.add(s(\"perf8MixedLoc.xml\", LOG20,","206","        \/\/ \"Mixed sync\/async includeLocation\"));","207","        \/\/ tests.add(s(\"perf4PlainLocation.xml\", LOG20,","208","        \/\/ \"Loggers all async includeLocation\", ALL_ASYNC));","209","        \/\/ tests.add(s(\"perf4PlainLocation.xml\", LOG20,","210","        \/\/ \"Loggers all async includeLocation CachedClock\", ALL_ASYNC,","211","        \/\/ CACHEDCLOCK));","212","        \/\/ tests.add(s(\"perf4PlainLocation.xml\", LOG20,","213","        \/\/ \"Sync includeLocation\"));","214","","215","        \/\/ appenders","216","        \/\/ tests.add(s(\"perf1syncFile.xml\", LOG20, \"FileAppender\"));","217","        \/\/ tests.add(s(\"perf1syncFastFile.xml\", LOG20, \"FastFileAppender\"));","218","        \/\/ tests.add(s(\"perf2syncRollFile.xml\", LOG20, \"RollFileAppender\"));","219","        \/\/ tests.add(s(\"perf2syncRollFastFile.xml\", LOG20,","220","        \/\/ \"RollFastFileAppender\"));","221","","222","        final int MAX_THREADS = 16; \/\/ 64 takes a LONG time","223","        for (int i = 2; i <= MAX_THREADS; i *= 2) {","224","            \/\/ includeLocation = false","230","            tests.add(m(\"perf5AsyncApndNoLoc.xml\", LOG20, \"Async Appender\", i));","231","            tests.add(m(\"perf3PlainNoLoc.xml\", LOG20, \"Loggers all async\", i,","232","                    ALL_ASYNC, SYSCLOCK));","234","                    \"Loggers mixed sync\/async\", i));","235","","236","            \/\/ includeLocation=true","237","            \/\/ tests.add(m(\"perf6AsyncApndLoc.xml\", LOG20,","238","            \/\/ \"Async Appender includeLocation\", i));","239","            \/\/ tests.add(m(\"perf8MixedLoc.xml\", LOG20,","240","            \/\/ \"Mixed sync\/async includeLocation\", i));","241","            \/\/ tests.add(m(\"perf4PlainLocation.xml\", LOG20,","242","            \/\/ \"Loggers all async includeLocation\", i, ALL_ASYNC));","243","            \/\/ tests.add(m(\"perf4PlainLocation.xml\", LOG20,","244","            \/\/ \"Loggers all async includeLocation CachedClock\", i,","245","            \/\/ ALL_ASYNC, CACHEDCLOCK));","246","            \/\/ tests.add(m(\"perf4PlainLocation.xml\", LOG20,","247","            \/\/ \"Sync includeLocation\", i));","248","","249","            \/\/ appenders","250","            \/\/ tests.add(m(\"perf1syncFile.xml\", LOG20, \"FileAppender\", i));","251","            \/\/ tests.add(m(\"perf1syncFastFile.xml\", LOG20, \"FastFileAppender\",","252","            \/\/ i));","253","            \/\/ tests.add(m(\"perf2syncRollFile.xml\", LOG20, \"RollFileAppender\",","254","            \/\/ i));","255","            \/\/ tests.add(m(\"perf2syncRollFastFile.xml\", LOG20,","256","            \/\/ \"RollFastFileAppender\", i));"],"delete":["167","                \"WaitStrategy\", \"Block\"));","172","    \/\/ single-threaded performance test","176","                \"WaitStrategy\", \"Block\"));","196","        tests.add(s(\"perf5AsyncApndNoLoc.xml\", LOG20,","197","                \"Async Appender no location\"));","198","        tests.add(s(\"perf3PlainNoLoc.xml\", LOG20, \"All async no loc SysClock\",","199","                ALL_ASYNC, SYSCLOCK));","200","        tests.add(s(\"perf7MixedNoLoc.xml\", LOG20, \"Mixed async no location\"));","202","        for (int i = 32; i <= 64; i *= 2) {","208","            tests.add(m(\"perf5AsyncApndNoLoc.xml\", LOG20,","209","                    \"Async Appender no location\", i));","210","            tests.add(m(\"perf3PlainNoLoc.xml\", LOG20,","211","                    \"All async no loc SysClock\", i, ALL_ASYNC, SYSCLOCK));","213","                    \"Mixed async no location\", i));","216","        \/\/ Setup[] tests = new Setup[] { \/\/","217","        \/\/ s(\"perf-logback.xml\", LOGBK, \"Sync\"), \/\/","218","        \/\/ s(\"perf-log4j12.xml\", LOG12, \"Sync\"), \/\/","219","        \/\/ s(\"perf3PlainNoLoc.xml\", LOG20, \"Sync\"), \/\/","220","        \/\/ s(\"perf-logback-async.xml\", LOGBK, \"Async Appender\"), \/\/","221","        \/\/ s(\"perf-log4j12-async.xml\", LOG12, \"Async Appender\"), \/\/","222","        \/\/ s(\"perf5AsyncApndNoLoc.xml\", LOG20,","223","        \/\/ \"Async Appender no location\"),","224","        \/\/ s(\"perf3PlainNoLoc.xml\", LOG20, \"All async no loc SysClock\",","225","        \/\/ ALL_ASYNC, SYSCLOCK), \/\/","226","        \/\/ s(\"perf7MixedNoLoc.xml\", LOG20, \"Mixed async no location\"), \/\/","227","        \/\/","228","        \/\/ m(\"perf-log4j12-async.xml\", LOG12, \"Async Appender\", 2), \/\/","229","        \/\/ m(\"perf-log4j12.xml\", LOG12, \"Sync\", 2), \/\/","230","        \/\/ m(\"perf-logback.xml\", LOGBK, \"Sync\", 2), \/\/","231","        \/\/ m(\"perf-logback-async.xml\", LOGBK, \"Async Appender\", 2), \/\/","232","        \/\/ m(\"perf3PlainNoLoc.xml\", LOG20, \"Sync\", 2), \/\/","233","        \/\/ m(\"perf3PlainNoLoc.xml\", LOG20, \"All async no loc CachedClock\",","234","        \/\/ 2, ALL_ASYNC, CACHEDCLOCK), \/\/","235","        \/\/ m(\"perf3PlainNoLoc.xml\", LOG20, \"All async no loc SysClock\", 2,","236","        \/\/ ALL_ASYNC, SYSCLOCK), \/\/","237","        \/\/","238","        \/\/ m(\"perf-log4j12-async.xml\", LOG12, \"Async Appender\", 4), \/\/","239","        \/\/ m(\"perf-log4j12.xml\", LOG12, \"Sync\", 4), \/\/","240","        \/\/ m(\"perf-logback.xml\", LOGBK, \"Sync\", 4), \/\/","241","        \/\/ m(\"perf-logback-async.xml\", LOGBK, \"Async Appender\", 4), \/\/","242","        \/\/ m(\"perf3PlainNoLoc.xml\", LOG20, \"Sync\", 4), \/\/","243","        \/\/ m(\"perf3PlainNoLoc.xml\", LOG20,","244","        \/\/ \"All async no loc CachedClock\",","245","        \/\/ 4, ALL_ASYNC, CACHEDCLOCK), \/\/","246","        \/\/ m(\"perf3PlainNoLoc.xml\", LOG20, \"All async no loc SysClock\",","247","        \/\/ 4,","248","        \/\/ ALL_ASYNC, SYSCLOCK), \/\/","249","        \/\/","250","        \/\/ m(\"perf-log4j12-async.xml\", LOG12, \"Async Appender\", 8), \/\/","251","        \/\/ m(\"perf-log4j12.xml\", LOG12, \"Sync\", 8), \/\/","252","        \/\/ m(\"perf-logback.xml\", LOGBK, \"Sync\", 8), \/\/","253","        \/\/ m(\"perf-logback-async.xml\", LOGBK, \"Async Appender\", 8), \/\/","254","        \/\/ m(\"perf3PlainNoLoc.xml\", LOG20, \"Sync\", 8), \/\/","255","        \/\/ m(\"perf3PlainNoLoc.xml\", LOG20,","256","        \/\/ \"All async no loc CachedClock\",","257","        \/\/ 8, ALL_ASYNC, CACHEDCLOCK), \/\/","258","        \/\/ m(\"perf3PlainNoLoc.xml\", LOG20, \"All async no loc SysClock\",","259","        \/\/ 8,","260","        \/\/ ALL_ASYNC, SYSCLOCK), \/\/","261","","262","        \/\/ 2 threads","263","        \/\/ m(\"perf5AsyncApndNoLoc.xml\", LOG20,\"Async Appender no location\",","264","        \/\/ 2), \/\/","265","        \/\/ m(\"perf6AsyncApndLoc.xml\",","266","        \/\/ LOG12,\"Async Appender with location\",","267","        \/\/ 2), \/\/","268","        \/\/ m(\"perf7MixedNoLoc.xml\", \"Mixed async no location\", 2), \/\/","269","        \/\/ m(\"perf8MixedLoc.xml\", \"Mixed async with location\", 2), \/\/","270","        \/\/ m(\"perf4PlainLocation.xml\",","271","        \/\/ \"All async with location SysClock\",","272","        \/\/ 2, ALL_ASYNC), \/\/","273","        \/\/ m(\"perf4PlainLocation.xml\",","274","        \/\/ \"All async with location CachedClock\", 2, ALL_ASYNC,","275","        \/\/ CACHEDCLOCK), \/\/","276","        \/\/ m(\"perf4PlainLocation.xml\", \"All sync with location\", 2), \/\/","277","        \/\/ m(\"perf1syncFile.xml\", \"FileAppender\", 2), \/\/","278","        \/\/ m(\"perf1syncFastFile.xml\", \"FastFileAppender\", 2), \/\/","279","        \/\/ m(\"perf2syncRollFile.xml\", \"RollFileAppender\", 2), \/\/","280","        \/\/ m(\"perf2syncRollFastFile.xml\", \"RollFastFileAppender\", 2), \/\/","281","","282","        \/\/ 4 threads","283","        \/\/ m(\"perf5AsyncApndNoLoc.xml\", LOG20,\"Async Appender no location\",","284","        \/\/ 4), \/\/","285","        \/\/ m(\"perf6AsyncApndLoc.xml\", \"Async Appender with location\",","286","        \/\/ 4), \/\/","287","        \/\/ m(\"perf7MixedNoLoc.xml\", \"Mixed async no location\", 4), \/\/","288","        \/\/ m(\"perf8MixedLoc.xml\", \"Mixed async with location\", 4), \/\/","289","        \/\/ m(\"perf4PlainLocation.xml\",","290","        \/\/ \"All async with location SysClock\",","291","        \/\/ 4, ALL_ASYNC), \/\/","292","        \/\/ m(\"perf4PlainLocation.xml\",","293","        \/\/ \"All async with location CachedClock\", 4, ALL_ASYNC,","294","        \/\/ CACHEDCLOCK), \/\/","295","        \/\/ m(\"perf4PlainLocation.xml\", \"All sync with location\", 4), \/\/","296","        \/\/ m(\"perf1syncFile.xml\", \"FileAppender\", 4), \/\/","297","        \/\/ m(\"perf1syncFastFile.xml\", \"FastFileAppender\", 4), \/\/","298","        \/\/ m(\"perf2syncRollFile.xml\", \"RollFileAppender\", 4), \/\/","299","        \/\/ m(\"perf2syncRollFastFile.xml\", \"RollFastFileAppender\", 4), \/\/","300","","301","        \/\/ 8 threads","302","        \/\/ m(\"perf5AsyncApndNoLoc.xml\", LOG20,","303","        \/\/ \"Async Appender no location\", 8), \/\/","304","        \/\/ m(\"perf6AsyncApndLoc.xml\", \"Async Appender with location\",","305","        \/\/ 8), \/\/","306","        \/\/ m(\"perf7MixedNoLoc.xml\", \"Mixed async no location\", 8), \/\/","307","        \/\/ m(\"perf8MixedLoc.xml\", \"Mixed async with location\", 8), \/\/","308","        \/\/ m(\"perf4PlainLocation.xml\",","309","        \/\/ \"All async with location SysClock\",","310","        \/\/ 8, ALL_ASYNC), \/\/","311","        \/\/ m(\"perf4PlainLocation.xml\",","312","        \/\/ \"All async with location CachedClock\", 8, ALL_ASYNC,","313","        \/\/ CACHEDCLOCK), \/\/","314","        \/\/ m(\"perf4PlainLocation.xml\", \"All sync with location\", 8), \/\/","315","        \/\/ m(\"perf1syncFile.xml\", \"FileAppender\", 8), \/\/","316","        \/\/ m(\"perf1syncFastFile.xml\", \"FastFileAppender\", 8), \/\/","317","        \/\/ m(\"perf2syncRollFile.xml\", \"RollFileAppender\", 8), \/\/","318","        \/\/ m(\"perf2syncRollFastFile.xml\", \"RollFastFileAppender\", 8), \/\/","319","","320","        \/\/ s(\"perf-log4j12-async.xml\", LOG12, \"Async Appender\"), \/\/","321","        \/\/ s(\"perf-log4j12.xml\", LOG12, \"Sync\"), \/\/","322","        \/\/ s(\"perf-logback.xml\", LOGBK, \"Sync\"), \/\/","323","        \/\/ s(\"perf-logback-async.xml\", LOGBK, \"Async Appender\"), \/\/","324","        \/\/ s(\"perf3PlainNoLoc.xml\", LOG20, \"Sync\"), \/\/","325","        \/\/ s(\"perf3PlainNoLoc.xml\", LOG20, \"All async no loc CachedClock\",","326","        \/\/ ALL_ASYNC, CACHEDCLOCK), \/\/","327","        \/\/ s(\"perf3PlainNoLoc.xml\", LOG20, \"All async no loc SysClock\",","328","        \/\/ ALL_ASYNC, SYSCLOCK), \/\/","329","        \/\/ s(\"perf5AsyncApndNoLoc.xml\", LOG20,","330","        \/\/ \"Async Appender no location\"),","331","        \/\/","332","        \/\/ s(\"perf6AsyncApndLoc.xml\", \"Async Appender with location\"), \/\/","333","        \/\/ s(\"perf7MixedNoLoc.xml\", \"Mixed async no location\"), \/\/","334","        \/\/ s(\"perf8MixedLoc.xml\", \"Mixed async with location\"), \/\/","335","        \/\/ s(\"perf4PlainLocation.xml\", \"All async with location SysClock\",","336","        \/\/ ALL_ASYNC), \/\/","337","        \/\/ s(\"perf4PlainLocation.xml\",","338","        \/\/ \"All async with location CachedClock\", ALL_ASYNC,","339","        \/\/ CACHEDCLOCK), \/\/","340","        \/\/ s(\"perf4PlainLocation.xml\", \"All sync with location\"), \/\/","341","        \/\/ s(\"perf1syncFile.xml\", \"FileAppender\"), \/\/","342","        \/\/ s(\"perf1syncFastFile.xml\", \"FastFileAppender\"), \/\/","343","        \/\/ s(\"perf2syncRollFile.xml\", \"RollFileAppender\"), \/\/","344","        \/\/ s(\"perf2syncRollFastFile.xml\", \"RollFastFileAppender\"), \/\/","345","        \/\/ };","346",""]}],"src\/site\/resources\/images\/async-vs-sync-throughput.png":[{"add":[],"delete":[]}],"src\/site\/resources\/images\/async-average-latency.png":[{"add":[],"delete":[]}],"src\/site\/resources\/images\/async-max-latency-99.99pct.png":[{"add":[],"delete":[]}],"log4j-async\/src\/main\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileAppender.java":[{"add":["81","    \tFastRollingFileManager manager = (FastRollingFileManager) getManager();","82","    \tmanager.checkRollover(event);","90","    \tmanager.setEndOfBatch(event.isEndOfBatch());","130","    public static FastRollingFileAppender createAppender(","131","            @PluginAttr(\"fileName\") final String fileName,","132","            @PluginAttr(\"filePattern\") final String filePattern,","133","            @PluginAttr(\"append\") final String append,","134","            @PluginAttr(\"name\") final String name,","135","            @PluginAttr(\"immediateFlush\") final String immediateFlush,","136","            @PluginElement(\"policy\") final TriggeringPolicy policy,","137","            @PluginElement(\"strategy\") RolloverStrategy strategy,","138","            @PluginElement(\"layout\") Layout<?> layout,","139","            @PluginElement(\"filter\") final Filter filter,","140","            @PluginAttr(\"suppressExceptions\") final String suppress,","141","            @PluginAttr(\"advertise\") final String advertise,","142","            @PluginAttr(\"advertiseURI\") final String advertiseURI,","143","            @PluginConfiguration final Configuration config) {","144","  "],"delete":["81","        ((RollingFileManager) getManager()).checkRollover(event);","89","        \/\/","90","        \/\/ without LOG4J2-164:","91","        \/\/ if (event.getClass() == RingBufferLogEvent.class) {","92","        \/\/ boolean isEndOfBatch = ((RingBufferLogEvent) event).isEndOfBatch();","93","        \/\/ ((FastRollingFileManager) getManager()).setEndOfBatch(isEndOfBatch);","94","        \/\/ }","95","        ((FastRollingFileManager) getManager()).setEndOfBatch(event.isEndOfBatch());","135","    public static FastRollingFileAppender createAppender(@PluginAttr(\"fileName\") final String fileName,","136","                                              @PluginAttr(\"filePattern\") final String filePattern,","137","                                              @PluginAttr(\"append\") final String append,","138","                                              @PluginAttr(\"name\") final String name,","139","                                              @PluginAttr(\"immediateFlush\") final String immediateFlush,","140","                                              @PluginElement(\"policy\") final TriggeringPolicy policy,","141","                                              @PluginElement(\"strategy\") RolloverStrategy strategy,","142","                                              @PluginElement(\"layout\") Layout<?> layout,","143","                                              @PluginElement(\"filter\") final Filter filter,","144","                                              @PluginAttr(\"suppressExceptions\") final String suppress,","145","                                              @PluginAttr(\"advertise\") final String advertise,","146","                                              @PluginAttr(\"advertiseURI\") final String advertiseURI,","147","                                              @PluginConfiguration final Configuration config) {","148",""]}],"log4j-async\/src\/main\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastFileAppender.java":[{"add":[],"delete":["82","        \/\/","83","        \/\/ without LOG4J2-164:","84","        \/\/ if (event.getClass() == RingBufferLogEvent.class) {","85","        \/\/ boolean isEndOfBatch = ((RingBufferLogEvent) event).isEndOfBatch();","86","        \/\/ ((FastFileManager) getManager()).setEndOfBatch(isEndOfBatch);","87","        \/\/ }"]}],"pom.xml":[{"add":["59","  <contributors>","60","    <contributor>","61","      <name>Remko Popma<\/name>","62","      <email>remkop@yahoo.com<\/email>","63","      <roles>","64","        <role>log4j-async module development, testing and documentation<\/role>","65","      <\/roles>","66","      <timezone>+9<\/timezone>","67","      <properties>","68","      <\/properties>","69","    <\/contributor>","70","  <\/contributors>"],"delete":[]}],"log4j-async\/src\/main\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastFileManager.java":[{"add":["104","    ","105","    @Override","106","    public void close() {","107","    \tflush();","108","        try {","109","        \trandomAccessFile.close();","110","        } catch (final IOException ex) {","111","            LOGGER.error(\"Unable to close RandomAccessFile \" + getName() + \". \" + ex);","112","        }","113","    }"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingFileManager.java":[{"add":["108","                createFileAfterRollover();","109","            } catch (final IOException ex) {","115","    protected void createFileAfterRollover() throws IOException {","116","        final OutputStream os = new FileOutputStream(getFileName(), isAppend());","117","        setOutputStream(os);","118","    }","119",""],"delete":["108","                final OutputStream os = new FileOutputStream(getFileName(), isAppend());","109","                setOutputStream(os);","110","            } catch (final FileNotFoundException ex) {"]}],"src\/site\/xdoc\/manual\/async.xml":[{"add":["481","\t\t\t\t\tWe saw a 20-200% performance improvement compared to","591","\t\t\t\t\tWe saw a 20-200% performance improvement compared to","595","\t\t\t\t\t","844","\t\t\t<subsection name=\"Asynchronous Logging Performance\">","846","\t\t\t\t\tThe performance results below were all derived from running the ","847","\t\t\t\t\tPerfTest, MTPerfTest and PerfTestDriver classes which can be found ","848","\t\t\t\t\tin the Log4j 2 unit test source directory.","849","\t\t\t\t\tAll tests were done using the ","850","\t\t\t\t\tdefault settings (SystemClock and SleepingWaitStrategy).","851","\t\t\t\t\tThe methodology used was the same for all tests:","862","\t\t\t\t\t<li>Throughput test: measure how long it takes to execute 256 *","863","\t\t\t\t\t\t1024 \/ threadCount calls to Logger.log and express the","864","\t\t\t\t\t\tresult in messages per second.<\/li>","865","\t\t\t\t\t<li>Repeat the test 5 times and average the results.<\/li>","868","\t\t\t\t<p>","869","\t\t\t\tThe graph below compares the throughput of synchronous loggers,","870","\t\t\t\tasynchronous appenders and asynchronous loggers. This","871","\t\t\t\tis the total throughput of all threads together. ","872","\t\t\t\tIn the test with 64 threads, asynchronous loggers are 12 times ","873","\t\t\t\tfaster than asynchronous appenders, and 68 times faster than ","874","\t\t\t\tsynchronous loggers.","875","\t\t\t\t<\/p>","876","\t\t\t\t<p>","877","\t\t\t\tAsynchronous loggers' throughput increases with the number of threads,","878","\t\t\t\twhereas both synchronous loggers and asynchronous appenders ","879","\t\t\t\thave more or less constant throughput regardless of the number of","880","\t\t\t\tthreads that are doing the logging.","881","\t\t\t\t<\/p>","882","\t\t\t\t<p><img src=\"..\/images\/async-vs-sync-throughput.png\" \/><\/p>","883","\t\t\t\t","884","\t\t\t\t<h4>Asynchronous Throughput Comparison with Other Logging Packages<\/h4>","885","\t\t\t\t<p>","886","\t\t\t\tWe also compared throughput of asynchronous loggers to","887","\t\t\t\tthe synchronous loggers and asynchronous appenders available","888","\t\t\t\tin other logging packages, specifically log4j-1.2.17 and ","889","\t\t\t\tlogback-1.0.10, with similar results. ","890","\t\t\t\tFor asynchronous appenders, total logging throughput of all ","891","\t\t\t\tthreads together remains roughly constant when adding more threads.","892","\t\t\t\tAsynchronous loggers make more effective use of the multiple cores","893","\t\t\t\tavailable on the machine in multi-threaded scenarios.","894","\t\t\t\t<\/p>","895","\t\t\t\t<p>","896","\t\t\t\t<img src=\"..\/images\/async-throughput-comparison.png\" \/>","897","\t\t\t\t<\/p>","912","\t\t\t\t  <td align=\"right\">1,715,344<\/td>","921","\t\t\t\t  <td align=\"right\">571,099<\/td>","930","\t\t\t\t  <td align=\"right\">1,236,548<\/td>","939","\t\t\t\t  <td align=\"right\">1,373,195<\/td>","948","\t\t\t\t  <td align=\"right\">1,979,515<\/td>","1088","\t\t\t\t\t\t<th>Logger (Log4j 2)<\/th>","1194","\t\t\t\t\t\t<td align=\"right\">278,369<\/td>","1195","\t\t\t\t\t\t<td align=\"right\">213,176<\/td>","1196","\t\t\t\t\t\t<td align=\"right\">125,300<\/td>","1197","\t\t\t\t\t\t<td align=\"right\">63,103<\/td>","1206","\t\t\t\t\t<caption align=\"top\">Throughput per thread in messages\/second","1209","\t\t\t\t<p>On Solaris 10 (64bit) with JDK1.7.0_06, 4-core dual Xeon X5570 CPU ","1210","\t\t\t\t@2.93GHz with hyperthreading switched off (8 virtual cores):<\/p>","1235","\t\t\t\t\t\t<td align=\"right\">228,491<\/td>","1236","\t\t\t\t\t\t<td align=\"right\">135,355<\/td>","1237","\t\t\t\t\t\t<td align=\"right\">69,277<\/td>","1238","\t\t\t\t\t\t<td align=\"right\">32,484<\/td>","1247","\t\t\t\t\t<caption align=\"top\">Throughput per thread in messages\/second"],"delete":["481","\t\t\t\t\tWe saw a 10-30% performance improvement compared to","591","\t\t\t\t\t<!-- ","592","\t\t\t\t\tWe saw a 10-30% performance improvement compared to","596","\t\t\t\t\t-->","845","\t\t\t<subsection name=\"Performance Measurements\">","847","\t\t\t\t\tThis section shows the results of our performance tests.","848","\t\t\t\t\tThe","849","\t\t\t\t\tmethodology used was the same for all tests:","860","\t\t\t\t\t<li>Throughput test: measure how long it takes to log 256 *","861","\t\t\t\t\t\t1024 \/ threadCount messages of 500 characters.<\/li>","878","\t\t\t\t  <td align=\"right\">1,655,952<\/td>","887","\t\t\t\t  <td align=\"right\">534,592<\/td>","896","\t\t\t\t  <td align=\"right\">1,091,563<\/td>","905","\t\t\t\t  <td align=\"right\">1,336,667<\/td>","914","\t\t\t\t  <td align=\"right\">2,231,044<\/td>","1048","\t\t\t\t<p>","1049","\t\t\t\tIn the above two environments, with the ","1050","\t\t\t\tdefault settings (SystemClock and SleepingWaitStrategy),","1051","\t\t\t\tasynchronous logging ","1052","\t\t\t\tprocesses 6 - 68 times the number of log events in the same time","1053","\t\t\t\tas synchronous logging. These numbers may also give you an","1054","\t\t\t\tidea of the performance trade-off when choosing between","1055","\t\t\t\t<a href=\"#AllAsync\">All Async<\/a> and the more flexible ","1056","\t\t\t\t<a href=\"#MixedSync-Async\">Mixed Async<\/a> logging.","1057","\t\t\t\t<\/p>","1058","\t\t\t\t<p>Note that the numbers above are throughput <i>per thread<\/i>.","1059","\t\t\t\tThe graph below shows the total throughput of all threads together.","1060","\t\t\t\t<img src=\"..\/images\/async-throughput-comparison.png\" \/><\/p>","1067","\t\t\t\t\t\t<th>Logger<\/th>","1173","\t\t\t\t\t\t<td align=\"right\">104,254<\/td>","1174","\t\t\t\t\t\t<td align=\"right\">39,345<\/td>","1175","\t\t\t\t\t\t<td align=\"right\">16,971<\/td>","1176","\t\t\t\t\t\t<td align=\"right\">9,465<\/td>","1185","\t\t\t\t\t<caption align=\"top\">Throughput per thread in operations\/second","1188","\t\t\t\t<p>On Solaris 10 (64bit) with JDK1.7.0_06, 4-core Xeon X5570 CPU ","1189","\t\t\t\t@2.93GHz with hyperthreading switched on (8 virtual cores):<\/p>","1214","\t\t\t\t\t\t<td align=\"right\">78,715<\/td>","1215","\t\t\t\t\t\t<td align=\"right\">31,426<\/td>","1216","\t\t\t\t\t\t<td align=\"right\">17,881<\/td>","1217","\t\t\t\t\t\t<td align=\"right\">8,727<\/td>","1226","\t\t\t\t\t<caption align=\"top\">Throughput per thread in operations\/second"]}],"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-195\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","26","        Unit tests now create files in the target directory.","27","      <\/action>","28","      <action issue=\"LOG4J2-193\" dev=\"rgoers\" type=\"fix\" due-to=\"Remko Popma\">","29","        RollingFastFileAppender (in log4j-async) did not roll over.","30","      <\/action>"],"delete":[]}],"log4j-async\/src\/test\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileAppenderRolloverTest.java":[{"add":["87","        assertNull(\"No more lines\", line);"],"delete":["87","    \/\/    assertNull(\"No more lines\", line);"]}],"log4j-async\/src\/main\/java\/org\/apache\/logging\/log4j\/async\/appender\/FastRollingFileManager.java":[{"add":["35","    private RandomAccessFile randomAccessFile;","81","    protected void createFileAfterRollover() throws IOException {","82","        this.randomAccessFile = new RandomAccessFile(getFileName(), \"rw\");","83","        if (isAppend()) {","84","            randomAccessFile.seek(randomAccessFile.length());","85","        }","86","    }","87","","88","    @Override","99","    ","100","    @Override","101","    public void close() {","102","    \tflush();","103","        try {","104","        \trandomAccessFile.close();","105","        } catch (final IOException ex) {","106","            LOGGER.error(\"Unable to close RandomAccessFile \" + getName() + \". \" + ex);","107","        }","108","    }"],"delete":["35","    private final RandomAccessFile randomAccessFile;"]}],"src\/site\/xdoc\/performance.xml":[{"add":["214","\t\t<li>","215","\t\t<b>Asynchronous Logging Performance Improvements<\/b>","216","\t\t<br \/>","217","\t\t<p>","218","\t\tLog4j 2 supports a new \"<a href=\"manual\/async.html\">async<\/a>\" module ","219","\t\twhich offers Asynchronous Loggers for high throughput and low latency logging.","220","\t\tAsynchronous Loggers are implemented using the","221","\t\t<a href=\"http:\/\/lmax-exchange.github.com\/disruptor\/\">LMAX Disruptor<\/a>","222","\t\tinter-thread messaging library instead of the ArrayBlockingQueue used by Asynchronous Appenders.","223","\t\t<\/p><p>","224","\t\tAsynchronous Appenders already offered about 5 - 10 times more throughput than","225","\t\tsynchronous loggers, but this advantage remained more or less constant","226","\t\twhen more threads are logging. That is, if you double the number of threads","227","\t\tthat are logging you would expect your total throughput to increase, but","228","\t\tthis is not the case: the throughput per thread is roughly halved so your","229","\t\ttotal throughput remains more or less the same.","230","\t\t(Note that this happens even if the appender queue size is large enough to hold","231","\t\tall messages logged during the test, so this is not caused by disk I\/O.)","232","\t\t<\/p><p>","233","\t\tAsynchronous Loggers have significantly higher throughput than the legacy Asynchronous Appenders,","234","\t\tespecially in multithreaded scenarios. In one test with 64 threads,","235","\t\tAsynchronous Loggers were 12 times faster than the fastest Asynchronous Appender,","236","\t\tand 68 times faster than the fastest synchronous logger.","237","\t\tIn addition to throughput, Asynchronous Loggers have attractive latency characteristics.","238","\t\tNot only is average latency lower compared to Asynchronous Appenders,","239","\t\tbut when increasing the number of application threads that do logging, ","240","\t\tworst-case latency remained almost constant (10 - 20 microseconds) ","241","\t\twhere Asynchronous Appenders start experiencing worst-case","242","\t\tlatency spikes in the 100 millisecond range, a difference of four orders of magnitude.","243","\t\tSee <a href=\"manual\/async.html#Performance\">Asynchronous Logging Performance<\/a> for details.","244","\t\t<\/p>","245","\t\t<\/li>"],"delete":["214",""]}],"src\/site\/resources\/images\/async-throughput-comparison.png":[{"add":[],"delete":[]}]}},"bca0aa601cba7219ea4d8ed768e0a072a6622e3e":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["27","        ConfigurationScheduler now preserves interrupt flag during stop."],"delete":["27","        ConfigurationScheduler should preserve interrupt flag during stop."]}]}},"b7da5e73cf30afd1ab130c5157fbb2bc59bbb90d":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/xml\/XmlConfiguration.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1541\" dev=\"ggregory\" type=\"fix\" due-to=\"Gary Gregory\">","27","        Fix file handle resource leak in XmlConfiguration.XmlConfiguration(ConfigurationSource).","28","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/xml\/XmlConfiguration.java":[{"add":["149","            try (InputStream is = Loader.getResourceAsStream(schemaResource, XmlConfiguration.class.getClassLoader())) {","150","                if (is != null) {","151","                    final Source src = new StreamSource(is, LOG4J_XSD);","152","                    final SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);","153","                    Schema schema = null;","155","                        schema = factory.newSchema(src);","157","                        LOGGER.error(\"Error parsing Log4j schema\", ex);","158","                    }","159","                    if (schema != null) {","160","                        final Validator validator = schema.newValidator();","161","                        try {","162","                            validator.validate(new StreamSource(new ByteArrayInputStream(buffer)));","163","                        } catch (final IOException ioe) {","164","                            LOGGER.error(\"Error reading configuration for validation\", ioe);","165","                        } catch (final SAXException ex) {","166","                            LOGGER.error(\"Error validating configuration\", ex);","167","                        }","170","            } catch (final Exception ex) {","171","                LOGGER.error(\"Unable to access schema {}\", this.schemaResource, ex);"],"delete":["149","            InputStream is = null;","150","            try {","151","                is = Loader.getResourceAsStream(schemaResource, XmlConfiguration.class.getClassLoader());","152","            } catch (final Exception ex) {","153","                LOGGER.error(\"Unable to access schema {}\", this.schemaResource, ex);","154","            }","155","            if (is != null) {","156","                final Source src = new StreamSource(is, LOG4J_XSD);","157","                final SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);","158","                Schema schema = null;","159","                try {","160","                    schema = factory.newSchema(src);","161","                } catch (final SAXException ex) {","162","                    LOGGER.error(\"Error parsing Log4j schema\", ex);","163","                }","164","                if (schema != null) {","165","                    final Validator validator = schema.newValidator();","167","                        validator.validate(new StreamSource(new ByteArrayInputStream(buffer)));","168","                    } catch (final IOException ioe) {","169","                        LOGGER.error(\"Error reading configuration for validation\", ioe);","171","                        LOGGER.error(\"Error validating configuration\", ex);"]}]}},"b0f2315f7399f1aa0e612caebb7decc9efcfc7c8":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/FileManager.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/FileManager.java":[{"add":["191","        if (file.exists() && file.length() == 0) {","192","            try {","193","                FileTime now = FileTime.fromMillis(System.currentTimeMillis());","194","                Files.setAttribute(file.toPath(), \"creationTime\", now);","195","            } catch (Exception ex) {","196","                LOGGER.warn(\"Unable to set current file tiem for {}\", filename);","197","            }"],"delete":["191","        try {","192","            FileTime now = FileTime.fromMillis(System.currentTimeMillis());","193","            Files.setAttribute(file.toPath(), \"creationTime\", now);","194","        } catch (Exception ex) {","195","            LOGGER.warn(\"Unable to set current file tiem for {}\", filename);"]}]}},"4c70958d705691b83530ad63d07dce797b44f535":{"changes":{"log4j-1.2-api\/src\/test\/java\/org\/apache\/log4j\/config\/PropertiesReconfigurationTest.java":"ADD","log4j-1.2-api\/src\/main\/java\/org\/apache\/log4j\/config\/PropertiesConfiguration.java":"MODIFY","log4j-1.2-api\/src\/main\/java\/org\/apache\/log4j\/xml\/XmlConfiguration.java":"MODIFY","log4j-1.2-api\/src\/test\/java\/org\/apache\/log4j\/config\/XmlReconfigurationTest.java":"ADD","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-1.2-api\/src\/test\/java\/org\/apache\/log4j\/config\/PropertiesReconfigurationTest.java":[{"add":[],"delete":[]}],"log4j-1.2-api\/src\/main\/java\/org\/apache\/log4j\/config\/PropertiesConfiguration.java":[{"add":["28","import org.apache.logging.log4j.core.config.Configuration;","34","import java.io.IOException;","94","    @Override","95","    public Configuration reconfigure() {","96","        try {","97","            final ConfigurationSource source = getConfigurationSource().resetInputStream();","98","            if (source == null) {","99","                return null;","100","            }","101","            final PropertiesConfigurationFactory factory = new PropertiesConfigurationFactory();","102","            final PropertiesConfiguration config =","103","                    (PropertiesConfiguration) factory.getConfiguration(getLoggerContext(), source);","104","            return config == null || config.getState() != State.INITIALIZING ? null : config;","105","        } catch (final IOException ex) {","106","            LOGGER.error(\"Cannot locate file {}: {}\", getConfigurationSource(), ex);","107","        }","108","        return null;","109","    }","110",""],"delete":[]}],"log4j-1.2-api\/src\/main\/java\/org\/apache\/log4j\/xml\/XmlConfiguration.java":[{"add":["24","import org.apache.log4j.config.PropertiesConfiguration;","25","import org.apache.log4j.config.PropertiesConfigurationFactory;","33","import org.apache.logging.log4j.core.config.Configuration;","176","    @Override","177","    public Configuration reconfigure() {","178","        try {","179","            final ConfigurationSource source = getConfigurationSource().resetInputStream();","180","            if (source == null) {","181","                return null;","182","            }","183","            final XmlConfigurationFactory factory = new XmlConfigurationFactory();","184","            final XmlConfiguration config =","185","                    (XmlConfiguration) factory.getConfiguration(getLoggerContext(), source);","186","            return config == null || config.getState() != State.INITIALIZING ? null : config;","187","        } catch (final IOException ex) {","188","            LOGGER.error(\"Cannot locate file {}: {}\", getConfigurationSource(), ex);","189","        }","190","        return null;","191","    }","192",""],"delete":[]}],"log4j-1.2-api\/src\/test\/java\/org\/apache\/log4j\/config\/XmlReconfigurationTest.java":[{"add":[],"delete":[]}],"src\/changes\/changes.xml":[{"add":["96","      <action issue=\"LOG4J2-2893\" dev=\"rgoers\" type=\"update\">","97","        Allow reconfiguration when Log4j 1 configuration files are updated.","98","      <\/action>"],"delete":[]}]}},"fb80906f6bbdc244de4d1dd8e2bdeeebf5e1ed8f":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-1.2-api\/src\/main\/java\/org\/apache\/log4j\/bridge\/LogEventWrapper.java":"MODIFY","log4j-1.2-api\/src\/test\/java\/org\/apache\/log4j\/bridge\/LogEventWrapperTest.java":"ADD"},"diff":{"src\/changes\/changes.xml":[{"add":["100","      <action issue=\"LOG4J2-2899\" dev=\"ckozak\" type=\"fix\">","101","        Fix log4j-1.2-api LogEventWrapper threadId and priority accessors when called multiple times.","102","      <\/action>"],"delete":[]}],"log4j-1.2-api\/src\/main\/java\/org\/apache\/log4j\/bridge\/LogEventWrapper.java":[{"add":["22","import org.apache.log4j.spi.ThrowableInformation;","39","import java.util.Objects;","49","    private Thread thread;","55","        this.thread = Objects.equals(event.getThreadName(), Thread.currentThread().getName())","56","                ? Thread.currentThread() : null;","61","        return this;","136","        Thread thread = getThread();","137","        return thread != null ? thread.getPriority() : 0;","141","        if (thread == null && event.getThreadName() != null) {","149","        return thread;","154","        ThrowableInformation throwableInformation = event.getThrowableInformation();","155","        return throwableInformation == null ? null : throwableInformation.getThrowable();"],"delete":["47","    private volatile Thread thread;","57","        return null;","132","            Thread thread = getThread();","133","            return thread != null ? thread.getPriority() : 0;","137","        if (thread == null) {","145","        return null;","150","        if (event.getThrowableInformation() != null) {","151","            return event.getThrowableInformation().getThrowable();","152","        }","153","        return null;"]}],"log4j-1.2-api\/src\/test\/java\/org\/apache\/log4j\/bridge\/LogEventWrapperTest.java":[{"add":[],"delete":[]}]}},"6d42c1bc09bdf82b8df617e25f3ecc6aba4fd79d":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["143","      <action issue=\"LOG4J2-1573\" dev=\"ggregory\" type=\"fix\" due-to=\"Steffen Offermann\">","144","        Layout is no longer optional.","145","      <\/action>"],"delete":[]}]}},"b3d42f473447bf08cfa477e0a937945c261cad69":{"changes":{"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/XMLConfiguration.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/net\/MulticastDNSAdvertiser.java":"MODIFY","core\/src\/test\/resources\/log4j-advertiser.xml":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/JSONConfiguration.java":"MODIFY","core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/InMemoryAdvertiser.java":"MODIFY","core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/DefaultAdvertiser.java":"MODIFY"},"diff":{"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/XMLConfiguration.java":[{"add":["144","                    if (advertiserString != null)","145","                    {","146","                        final PluginType type = getPluginManager().getPluginType(advertiserString);","147","                        if (type != null)","148","                        {","149","                            final Class<Advertiser> clazz = type.getPluginClass();","150","                            try {","151","                                advertiser = clazz.newInstance();","152","                            } catch (InstantiationException e) {","153","                                System.err.println(\"InstantiationException attempting to instantiate advertiser: \" + advertiserString);","154","                            } catch (IllegalAccessException e) {","155","                                System.err.println(\"IllegalAccessException attempting to instantiate advertiser: \" + advertiserString);","156","                            }"],"delete":["144","                    if (advertiserString != null) {","145","                        try {","146","                            advertiser = (Advertiser) Class.forName(advertiserString).newInstance();","147","                        } catch (InstantiationException e) {","148","                            System.err.println(\"InstantiationException attempting to instantiate advertiser: \" + advertiserString);","149","                        } catch (IllegalAccessException e) {","150","                            System.err.println(\"IllegalAccessException attempting to instantiate advertiser: \" + advertiserString);","151","                        } catch (ClassNotFoundException e) {","152","                            System.err.println(\"ClassNotFoundException attempting to instantiate advertiser: \" + advertiserString);"]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/net\/MulticastDNSAdvertiser.java":[{"add":["24","import org.apache.logging.log4j.core.config.plugins.Plugin;","31","@Plugin(name = \"multicastdns\", type = \"Core\", elementType = \"advertiser\", printObject = false)"],"delete":[]}],"core\/src\/test\/resources\/log4j-advertiser.xml":[{"add":["18","<configuration status=\"debug\" dest=\"target\/status.log\" name=\"XMLConfigTest\" packages=\"org.apache.logging.log4j.core,org.apache.logging.log4j.test\" ","19","               advertiser=\"memory\">"],"delete":["18","<configuration status=\"debug\" dest=\"target\/status.log\" name=\"XMLConfigTest\" packages=\"org.apache.logging.log4j.test\" ","19","               advertiser=\"org.apache.logging.log4j.core.config.InMemoryAdvertiser\">"]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/JSONConfiguration.java":[{"add":["120","                    if (advertiserString != null)","121","                    {","122","                        final PluginType type = getPluginManager().getPluginType(advertiserString);","123","                        if (type != null)","124","                        {","125","                            final Class<Advertiser> clazz = type.getPluginClass();","126","                            advertiser = clazz.newInstance();","127","                        }"],"delete":["120","                    if (advertiserString != null) {","121","                        advertiser = (Advertiser) Class.forName(advertiserString).newInstance();"]}],"core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/InMemoryAdvertiser.java":[{"add":["18","import org.apache.logging.log4j.core.config.plugins.Plugin;","24","@Plugin(name = \"memory\", type = \"Core\", elementType = \"advertiser\", printObject = false)"],"delete":[]}],"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/DefaultAdvertiser.java":[{"add":["18","import org.apache.logging.log4j.core.config.plugins.Plugin;","26","@Plugin(name = \"default\", type = \"Core\", elementType = \"advertiser\", printObject = false)"],"delete":[]}]}},"1252c531844e108c4c6316ecbcda9ae9f2d1aeb4":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingDirectTimeNewDirectoryTest.java":"ADD","log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/FailoverFailedPrimaryAppenderTest.java":"ADD","log4j-core\/src\/test\/resources\/log4j-rollOnStartup.json":"MODIFY","log4j-core\/src\/test\/resources\/log4j-rolling-folder-direct.xml":"ADD"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingDirectTimeNewDirectoryTest.java":[{"add":[],"delete":[]}],"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/FailoverFailedPrimaryAppenderTest.java":[{"add":[],"delete":[]}],"log4j-core\/src\/test\/resources\/log4j-rollOnStartup.json":[{"add":["1","  \"configuration\": { \"status\": \"warn\","],"delete":["1","  \"configuration\": { \"status\": \"debug\","]}],"log4j-core\/src\/test\/resources\/log4j-rolling-folder-direct.xml":[{"add":[],"delete":[]}]}},"dc5b6b912623a68828c31fc58d0dd9a79282e484":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/visitors\/PluginValueVisitor.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2693\" dev=\"mattsicker\" type=\"fix\">","33","        @PluginValue does not support attribute names besides \"value\".","34","      <\/action>","35","      <action issue=\"LOG4J2-2647\" dev=\"mattsicker\" type=\"fix\">","36","        Validation blocks definition of script in properties configuration.","37","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/visitors\/PluginValueVisitor.java":[{"add":["39","        final String attributeValue = node.getAttributes().get(name);","49","            rawValue = removeAttributeValue(node.getAttributes(), name);"],"delete":["39","        final String attributeValue = node.getAttributes().get(\"value\");","49","            rawValue = removeAttributeValue(node.getAttributes(), \"value\");"]}]}},"4e2b9cc603f3025c781cc43f0dd4ec2c294bb649":{"changes":{"slf4j-impl\/src\/main\/java\/org\/slf4j\/impl\/SLF4JLogger.java":"MODIFY","slf4j-impl\/src\/main\/java\/org\/slf4j\/helpers\/EventDataConverter.java":"ADD","src\/changes\/changes.xml":"MODIFY","slf4j-impl\/pom.xml":"MODIFY","slf4j-impl\/src\/test\/java\/org\/apache\/logging\/slf4j\/OptionalTest.java":"ADD"},"diff":{"slf4j-impl\/src\/main\/java\/org\/slf4j\/impl\/SLF4JLogger.java":[{"add":["26","import org.slf4j.helpers.EventDataConverter;","39","    private final EventDataConverter converter;","45","        this.converter = createConverter();","486","        if (eventLogger && marker != null && marker.contains(EVENT_MARKER) && converter != null) {","487","            msg = converter.convertEvent(s1, objects, throwable);","504","    private EventDataConverter createConverter() {","505","        try {","506","            Class<?> clazz = Class.forName(\"org.slf4j.ext.EventData\");","507","            return new EventDataConverter();","508","        } catch (ClassNotFoundException cnfe) {","509","            return null;","510","        }","511","    }","512",""],"delete":["18","import java.util.Map;","19","","24","import org.apache.logging.log4j.message.StructuredDataMessage;","29","import org.slf4j.ext.EventData;","487","        if (eventLogger && marker != null && marker.contains(EVENT_MARKER)) {","488","            try {","489","                final EventData data = (objects != null && objects[0] instanceof EventData) ? (EventData) objects[0] :","490","                    new EventData(s1);","491","                msg = new StructuredDataMessage(data.getEventId(), data.getMessage(), data.getEventType());","492","                for (final Map.Entry entry : data.getEventMap().entrySet()) {","493","                    final String key = entry.getKey().toString();","494","                    if (EventData.EVENT_TYPE.equals(key) || EventData.EVENT_ID.equals(key) ||","495","                        EventData.EVENT_MESSAGE.equals(key)) {","496","                        continue;","497","                    }","498","                    ((StructuredDataMessage) msg).put(entry.getKey().toString(), entry.getValue().toString());","499","                }","500","            } catch (final Exception ex) {","501","                msg = new ParameterizedMessage(s1, objects, throwable);","502","            }","503",""]}],"slf4j-impl\/src\/main\/java\/org\/slf4j\/helpers\/EventDataConverter.java":[{"add":[],"delete":[]}],"src\/changes\/changes.xml":[{"add":["23","      <action issue=\"LOG4J2-165\" dev=\"rgoers\" type=\"fix\">","24","        The slf4j-ext jar is now an optional dependency of the SLF4J bridge.","25","      <\/action>"],"delete":[]}],"slf4j-impl\/pom.xml":[{"add":["42","      <optional>true<\/optional>","65","  <build>","66","    <plugins>","67","      <plugin>","68","        <groupId>org.apache.maven.plugins<\/groupId>","69","        <artifactId>maven-surefire-plugin<\/artifactId>","70","        <configuration>","71","          <excludes>","72","            <exclude>**\/*Test.java<\/exclude>","73","          <\/excludes>","74","        <\/configuration>","75","        <executions>","76","          <execution>","77","            <id>default-tests<\/id>","78","            <phase>test<\/phase>","79","            <goals>","80","              <goal>test<\/goal>","81","            <\/goals>","82","            <configuration>","83","              <includes>","84","                <include>**\/*Test.java<\/include>","85","              <\/includes>","86","              <excludes>","87","                <exclude>**\/OptionalTest.java<\/exclude>","88","              <\/excludes>","89","            <\/configuration>","90","          <\/execution>","91","          <execution>","92","            <id>test-optional<\/id>","93","            <phase>test<\/phase>","94","            <goals>","95","              <goal>test<\/goal>","96","            <\/goals>","97","            <configuration>","98","              <excludes>","99","                <exclude>**\/LoggerTest.java<\/exclude>","100","                <exclude>**\/MarkerTest.java<\/exclude>","101","              <\/excludes>","102","              <includes>","103","                <include>**\/OptionalTest.java<\/include>","104","              <\/includes>","105","              <classpathDependencyExcludes>","106","                <classpathDependencyExcludes>org.slf4j:slf4j-ext<\/classpathDependencyExcludes>","107","              <\/classpathDependencyExcludes>","108","            <\/configuration>","109","          <\/execution>","110","        <\/executions>","111","      <\/plugin>","112","    <\/plugins>","113","  <\/build>"],"delete":[]}],"slf4j-impl\/src\/test\/java\/org\/apache\/logging\/slf4j\/OptionalTest.java":[{"add":[],"delete":[]}]}},"d1c02ee5e3a863528dfad66a9bbd17c45d475a25":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/CompositeConfigurationTest.java":"MODIFY","log4j-core\/src\/test\/resources\/log4j-comp-root-loggers.xml":"ADD","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/composite\/DefaultMergeStrategy.java":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/config\/CompositeConfigurationTest.java":[{"add":["20","import static org.junit.Assert.fail;","29","import org.junit.Assert;","114","","115","    @Test","116","    public void testAttributeCheckWhenMergingConfigurations() {","117","        final LoggerContextRule lcr = new LoggerContextRule(\"classpath:log4j-comp-root-loggers.xml,log4j-comp-logger.json\");","118","        final Statement test = new Statement() {","119","            @Override","120","            public void evaluate() throws Throwable {","121","                try {","122","                    final CompositeConfiguration config = (CompositeConfiguration) lcr.getConfiguration();","123","                    Assert.assertNotNull(config);","124","                } catch (NullPointerException e) {","125","                    fail(\"Should not throw NullPointerException when there are different nodes.\");","126","                }","127","            }","128","        };","129","        runTest(lcr, test);","130","    }"],"delete":[]}],"log4j-core\/src\/test\/resources\/log4j-comp-root-loggers.xml":[{"add":[],"delete":[]}],"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1500\" dev=\"ggregory\" type=\"fix\" due-to=\"Jose Leon\">","27","        Merging configurations fail with an NPE when comparing Nodes with different attributes.","28","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/composite\/DefaultMergeStrategy.java":[{"add":["262","        final String value = node1.getAttributes().get(NAME);","263","        return value != null && value.toLowerCase().equals(node2.getAttributes().get(NAME).toLowerCase());","267","        final String value = node1.getAttributes().get(REF);","268","        return value != null && value.toLowerCase().equals(node2.getAttributes().get(REF).toLowerCase());"],"delete":["262","        return node1.getAttributes().get(NAME).toLowerCase().equals(node2.getAttributes().get(NAME).toLowerCase());","266","        return node1.getAttributes().get(REF).toLowerCase().equals(node2.getAttributes().get(REF).toLowerCase());"]}]}},"4d76d3e346c34ba32e12199fd70fbf68a9766142":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/util\/PluginRegistry.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/plugins\/util\/PluginRegistry.java":[{"add":["186","                } catch (final LinkageError e) {","187","                    LOGGER.info(\"Plugin [{}] could not be loaded due to linkage error.\", className, e);"],"delete":["186","                } catch (final VerifyError e) {","187","                    LOGGER.info(\"Plugin [{}] could not be loaded due to verification error.\", className, e);"]}],"src\/changes\/changes.xml":[{"add":["54","      <action issue=\"LOG4J2-2422\" dev=\"ggregory\" type=\"fix\" due-to=\"rswart, Gary Gregory\">","55","        Handle some unchecked exceptions while loading plugins.","56","      <\/action>"],"delete":[]}]}},"2be4de9b510f8a62a114a9aa31109f20e4a80795":{"changes":{"src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/xml\/XmlConfiguration.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/json\/JsonConfiguration.java":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1309\" dev=\"ggregory\" type=\"fix\">","27","        Configuration file error does not show cause exception.","28","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/xml\/XmlConfiguration.java":[{"add":["146","            LOGGER.error(\"Error parsing \" + configSource.getLocation(), e);"],"delete":["146","            LOGGER.error(\"Error parsing {}\", configSource.getLocation(), e);"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/json\/JsonConfiguration.java":[{"add":["0","\/*","1"," * Licensed to the Apache Software Foundation (ASF) under one or more","2"," * contributor license agreements. See the NOTICE file distributed with","3"," * this work for additional information regarding copyright ownership.","4"," * The ASF licenses this file to You under the Apache license, Version 2.0","5"," * (the \"License\"); you may not use this file except in compliance with","6"," * the License. You may obtain a copy of the License at","7"," *","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0","9"," *","10"," * Unless required by applicable law or agreed to in writing, software","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","13"," * See the license for the specific language governing permissions and","14"," * limitations under the license.","15"," *\/","16","package org.apache.logging.log4j.core.config.json;","17","","18","import java.io.ByteArrayInputStream;","19","import java.io.File;","20","import java.io.IOException;","21","import java.io.InputStream;","22","import java.util.ArrayList;","23","import java.util.Arrays;","24","import java.util.Iterator;","25","import java.util.List;","26","import java.util.Map;","27","","28","import com.fasterxml.jackson.core.JsonParser;","29","import com.fasterxml.jackson.databind.JsonNode;","30","import com.fasterxml.jackson.databind.ObjectMapper;","31","import org.apache.logging.log4j.core.config.AbstractConfiguration;","32","import org.apache.logging.log4j.core.config.Configuration;","33","import org.apache.logging.log4j.core.config.ConfigurationSource;","34","import org.apache.logging.log4j.core.config.ConfiguratonFileWatcher;","35","import org.apache.logging.log4j.core.config.LoggerConfig;","36","import org.apache.logging.log4j.core.config.Node;","37","import org.apache.logging.log4j.core.config.Reconfigurable;","38","import org.apache.logging.log4j.core.config.plugins.util.PluginType;","39","import org.apache.logging.log4j.core.config.plugins.util.ResolverUtil;","40","import org.apache.logging.log4j.core.config.status.StatusConfiguration;","41","import org.apache.logging.log4j.core.util.FileWatcher;","42","import org.apache.logging.log4j.core.util.Patterns;","43","","44","\/**","45"," * Creates a Node hierarchy from a JSON file.","46"," *\/","47","public class JsonConfiguration extends AbstractConfiguration implements Reconfigurable {","48","","49","    private static final String[] VERBOSE_CLASSES = new String[] { ResolverUtil.class.getName() };","50","    private final List<Status> status = new ArrayList<>();","51","    private JsonNode root;","52","","53","    public JsonConfiguration(final ConfigurationSource configSource) {","54","        super(configSource);","55","        final File configFile = configSource.getFile();","56","        byte[] buffer;","57","        try {","58","            try (final InputStream configStream = configSource.getInputStream()) {","59","                buffer = toByteArray(configStream);","60","            }","61","            final InputStream is = new ByteArrayInputStream(buffer);","62","            root = getObjectMapper().readTree(is);","63","            if (root.size() == 1) {","64","                for (final JsonNode node : root) {","65","                    root = node;","66","                }","67","            }","68","            processAttributes(rootNode, root);","69","            final StatusConfiguration statusConfig = new StatusConfiguration().withVerboseClasses(VERBOSE_CLASSES)","70","                    .withStatus(getDefaultStatus());","71","            for (final Map.Entry<String, String> entry : rootNode.getAttributes().entrySet()) {","72","                final String key = entry.getKey();","73","                final String value = getStrSubstitutor().replace(entry.getValue());","74","                \/\/ TODO: this duplicates a lot of the XmlConfiguration constructor","75","                if (\"status\".equalsIgnoreCase(key)) {","76","                    statusConfig.withStatus(value);","77","                } else if (\"dest\".equalsIgnoreCase(key)) {","78","                    statusConfig.withDestination(value);","79","                } else if (\"shutdownHook\".equalsIgnoreCase(key)) {","80","                    isShutdownHookEnabled = !\"disable\".equalsIgnoreCase(value);","81","                } else if (\"verbose\".equalsIgnoreCase(entry.getKey())) {","82","                    statusConfig.withVerbosity(value);","83","                } else if (\"packages\".equalsIgnoreCase(key)) {","84","                    pluginPackages.addAll(Arrays.asList(value.split(Patterns.COMMA_SEPARATOR)));","85","                } else if (\"name\".equalsIgnoreCase(key)) {","86","                    setName(value);","87","                } else if (\"monitorInterval\".equalsIgnoreCase(key)) {","88","                    final int intervalSeconds = Integer.parseInt(value);","89","                    if (intervalSeconds > 0) {","90","                        getWatchManager().setIntervalSeconds(intervalSeconds);","91","                        if (configFile != null) {","92","                            FileWatcher watcher = new ConfiguratonFileWatcher(this, listeners);","93","                            getWatchManager().watchFile(configFile, watcher);","94","                        }","95","                    }","96","                } else if (\"advertiser\".equalsIgnoreCase(key)) {","97","                    createAdvertiser(value, configSource, buffer, \"application\/json\");","98","                }","99","            }","100","            statusConfig.initialize();","101","            if (getName() == null) {","102","                setName(configSource.getLocation());","103","            }","104","        } catch (final Exception ex) {","105","            LOGGER.error(\"Error parsing \" + configSource.getLocation(), ex);","106","        }","107","    }","108","","109","    protected ObjectMapper getObjectMapper() {","110","        return new ObjectMapper().configure(JsonParser.Feature.ALLOW_COMMENTS, true);","111","    }","112","","113","    @Override","114","    public void setup() {","115","        final Iterator<Map.Entry<String, JsonNode>> iter = root.fields();","116","        final List<Node> children = rootNode.getChildren();","117","        while (iter.hasNext()) {","118","            final Map.Entry<String, JsonNode> entry = iter.next();","119","            final JsonNode n = entry.getValue();","120","            if (n.isObject()) {","121","                LOGGER.debug(\"Processing node for object {}\", entry.getKey());","122","                children.add(constructNode(entry.getKey(), rootNode, n));","123","            } else if (n.isArray()) {","124","                LOGGER.error(\"Arrays are not supported at the root configuration.\");","125","            }","126","        }","127","        LOGGER.debug(\"Completed parsing configuration\");","128","        if (status.size() > 0) {","129","            for (final Status s : status) {","130","                LOGGER.error(\"Error processing element \" + s.name + \": \" + s.errorType);","131","            }","132","        }","133","    }","134","","135","    @Override","136","    public Configuration reconfigure() {","137","        try {","138","            final ConfigurationSource source = getConfigurationSource().resetInputStream();","139","            if (source == null) {","140","                return null;","141","            }","142","            return new JsonConfiguration(source);","143","        } catch (final IOException ex) {","144","            LOGGER.error(\"Cannot locate file {}\", getConfigurationSource(), ex);","145","        }","146","        return null;","147","    }","148","","149","    private Node constructNode(final String name, final Node parent, final JsonNode jsonNode) {","150","        final PluginType<?> type = pluginManager.getPluginType(name);","151","        final Node node = new Node(parent, name, type);","152","        processAttributes(node, jsonNode);","153","        final Iterator<Map.Entry<String, JsonNode>> iter = jsonNode.fields();","154","        final List<Node> children = node.getChildren();","155","        while (iter.hasNext()) {","156","            final Map.Entry<String, JsonNode> entry = iter.next();","157","            final JsonNode n = entry.getValue();","158","            if (n.isArray() || n.isObject()) {","159","                if (type == null) {","160","                    status.add(new Status(name, n, ErrorType.CLASS_NOT_FOUND));","161","                }","162","                if (n.isArray()) {","163","                    LOGGER.debug(\"Processing node for array {}\", entry.getKey());","164","                    for (int i = 0; i < n.size(); ++i) {","165","                        final String pluginType = getType(n.get(i), entry.getKey());","166","                        final PluginType<?> entryType = pluginManager.getPluginType(pluginType);","167","                        final Node item = new Node(node, entry.getKey(), entryType);","168","                        processAttributes(item, n.get(i));","169","                        if (pluginType.equals(entry.getKey())) {","170","                            LOGGER.debug(\"Processing {}[{}]\", entry.getKey(), i);","171","                        } else {","172","                            LOGGER.debug(\"Processing {} {}[{}]\", pluginType, entry.getKey(), i);","173","                        }","174","                        final Iterator<Map.Entry<String, JsonNode>> itemIter = n.get(i).fields();","175","                        final List<Node> itemChildren = item.getChildren();","176","                        while (itemIter.hasNext()) {","177","                            final Map.Entry<String, JsonNode> itemEntry = itemIter.next();","178","                            if (itemEntry.getValue().isObject()) {","179","                                LOGGER.debug(\"Processing node for object {}\", itemEntry.getKey());","180","                                itemChildren.add(constructNode(itemEntry.getKey(), item, itemEntry.getValue()));","181","                            } else if (itemEntry.getValue().isArray()) {","182","                                final JsonNode array = itemEntry.getValue();","183","                                final String entryName = itemEntry.getKey();","184","                                LOGGER.debug(\"Processing array for object {}\", entryName);","185","                                for (int j = 0; j < array.size(); ++j) {","186","                                    itemChildren.add(constructNode(entryName, item, array.get(j)));","187","                                }","188","                            }","189","","190","                        }","191","                        children.add(item);","192","                    }","193","                } else {","194","                    LOGGER.debug(\"Processing node for object {}\", entry.getKey());","195","                    children.add(constructNode(entry.getKey(), node, n));","196","                }","197","            } else {","198","                LOGGER.debug(\"Node {} is of type {}\", entry.getKey(), n.getNodeType());","199","            }","200","        }","201","","202","        String t;","203","        if (type == null) {","204","            t = \"null\";","205","        } else {","206","            t = type.getElementName() + ':' + type.getPluginClass();","207","        }","208","","209","        final String p = node.getParent() == null ? \"null\"","210","                : node.getParent().getName() == null ? LoggerConfig.ROOT : node.getParent().getName();","211","        LOGGER.debug(\"Returning {} with parent {} of type {}\", node.getName(), p, t);","212","        return node;","213","    }","214","","215","    private String getType(final JsonNode node, final String name) {","216","        final Iterator<Map.Entry<String, JsonNode>> iter = node.fields();","217","        while (iter.hasNext()) {","218","            final Map.Entry<String, JsonNode> entry = iter.next();","219","            if (entry.getKey().equalsIgnoreCase(\"type\")) {","220","                final JsonNode n = entry.getValue();","221","                if (n.isValueNode()) {","222","                    return n.asText();","223","                }","224","            }","225","        }","226","        return name;","227","    }","228","","229","    private void processAttributes(final Node parent, final JsonNode node) {","230","        final Map<String, String> attrs = parent.getAttributes();","231","        final Iterator<Map.Entry<String, JsonNode>> iter = node.fields();","232","        while (iter.hasNext()) {","233","            final Map.Entry<String, JsonNode> entry = iter.next();","234","            if (!entry.getKey().equalsIgnoreCase(\"type\")) {","235","                final JsonNode n = entry.getValue();","236","                if (n.isValueNode()) {","237","                    attrs.put(entry.getKey(), n.asText());","238","                }","239","            }","240","        }","241","    }","242","","243","    @Override","244","    public String toString() {","245","        return getClass().getSimpleName() + \"[location=\" + getConfigurationSource() + \"]\";","246","    }","247","","248","    \/**","249","     * The error that occurred.","250","     *\/","251","    private enum ErrorType {","252","        CLASS_NOT_FOUND","253","    }","254","","255","    \/**","256","     * Status for recording errors.","257","     *\/","258","    private static class Status {","259","        private final JsonNode node;","260","        private final String name;","261","        private final ErrorType errorType;","262","","263","        public Status(final String name, final JsonNode node, final ErrorType errorType) {","264","            this.name = name;","265","            this.node = node;","266","            this.errorType = errorType;","267","        }","268","","269","        @Override","270","        public String toString() {","271","            return \"Status [name=\" + name + \", errorType=\" + errorType + \", node=\" + node + \"]\";","272","        }","273","    }","274","}"],"delete":["0","\/*\r","1"," * Licensed to the Apache Software Foundation (ASF) under one or more\r","2"," * contributor license agreements. See the NOTICE file distributed with\r","3"," * this work for additional information regarding copyright ownership.\r","4"," * The ASF licenses this file to You under the Apache license, Version 2.0\r","5"," * (the \"License\"); you may not use this file except in compliance with\r","6"," * the License. You may obtain a copy of the License at\r","7"," *\r","8"," *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0\r","9"," *\r","10"," * Unless required by applicable law or agreed to in writing, software\r","11"," * distributed under the License is distributed on an \"AS IS\" BASIS,\r","12"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r","13"," * See the license for the specific language governing permissions and\r","14"," * limitations under the license.\r","15"," *\/\r","16","package org.apache.logging.log4j.core.config.json;\r","17","\r","18","import java.io.ByteArrayInputStream;\r","19","import java.io.File;\r","20","import java.io.IOException;\r","21","import java.io.InputStream;\r","22","import java.util.ArrayList;\r","23","import java.util.Arrays;\r","24","import java.util.Iterator;\r","25","import java.util.List;\r","26","import java.util.Map;\r","27","\r","28","import com.fasterxml.jackson.core.JsonParser;\r","29","import com.fasterxml.jackson.databind.JsonNode;\r","30","import com.fasterxml.jackson.databind.ObjectMapper;\r","31","import org.apache.logging.log4j.core.config.AbstractConfiguration;\r","32","import org.apache.logging.log4j.core.config.Configuration;\r","33","import org.apache.logging.log4j.core.config.ConfigurationSource;\r","34","import org.apache.logging.log4j.core.config.ConfiguratonFileWatcher;\r","35","import org.apache.logging.log4j.core.config.LoggerConfig;\r","36","import org.apache.logging.log4j.core.config.Node;\r","37","import org.apache.logging.log4j.core.config.Reconfigurable;\r","38","import org.apache.logging.log4j.core.config.plugins.util.PluginType;\r","39","import org.apache.logging.log4j.core.config.plugins.util.ResolverUtil;\r","40","import org.apache.logging.log4j.core.config.status.StatusConfiguration;\r","41","import org.apache.logging.log4j.core.util.FileWatcher;\r","42","import org.apache.logging.log4j.core.util.Patterns;\r","43","\r","44","\/**\r","45"," * Creates a Node hierarchy from a JSON file.\r","46"," *\/\r","47","public class JsonConfiguration extends AbstractConfiguration implements Reconfigurable {\r","48","\r","49","    private static final String[] VERBOSE_CLASSES = new String[] { ResolverUtil.class.getName() };\r","50","    private final List<Status> status = new ArrayList<>();\r","51","    private JsonNode root;\r","52","\r","53","    public JsonConfiguration(final ConfigurationSource configSource) {\r","54","        super(configSource);\r","55","        final File configFile = configSource.getFile();\r","56","        byte[] buffer;\r","57","        try {\r","58","            try (final InputStream configStream = configSource.getInputStream()) {\r","59","                buffer = toByteArray(configStream);\r","60","            }\r","61","            final InputStream is = new ByteArrayInputStream(buffer);\r","62","            root = getObjectMapper().readTree(is);\r","63","            if (root.size() == 1) {\r","64","                for (final JsonNode node : root) {\r","65","                    root = node;\r","66","                }\r","67","            }\r","68","            processAttributes(rootNode, root);\r","69","            final StatusConfiguration statusConfig = new StatusConfiguration().withVerboseClasses(VERBOSE_CLASSES)\r","70","                    .withStatus(getDefaultStatus());\r","71","            for (final Map.Entry<String, String> entry : rootNode.getAttributes().entrySet()) {\r","72","                final String key = entry.getKey();\r","73","                final String value = getStrSubstitutor().replace(entry.getValue());\r","74","                \/\/ TODO: this duplicates a lot of the XmlConfiguration constructor\r","75","                if (\"status\".equalsIgnoreCase(key)) {\r","76","                    statusConfig.withStatus(value);\r","77","                } else if (\"dest\".equalsIgnoreCase(key)) {\r","78","                    statusConfig.withDestination(value);\r","79","                } else if (\"shutdownHook\".equalsIgnoreCase(key)) {\r","80","                    isShutdownHookEnabled = !\"disable\".equalsIgnoreCase(value);\r","81","                } else if (\"verbose\".equalsIgnoreCase(entry.getKey())) {\r","82","                    statusConfig.withVerbosity(value);\r","83","                } else if (\"packages\".equalsIgnoreCase(key)) {\r","84","                    pluginPackages.addAll(Arrays.asList(value.split(Patterns.COMMA_SEPARATOR)));\r","85","                } else if (\"name\".equalsIgnoreCase(key)) {\r","86","                    setName(value);\r","87","                } else if (\"monitorInterval\".equalsIgnoreCase(key)) {\r","88","                    final int intervalSeconds = Integer.parseInt(value);\r","89","                    if (intervalSeconds > 0) {\r","90","                        getWatchManager().setIntervalSeconds(intervalSeconds);\r","91","                        if (configFile != null) {\r","92","                            FileWatcher watcher = new ConfiguratonFileWatcher(this, listeners);\r","93","                            getWatchManager().watchFile(configFile, watcher);\r","94","                        }\r","95","                    }\r","96","                } else if (\"advertiser\".equalsIgnoreCase(key)) {\r","97","                    createAdvertiser(value, configSource, buffer, \"application\/json\");\r","98","                }\r","99","            }\r","100","            statusConfig.initialize();\r","101","            if (getName() == null) {\r","102","                setName(configSource.getLocation());\r","103","            }\r","104","        } catch (final Exception ex) {\r","105","            LOGGER.error(\"Error parsing {}\", configSource.getLocation(), ex);\r","106","        }\r","107","    }\r","108","\r","109","    protected ObjectMapper getObjectMapper() {\r","110","        return new ObjectMapper().configure(JsonParser.Feature.ALLOW_COMMENTS, true);\r","111","    }\r","112","\r","113","    @Override\r","114","    public void setup() {\r","115","        final Iterator<Map.Entry<String, JsonNode>> iter = root.fields();\r","116","        final List<Node> children = rootNode.getChildren();\r","117","        while (iter.hasNext()) {\r","118","            final Map.Entry<String, JsonNode> entry = iter.next();\r","119","            final JsonNode n = entry.getValue();\r","120","            if (n.isObject()) {\r","121","                LOGGER.debug(\"Processing node for object {}\", entry.getKey());\r","122","                children.add(constructNode(entry.getKey(), rootNode, n));\r","123","            } else if (n.isArray()) {\r","124","                LOGGER.error(\"Arrays are not supported at the root configuration.\");\r","125","            }\r","126","        }\r","127","        LOGGER.debug(\"Completed parsing configuration\");\r","128","        if (status.size() > 0) {\r","129","            for (final Status s : status) {\r","130","                LOGGER.error(\"Error processing element \" + s.name + \": \" + s.errorType);\r","131","            }\r","132","        }\r","133","    }\r","134","\r","135","    @Override\r","136","    public Configuration reconfigure() {\r","137","        try {\r","138","            final ConfigurationSource source = getConfigurationSource().resetInputStream();\r","139","            if (source == null) {\r","140","                return null;\r","141","            }\r","142","            return new JsonConfiguration(source);\r","143","        } catch (final IOException ex) {\r","144","            LOGGER.error(\"Cannot locate file {}\", getConfigurationSource(), ex);\r","145","        }\r","146","        return null;\r","147","    }\r","148","\r","149","    private Node constructNode(final String name, final Node parent, final JsonNode jsonNode) {\r","150","        final PluginType<?> type = pluginManager.getPluginType(name);\r","151","        final Node node = new Node(parent, name, type);\r","152","        processAttributes(node, jsonNode);\r","153","        final Iterator<Map.Entry<String, JsonNode>> iter = jsonNode.fields();\r","154","        final List<Node> children = node.getChildren();\r","155","        while (iter.hasNext()) {\r","156","            final Map.Entry<String, JsonNode> entry = iter.next();\r","157","            final JsonNode n = entry.getValue();\r","158","            if (n.isArray() || n.isObject()) {\r","159","                if (type == null) {\r","160","                    status.add(new Status(name, n, ErrorType.CLASS_NOT_FOUND));\r","161","                }\r","162","                if (n.isArray()) {\r","163","                    LOGGER.debug(\"Processing node for array {}\", entry.getKey());\r","164","                    for (int i = 0; i < n.size(); ++i) {\r","165","                        final String pluginType = getType(n.get(i), entry.getKey());\r","166","                        final PluginType<?> entryType = pluginManager.getPluginType(pluginType);\r","167","                        final Node item = new Node(node, entry.getKey(), entryType);\r","168","                        processAttributes(item, n.get(i));\r","169","                        if (pluginType.equals(entry.getKey())) {\r","170","                            LOGGER.debug(\"Processing {}[{}]\", entry.getKey(), i);\r","171","                        } else {\r","172","                            LOGGER.debug(\"Processing {} {}[{}]\", pluginType, entry.getKey(), i);\r","173","                        }\r","174","                        final Iterator<Map.Entry<String, JsonNode>> itemIter = n.get(i).fields();\r","175","                        final List<Node> itemChildren = item.getChildren();\r","176","                        while (itemIter.hasNext()) {\r","177","                            final Map.Entry<String, JsonNode> itemEntry = itemIter.next();\r","178","                            if (itemEntry.getValue().isObject()) {\r","179","                                LOGGER.debug(\"Processing node for object {}\", itemEntry.getKey());\r","180","                                itemChildren.add(constructNode(itemEntry.getKey(), item, itemEntry.getValue()));\r","181","                            } else if (itemEntry.getValue().isArray()) {\r","182","                                final JsonNode array = itemEntry.getValue();\r","183","                                final String entryName = itemEntry.getKey();\r","184","                                LOGGER.debug(\"Processing array for object {}\", entryName);\r","185","                                for (int j = 0; j < array.size(); ++j) {\r","186","                                    itemChildren.add(constructNode(entryName, item, array.get(j)));\r","187","                                }\r","188","                            }\r","189","\r","190","                        }\r","191","                        children.add(item);\r","192","                    }\r","193","                } else {\r","194","                    LOGGER.debug(\"Processing node for object {}\", entry.getKey());\r","195","                    children.add(constructNode(entry.getKey(), node, n));\r","196","                }\r","197","            } else {\r","198","                LOGGER.debug(\"Node {} is of type {}\", entry.getKey(), n.getNodeType());\r","199","            }\r","200","        }\r","201","\r","202","        String t;\r","203","        if (type == null) {\r","204","            t = \"null\";\r","205","        } else {\r","206","            t = type.getElementName() + ':' + type.getPluginClass();\r","207","        }\r","208","\r","209","        final String p = node.getParent() == null ? \"null\"\r","210","                : node.getParent().getName() == null ? LoggerConfig.ROOT : node.getParent().getName();\r","211","        LOGGER.debug(\"Returning {} with parent {} of type {}\", node.getName(), p, t);\r","212","        return node;\r","213","    }\r","214","\r","215","    private String getType(final JsonNode node, final String name) {\r","216","        final Iterator<Map.Entry<String, JsonNode>> iter = node.fields();\r","217","        while (iter.hasNext()) {\r","218","            final Map.Entry<String, JsonNode> entry = iter.next();\r","219","            if (entry.getKey().equalsIgnoreCase(\"type\")) {\r","220","                final JsonNode n = entry.getValue();\r","221","                if (n.isValueNode()) {\r","222","                    return n.asText();\r","223","                }\r","224","            }\r","225","        }\r","226","        return name;\r","227","    }\r","228","\r","229","    private void processAttributes(final Node parent, final JsonNode node) {\r","230","        final Map<String, String> attrs = parent.getAttributes();\r","231","        final Iterator<Map.Entry<String, JsonNode>> iter = node.fields();\r","232","        while (iter.hasNext()) {\r","233","            final Map.Entry<String, JsonNode> entry = iter.next();\r","234","            if (!entry.getKey().equalsIgnoreCase(\"type\")) {\r","235","                final JsonNode n = entry.getValue();\r","236","                if (n.isValueNode()) {\r","237","                    attrs.put(entry.getKey(), n.asText());\r","238","                }\r","239","            }\r","240","        }\r","241","    }\r","242","\r","243","    @Override\r","244","    public String toString() {\r","245","        return getClass().getSimpleName() + \"[location=\" + getConfigurationSource() + \"]\";\r","246","    }\r","247","\r","248","    \/**\r","249","     * The error that occurred.\r","250","     *\/\r","251","    private enum ErrorType {\r","252","        CLASS_NOT_FOUND\r","253","    }\r","254","\r","255","    \/**\r","256","     * Status for recording errors.\r","257","     *\/\r","258","    private static class Status {\r","259","        private final JsonNode node;\r","260","        private final String name;\r","261","        private final ErrorType errorType;\r","262","\r","263","        public Status(final String name, final JsonNode node, final ErrorType errorType) {\r","264","            this.name = name;\r","265","            this.node = node;\r","266","            this.errorType = errorType;\r","267","        }\r","268","\r","269","        @Override\r","270","        public String toString() {\r","271","            return \"Status [name=\" + name + \", errorType=\" + errorType + \", node=\" + node + \"]\";\r","272","        }\r","273","    }\r","274","}\r"]}]}},"cf60693834b269effe31fc17749025205cdaaefa":{"changes":{"\/dev\/null":"DELETE","log4j-1.2-api\/src\/main\/java\/org\/apache\/log4j\/Category.java":"MODIFY"},"diff":{"\/dev\/null":[{"add":[],"delete":[]}],"log4j-1.2-api\/src\/main\/java\/org\/apache\/log4j\/Category.java":[{"add":["33","import org.apache.logging.log4j.spi.AbstractLoggerAdapter;","42","    private static PrivateAdapter adapter = new PrivateAdapter();","78","        return getInstance(PrivateManager.getContext(), name, adapter);","82","        return getInstance(context, name, adapter);","96","    static Logger getInstance(final LoggerContext context, final String name, final PrivateAdapter factory) {","102","        logger = factory.newLogger(name, context);","455","    private static class PrivateAdapter extends AbstractLoggerAdapter<Logger> {","458","        protected Logger newLogger(final String name, final org.apache.logging.log4j.spi.LoggerContext context) {","459","            return new Logger((LoggerContext) context, name);","460","        }","461","","462","        @Override","463","        protected org.apache.logging.log4j.spi.LoggerContext getContext() {","464","            return PrivateManager.getContext();"],"delete":["27","import org.apache.log4j.spi.LoggerFactoryBridge;","42","    private static LoggerFactoryBridge loggerFactory = new PrivateFactory();","78","        return getInstance(PrivateManager.getContext(), name, loggerFactory);","82","        return getInstance(context, name, loggerFactory);","96","    static Logger getInstance(final LoggerContext context, final String name, final LoggerFactoryBridge factory) {","102","        logger = factory.makeNewLoggerInstance(context, name);","455","    \/**","456","     * Private logger factory.","457","     *\/","458","    private static class PrivateFactory implements LoggerFactoryBridge {","461","        public Logger makeNewLoggerInstance(org.apache.logging.log4j.core.LoggerContext context, final String name) {","462","            return new Logger(context, name);"]}]}},"6d02d668a306872d7cc6d1d0bd01bab3c8413ea6":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2650\" dev=\"rgoers\" type=\"fix\" due-to=\"Mattia Bertorello\">","33","        Support emulating a MAC address when using ipv6.","34","      <\/action>"],"delete":[]}]}},"e40dc2b19555298360b061d6a40b299bea2fdd1b":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/tools\/Generate.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/tools\/Generate.java":[{"add":["1097","        sb.append(System.getProperty(\"line.separator\"));"],"delete":["24","import org.apache.logging.log4j.util.Strings;","25","","1099","        sb.append(Strings.LINE_SEPARATOR);"]}],"src\/changes\/changes.xml":[{"add":["26","      <action issue=\"LOG4J2-1744\" dev=\"rpopma\" type=\"fix\">","27","        The custom logger Generate tool no longer requires the log4j-api module on the classpath.","28","      <\/action>"],"delete":[]}]}},"c6318b63818427833db2dc08389c463102c1a66e":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/lookup\/JndiLookupTest.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/lookup\/JndiLookup.java":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/lookup\/JndiLookupTest.java":[{"add":["18","import java.util.Arrays;","19","import java.util.Collection;","38","    private static final String TEST_INTEGRAL_NAME = \"int-value\";","39","    private static final int TEST_INTEGRAL_VALUE = 42;","40","    private static final String TEST_STRINGS_NAME = \"string-collection\";","41","    private static final Collection<String> TEST_STRINGS_COLLECTION = Arrays.asList(\"one\", \"two\", \"three\");","50","        context.bind(JndiLookup.CONTAINER_JNDI_RESOURCE_PATH_PREFIX + TEST_INTEGRAL_NAME, TEST_INTEGRAL_VALUE);","51","        context.bind(JndiLookup.CONTAINER_JNDI_RESOURCE_PATH_PREFIX + TEST_STRINGS_NAME, TEST_STRINGS_COLLECTION);","76","","77","    @Test","78","    public void testNonStringLookup() throws Exception {","79","        \/\/ LOG4J2-1310","80","        final StrLookup lookup = new JndiLookup();","81","        final String integralValue = lookup.lookup(TEST_INTEGRAL_NAME);","82","        assertEquals(String.valueOf(TEST_INTEGRAL_VALUE), integralValue);","83","        final String collectionValue = lookup.lookup(TEST_STRINGS_NAME);","84","        assertEquals(String.valueOf(TEST_STRINGS_COLLECTION), collectionValue);","85","    }"],"delete":[]}],"src\/changes\/changes.xml":[{"add":["207","      <action issue=\"LOG4J2-1310\" dev=\"mattsicker\" type=\"fix\">","208","        JndiLookup mindlessly casts to String and should use String.valueOf().","209","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/lookup\/JndiLookup.java":[{"add":["54","            return String.valueOf(jndiManager.lookup(jndiName));"],"delete":["54","            return jndiManager.lookup(jndiName);"]}]}},"d39b863987ffb6a303725f042cbcabb423576c6a":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/FileManager.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingFileManager.java":"MODIFY","log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingNewDirectoryTest.java":"ADD","log4j-core\/src\/test\/resources\/log4j-rolling-new-directory.xml":"ADD"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/FileManager.java":[{"add":["190","        createParentDir(file);","205","    protected void createParentDir(File file) {","206","    }","207",""],"delete":[]}],"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2875\" dev=\"rgoers\" type=\"fix\">","33","        Rollover was failing to create directories when using a DirectFileeRolloverStrategy.","34","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingFileManager.java":[{"add":["220","    ","221","    @Override","222","    protected void createParentDir(File file) {","223","        if (directWrite) {","224","            file.getParentFile().mkdirs();","225","        }","226","    }"],"delete":[]}],"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingNewDirectoryTest.java":[{"add":[],"delete":[]}],"log4j-core\/src\/test\/resources\/log4j-rolling-new-directory.xml":[{"add":[],"delete":[]}]}},"b46c23c9c6e4e272a747356aef94edc3e9e4bcdc":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["102","        CsvParameterLayout and CsvLogEventLayout insert NUL characters if data starts with {, (, [ or \""],"delete":["102","        CsvParameterLayout is inserting NUL character if data starts with {, (, [ or \""]}]}},"b417ca7d27e69b155e2310a09eb03afbd735d080":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2889\" dev=\"mattsicker\" type=\"update\" due-to=\"Geng Yuanzhe\">","33","        Add date pattern support for HTML layout.","34","      <\/action>"],"delete":[]}]}},"5ff0719f28bbc4cf0b8b368e170af3dc6ae56033":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["32","      <action issue=\"LOG4J2-2882\" dev=\"rgoers\" type=\"fix\" due-to=\"Emmanuel Bourg\">","33","        Support java.util.logging filters when using that API.","34","      <\/action>"],"delete":[]}]}},"f14341935c9e537cd8a002e8f716e2413e1a2bf1":{"changes":{"log4j-bom\/pom.xml":"MODIFY","log4j-jpl\/pom.xml":"MODIFY","log4j-taglib\/pom.xml":"MODIFY","log4j-iostreams\/pom.xml":"MODIFY","log4j-spring-cloud-config\/log4j-spring-cloud-config-samples\/pom.xml":"MODIFY","log4j-api\/pom.xml":"MODIFY","log4j-perf\/pom.xml":"MODIFY","log4j-core-its\/pom.xml":"MODIFY","log4j-samples\/log4j-samples-flume-remote\/pom.xml":"MODIFY","pom.xml":"MODIFY","log4j-core\/pom.xml":"MODIFY","log4j-jdbc-dbcp2\/pom.xml":"MODIFY","log4j-couchdb\/pom.xml":"MODIFY","log4j-slf4j18-impl\/pom.xml":"MODIFY","log4j-distribution\/pom.xml":"MODIFY","log4j-spring-cloud-config\/log4j-spring-cloud-config-client\/pom.xml":"MODIFY","log4j-flume-ng\/pom.xml":"MODIFY","log4j-samples\/log4j-samples-loggerProperties\/pom.xml":"MODIFY","log4j-jmx-gui\/pom.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/util\/ArrayUtils.java":"MODIFY","log4j-to-slf4j\/pom.xml":"MODIFY","log4j-liquibase\/pom.xml":"MODIFY","log4j-spring-cloud-config\/pom.xml":"MODIFY","log4j-1.2-api\/pom.xml":"MODIFY","log4j-samples\/pom.xml":"MODIFY","log4j-osgi\/pom.xml":"MODIFY","log4j-docker\/pom.xml":"MODIFY","log4j-jcl\/pom.xml":"MODIFY","log4j-spring-cloud-config\/log4j-spring-cloud-config-samples\/log4j-spring-cloud-config-sample-application\/pom.xml":"MODIFY","log4j-slf4j-impl\/pom.xml":"MODIFY","log4j-web\/pom.xml":"MODIFY","log4j-cassandra\/pom.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/util\/NetUtils.java":"MODIFY","log4j-spring-cloud-config\/log4j-spring-cloud-config-samples\/log4j-spring-cloud-config-sample-server\/pom.xml":"MODIFY","log4j-samples\/log4j-samples-flume-embedded\/pom.xml":"MODIFY","log4j-api-java9\/pom.xml":"MODIFY","log4j-core-java9\/pom.xml":"MODIFY","log4j-kubernetes\/pom.xml":"MODIFY","log4j-mongodb3\/pom.xml":"MODIFY","log4j-samples\/log4j-samples-configuration\/pom.xml":"MODIFY","log4j-appserver\/pom.xml":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-jpa\/pom.xml":"MODIFY","log4j-jul\/pom.xml":"MODIFY","log4j-mongodb2\/pom.xml":"MODIFY","log4j-samples\/log4j-samples-flume-common\/pom.xml":"MODIFY"},"diff":{"log4j-bom\/pom.xml":[{"add":["28","  <version>2.14.0-SNAPSHOT<\/version>"],"delete":["28","  <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-jpl\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-taglib\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-iostreams\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-spring-cloud-config\/log4j-spring-cloud-config-samples\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-api\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-perf\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>","69","      <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>","69","      <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-core-its\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-samples\/log4j-samples-flume-remote\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"pom.xml":[{"add":["22","  <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","  <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-core\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-jdbc-dbcp2\/pom.xml":[{"add":["13","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["13","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-couchdb\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-slf4j18-impl\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-distribution\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-spring-cloud-config\/log4j-spring-cloud-config-client\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-flume-ng\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-samples\/log4j-samples-loggerProperties\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-jmx-gui\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/util\/ArrayUtils.java":[{"add":["27","     * Checks if an array of Objects is empty or {@code null}.","28","     *","29","     * @param array  the array to test","30","     * @return {@code true} if the array is empty or {@code null}","31","     * @since 2.1","32","     *\/","33","    public static boolean isEmpty(final byte[] array) {","34","        return getLength(array) == 0;","35","    }","36","    ","37","    \/**"],"delete":[]}],"log4j-to-slf4j\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-liquibase\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-spring-cloud-config\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-1.2-api\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-samples\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-osgi\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-docker\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-jcl\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-spring-cloud-config\/log4j-spring-cloud-config-samples\/log4j-spring-cloud-config-sample-application\/pom.xml":[{"add":["23","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["23","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-slf4j-impl\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-web\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-cassandra\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/util\/NetUtils.java":[{"add":["54","            return addr == null ? UNKNOWN_LOCALHOST : addr.getHostName();","58","                if (interfaces != null) {","59","                    while (interfaces.hasMoreElements()) {","60","                        final NetworkInterface nic = interfaces.nextElement();","61","                        final Enumeration<InetAddress> addresses = nic.getInetAddresses();","62","                        while (addresses.hasMoreElements()) {","63","                            final InetAddress address = addresses.nextElement();","64","                            if (!address.isLoopbackAddress()) {","65","                                final String hostname = address.getHostName();","66","                                if (hostname != null) {","67","                                    return hostname;","68","                                }","99","                    if (networkInterfaces != null) {","100","                        while (networkInterfaces.hasMoreElements() && mac == null) {","101","                            final NetworkInterface nic = networkInterfaces.nextElement();","102","                            if (isUpAndNotLoopback(nic)) {","103","                                mac = nic.getHardwareAddress();","104","                            }","111","            if (ArrayUtils.isEmpty(mac) && localHost != null) {","112","                \/\/ Emulate a MAC address with an IP v4 or v6","129","        if (!ArrayUtils.isEmpty(macAddr)) {"],"delete":["54","            return addr.getHostName();","58","                while (interfaces.hasMoreElements()) {","59","                    final NetworkInterface nic = interfaces.nextElement();","60","                    final Enumeration<InetAddress> addresses = nic.getInetAddresses();","61","                    while (addresses.hasMoreElements()) {","62","                        final InetAddress address = addresses.nextElement();","63","                        if (!address.isLoopbackAddress()) {","64","                            final String hostname = address.getHostName();","65","                            if (hostname != null) {","66","                                return hostname;","97","                    while (networkInterfaces.hasMoreElements() && mac == null) {","98","                        final NetworkInterface nic = networkInterfaces.nextElement();","99","                        if (isUpAndNotLoopback(nic)) {","100","                            mac = nic.getHardwareAddress();","107","            if (mac == null || mac.length == 0) {","108","                \/\/ Emulate a mac address with an IP v4 or v6","125","        if (macAddr != null && macAddr.length > 0) {"]}],"log4j-spring-cloud-config\/log4j-spring-cloud-config-samples\/log4j-spring-cloud-config-sample-server\/pom.xml":[{"add":["23","  <version>2.14.0-SNAPSHOT<\/version>"],"delete":["23","  <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-samples\/log4j-samples-flume-embedded\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-api-java9\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-core-java9\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-kubernetes\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-mongodb3\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-samples\/log4j-samples-configuration\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-appserver\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"src\/changes\/changes.xml":[{"add":["31","    <release version=\"2.14.0\" date=\"2020-MM-DD\" description=\"GA Release 2.14.0\">","32","      <action issue=\"LOG4J2-2844\" dev=\"ggregory\" type=\"fix\">","33","        Null pointer exception when no network interfaces are available.","34","      <\/action>","35","    <\/release>"],"delete":[]}],"log4j-jpa\/pom.xml":[{"add":["13","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["13","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-jul\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-mongodb2\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}],"log4j-samples\/log4j-samples-flume-common\/pom.xml":[{"add":["22","    <version>2.14.0-SNAPSHOT<\/version>"],"delete":["22","    <version>2.14.0--SNAPSHOT<\/version>"]}]}},"d5269df3aea20489df4b48e66e31071e126a67dc":{"changes":{"src\/site\/xdoc\/manual\/appenders.xml":"MODIFY"},"diff":{"src\/site\/xdoc\/manual\/appenders.xml":[{"add":["431","              <td>The appender creates the file on-demand. The appender only creates the file when a log event","1344","            The KafkaAppender logs events to an <a href=\"https:\/\/kafka.apache.org\/\">Apache Kafka<\/a> topic.","2212","              <td>The appender creates the file on-demand. The appender only creates the file when a log event","2213","                passes all filters and is routed to this appender. Defaults to false.<\/td>","3286","             You can also configure a RoutingAppender with scripts: you can run a script when the appender starts","3287","             and when a route is chosen for an log event.","3322","                  This Script runs when Log4j starts the RoutingAppender and returns a String Route key to","3345","                      the same map passed to the Routes Script.","3361","            In this example, the script causes the \"ServiceWindows\" route to be the default route on Windows and","3362","            \"ServiceOther\" on all other operating systems. Note that the List Appender is one of our test appenders,","3363","            any appender can be used, it is only used as a shorthand.","3430","                  the same map passed to the Routes Script.","3440","              In this example, the script runs for each log event and picks a route based on the presence of a","3451","    <\/Flume>","3457","            } else if (logEvent.getContextMap().containsKey(\"UserId\")) {","3463","          <RollingFile","3464","              name=\"Rolling-${mdc:UserId}\"","3476","      <IdlePurgePolicy timeToLive=\"15\" timeUnit=\"minutes\"\/>","3485","]]><\/pre>","3662","            When the configuration is built, the <code>ScriptAppenderSelector<\/code> appender calls a <code>Script<\/code>","3663","            to compute an appender name. Log4j then creates one of the appender named listed under","3664","            <code>AppenderSet<\/code> using the name of the <code>ScriptAppenderSelector<\/code>. After configuration, Log4j","3665","            ignores the <code>ScriptAppenderSelector<\/code>. Log4j only builds the one selected appender from the","3666","            configuration tree, and ignores other <code>AppenderSet<\/code> child nodes.","3669","            In the following example, the script returns the name \"List2\". The appender name is recorded under","3670","            the name of the <code>ScriptAppenderSelector<\/code>, not the name of the selected appender, in this example,","3691","<\/Configuration>]]><\/pre>"],"delete":["431","              <td>The appender creates the file on-demand. The appender only creates the file when a log event ","1344","            The KafkaAppender logs events to an <a href=\"https:\/\/kafka.apache.org\/\">Apache Kafka<\/a> topic. ","2212","              <td>The appender creates the file on-demand. The appender only creates the file when a log event ","2213","                passes all filters and is routed to this appender.<\/td>","3286","             You can also configure a RoutingAppender with scripts: you can run a script when the appender starts ","3287","             and when a route is chosen for an log event. ","3322","                  This Script runs when Log4j starts the RoutingAppender and returns a String Route key to ","3345","                      the same map passed to the Routes Script. ","3361","            In this example, the script causes the \"ServiceWindows\" route to be the default route on Windows and ","3362","            \"ServiceOther\" on all other operating systems. Note that the List Appender is one of our test appenders, ","3363","            any appender can be used, it is only used as a shorthand. ","3430","                  the same map passed to the Routes Script. ","3440","              In this example, the script runs for each log event and picks a route based on the presence of a ","3451","    <\/Flume>    ","3457","            } else if (logEvent.getContextMap().containsKey(\"UserId\")) { ","3463","          <RollingFile ","3464","              name=\"Rolling-${mdc:UserId}\" ","3476","      <IdlePurgePolicy timeToLive=\"15\" timeUnit=\"minutes\"\/>      ","3485","]]><\/pre>            ","3662","            When the configuration is built, the <code>ScriptAppenderSelector<\/code> appender calls a <code>Script<\/code> ","3663","            to compute an appender name. Log4j then creates one of the appender named listed under ","3664","            <code>AppenderSet<\/code> using the name of the <code>ScriptAppenderSelector<\/code>. After configuration, Log4j ","3665","            ignores the <code>ScriptAppenderSelector<\/code>. Log4j only builds the one selected appender from the ","3666","            configuration tree, and ignores other <code>AppenderSet<\/code> child nodes. ","3669","            In the following example, the script returns the name \"List2\". The appender name is recorded under ","3670","            the name of the <code>ScriptAppenderSelector<\/code>, not the name of the selected appender, in this example, ","3691","<\/Configuration>]]><\/pre>          "]}]}},"d00c38dddf6a3c90a29c14a73ba1f9e56bbbf0b9":{"changes":{"\/dev\/null":"DELETE","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerDefaultExceptionHandler.java":"ADD","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/DisruptorUtil.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerConfigDefaultExceptionHandler.java":"ADD"},"diff":{"\/dev\/null":[{"add":[],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerDefaultExceptionHandler.java":[{"add":[],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/DisruptorUtil.java":[{"add":["98","            return new AsyncLoggerDefaultExceptionHandler();","107","            return new AsyncLoggerDefaultExceptionHandler();","114","            return new AsyncLoggerConfigDefaultExceptionHandler();","123","            return new AsyncLoggerConfigDefaultExceptionHandler();"],"delete":["98","            return new DefaultAsyncLoggerExceptionHandler();","107","            return new DefaultAsyncLoggerExceptionHandler();","114","            return new DefaultAsyncLoggerConfigExceptionHandler();","123","            return new DefaultAsyncLoggerConfigExceptionHandler();"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/async\/AsyncLoggerConfigDefaultExceptionHandler.java":[{"add":[],"delete":[]}]}},"ef321c140125482e1481df37b527add043e1164b":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingAppenderCronOnceADayTest.java":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/RollingAppenderCronOnceADayTest.java":[{"add":["80","    public RuleChain chain = loggerContextRule.withCleanFoldersRule(DIR);"],"delete":["80","    public RuleChain chain = loggerContextRule.withCleanFoldersRule(true, false, 1, DIR);"]}]}},"dd4cb5108a0f5b1c5cc9cbf140370f8acf6ed145":{"changes":{"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/AsynchAppender.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/AsynchAppender.java":[{"add":["78","                appenders.add(new AppenderControl(map.get(appenderRef.getRef()), appenderRef.getLevel(),","79","                    appenderRef.getFilter()));","122","            boolean appendSuccessful = false;","123","            if (blocking){","125","                    queue.put(Log4jLogEvent.serialize((Log4jLogEvent) event)); \/\/ wait for free slots in the queue","126","                    appendSuccessful = true;","127","                } catch (InterruptedException e) {","128","                    LOGGER.warn(\"Interrupted while waiting for a free slots in the LogEvent-queue at the AsynchAppender {}\", getName());","129","                }","130","            } else {","131","                appendSuccessful = queue.offer(Log4jLogEvent.serialize((Log4jLogEvent) event));","132","                if (!appendSuccessful) {","136","            if ((!appendSuccessful) && (errorAppender != null)){"],"delete":["78","                appenders.add(new AppenderControl(map.get(appenderRef.getRef()), null, null));","121","            if (blocking && queue.remainingCapacity() > 0) {","123","                    queue.add(Log4jLogEvent.serialize((Log4jLogEvent) event));","124","                    return;","125","                } catch (final IllegalStateException ex) {","129","            if (errorAppender != null) {","130","                if (!blocking) {","131","                    error(\"Appender \" + getName() + \" is unable to write primary appenders. queue is full\");","132","                }"]}],"src\/changes\/changes.xml":[{"add":["25","      <action issue=\"LOG4J2-189\" dev=\"rgoers\" type=\"fix\" due-to=\"Werner\">","26","        The blocking parameter did not work properly on AsynchAppender.","27","      <\/action>","28","      <action issue=\"LOG4J2-188\" dev=\"rgoers\" type=\"fix\" due-to=\"Werner\">","29","        appender-refs on AsynchAppender didn't support the level and filter elements.","30","      <\/action>"],"delete":[]}]}},"a5f3b03aa1f0ab9f301a830371544064aa5e4c3d":{"changes":{"log4j-core-its\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/net\/AbstractSocketAppenderReconnectIT.java":"ADD","log4j-core-its\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/net\/SocketAppenderConnectReConnectIT.java":"ADD","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/net\/TcpSocketManager.java":"MODIFY","log4j-core-its\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/net\/SocketAppenderConnectPostStartupIT.java":"ADD","log4j-core-its\/pom.xml":"MODIFY"},"diff":{"log4j-core-its\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/net\/AbstractSocketAppenderReconnectIT.java":[{"add":[],"delete":[]}],"log4j-core-its\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/net\/SocketAppenderConnectReConnectIT.java":[{"add":[],"delete":[]}],"src\/changes\/changes.xml":[{"add":["51","      <action issue=\"LOG4J2-1311\" dev=\"ggregory\" type=\"fix\" due-to=\"Xibing Liang\">","52","        SocketAppender will lose several events after re-connection to server.","53","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/net\/TcpSocketManager.java":[{"add":["102","        this(name, os, socket, inetAddress, host, port, connectTimeoutMillis, reconnectionDelayMillis, immediateFail,","103","                layout, bufferSize, null);","204","    @SuppressWarnings(\"sync-override\") \/\/ synchronization on \"this\" is done within the method","217","                writeAndFlush(bytes, offset, length, immediateFlush);","218","            } catch (final IOException causeEx) {","220","                    final String config = inetAddress + \":\" + port;","222","                    try {","223","                        reconnector.reconnect();","224","                    } catch (IOException reconnEx) {","225","                        LOGGER.debug(\"Cannot reestablish socket connection to {}: {}; starting reconnector thread {}\",","226","                                config, reconnEx.getLocalizedMessage(), reconnector.getName(), reconnEx);","227","                        reconnector.start();","228","                        throw new AppenderLoggingException(","229","                                String.format(\"Error sending to %s for %s\", getName(), config), causeEx);","230","                    }","231","                    try {","232","                        writeAndFlush(bytes, offset, length, immediateFlush);","233","                    } catch (IOException e) {","234","                        throw new AppenderLoggingException(","235","                                String.format(\"Error writing to %s after reestablishing connection for %s\", getName(),","236","                                        config),","237","                                causeEx);","238","                    }","244","    private void writeAndFlush(final byte[] bytes, final int offset, final int length, final boolean immediateFlush)","245","            throws IOException {","246","        @SuppressWarnings(\"resource\") \/\/ outputStream is managed by this class","247","        final OutputStream outputStream = getOutputStream();","248","        outputStream.write(bytes, offset, length);","249","        if (immediateFlush) {","250","            outputStream.flush();","251","        }","252","    }","253","","329","                    reconnect();","341","","342","        void reconnect() throws IOException {","343","            final Socket sock = createSocket(inetAddress, port);","344","            @SuppressWarnings(\"resource\") \/\/ newOS is managed by the enclosing Manager.","345","            final OutputStream newOS = sock.getOutputStream();","346","            synchronized (owner) {","347","                Closer.closeSilently(getOutputStream());","348","                setOutputStream(newOS);","349","                socket = sock;","350","                reconnector = null;","351","                shutdown = true;","352","            }","353","            LOGGER.debug(\"Connection to {}:{} reestablished: {}\", host, port, socket);","354","        }","355","","356","        @Override","357","        public String toString() {","358","            return \"Reconnector [latch=\" + latch + \", shutdown=\" + shutdown + \", owner=\" + owner + \"]\";","359","        }","407","","408","        @Override","409","        public String toString() {","410","            return \"FactoryData [host=\" + host + \", port=\" + port + \", connectTimeoutMillis=\" + connectTimeoutMillis","411","                    + \", reconnectDelayMillis=\" + reconnectDelayMillis + \", immediateFail=\" + immediateFail","412","                    + \", layout=\" + layout + \", bufferSize=\" + bufferSize + \", socketOptions=\" + socketOptions + \"]\";","413","        }","420","","442","                LOGGER.error(\"TcpSocketManager (\" + name + \") caught exception and will continue:\" + ex, ex);","479","    public int getReconnectionDelayMillis() {","480","        return reconnectionDelayMillis;","481","    }","482",""],"delete":["102","        this(name, os, socket, inetAddress, host, port, connectTimeoutMillis, reconnectionDelayMillis, immediateFail, layout, bufferSize,","103","                null);","204","    @SuppressWarnings(\"sync-override\") \/\/ synchronization on \"this\" is done within the method ","217","                @SuppressWarnings(\"resource\") \/\/ outputStream is managed by this class ","218","                final OutputStream outputStream = getOutputStream();","219","                outputStream.write(bytes, offset, length);","220","                if (immediateFlush) {","221","                    outputStream.flush();","222","                }","223","            } catch (final IOException ex) {","226","                    reconnector.start();","228","                throw new AppenderLoggingException(\"Error writing to \" + getName(), ex);","308","                    final Socket sock = createSocket(inetAddress, port);","309","                    @SuppressWarnings(\"resource\") \/\/ newOS is managed by the enclosing Manager.","310","                    final OutputStream newOS = sock.getOutputStream();","311","                    synchronized (owner) {","312","                        Closer.closeSilently(getOutputStream());","313","                        setOutputStream(newOS);","314","                        socket = sock;","315","                        reconnector = null;","316","                        shutdown = true;","317","                    }","318","                    LOGGER.debug(\"Connection to {}:{} reestablished: {}\", host, port, socket);","383","        ","405","                LOGGER.error(\"TcpSocketManager (\" + name + \") \" + ex, ex);"]}],"log4j-core-its\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/appender\/net\/SocketAppenderConnectPostStartupIT.java":[{"add":[],"delete":[]}],"log4j-core-its\/pom.xml":[{"add":["51","      <artifactId>log4j-server<\/artifactId>","52","      <version>2.9-SNAPSHOT<\/version>","53","      <scope>test<\/scope>","54","    <\/dependency>","55","    <dependency>","56","      <groupId>org.apache.logging.log4j<\/groupId>"],"delete":[]}]}},"40582bee4e7a4946a1c87738084f1e98cbe42541":{"changes":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/pattern\/HighlightConverterTest.java":"MODIFY","src\/changes\/changes.xml":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/pattern\/HighlightConverter.java":"MODIFY"},"diff":{"log4j-core\/src\/test\/java\/org\/apache\/logging\/log4j\/core\/pattern\/HighlightConverterTest.java":[{"add":["21","import org.junit.Assert;","24","","55","    ","56","    @Test","57","    public void testLevelNamesBad() {","58","        String colorName = \"red\";","59","        final String[] options = { \"%-5level: %msg\", PatternParser.NO_CONSOLE_NO_ANSI + \"=false, \"","60","                + PatternParser.DISABLE_ANSI + \"=false, \" + \"BAD_LEVEL_A=\" + colorName + \", BAD_LEVEL_B=\" + colorName };","61","        final HighlightConverter converter = HighlightConverter.newInstance(null, options);","62","        Assert.assertNotNull(converter);","63","        Assert.assertNotNull(converter.getLevelStyle(Level.TRACE));","64","        Assert.assertNotNull(converter.getLevelStyle(Level.DEBUG));","65","    }","66","","67","    @Test","68","    public void testLevelNamesGood() {","69","        String colorName = \"red\";","70","        final String[] options = { \"%-5level: %msg\", PatternParser.NO_CONSOLE_NO_ANSI + \"=false, \"","71","                + PatternParser.DISABLE_ANSI + \"=false, \" + \"DEBUG=\" + colorName + \", TRACE=\" + colorName };","72","        final HighlightConverter converter = HighlightConverter.newInstance(null, options);","73","        Assert.assertNotNull(converter);","74","        Assert.assertEquals(AnsiEscape.createSequence(colorName), converter.getLevelStyle(Level.TRACE));","75","        Assert.assertEquals(AnsiEscape.createSequence(colorName), converter.getLevelStyle(Level.DEBUG));","76","    }","77","","78","    @Test","79","    public void testLevelNamesNone() {","80","        final String[] options = { \"%-5level: %msg\",","81","                PatternParser.NO_CONSOLE_NO_ANSI + \"=false, \" + PatternParser.DISABLE_ANSI + \"=false\" };","82","        final HighlightConverter converter = HighlightConverter.newInstance(null, options);","83","        Assert.assertNotNull(converter);","84","        Assert.assertNotNull(converter.getLevelStyle(Level.TRACE));","85","        Assert.assertNotNull(converter.getLevelStyle(Level.DEBUG));","86","    }"],"delete":[]}],"src\/changes\/changes.xml":[{"add":["45","      <action issue=\"LOG4J2-1999\" dev=\"ggregory\" type=\"fix\" due-to=\"Paul Burrowes\">","46","        HighlightConverter converts all unrecognized levels to DEBUG.","47","      <\/action>"],"delete":[]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/pattern\/HighlightConverter.java":[{"add":["165","                final Level level = Level.toLevel(key, null);","167","                    LOGGER.error(\"Unknown level name: {}; use one of {}\", key, Arrays.toString(Level.values()));","254","    String getLevelStyle(Level level) {","255","        return levelStyles.get(level);","256","    }","257","","267",""],"delete":["165","                final Level level = Level.toLevel(key);","167","                    LOGGER.error(\"Unknown level name: \" + key + \". Use one of \" +","168","                        Arrays.toString(DEFAULT_STYLES.keySet().toArray()));"]}]}},"dfab9c1ac5434f7d4f8a5d6d16a611222856e553":{"changes":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/CronTriggeringPolicy.java":"MODIFY","log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/ConfigurationScheduler.java":"MODIFY"},"diff":{"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/appender\/rolling\/CronTriggeringPolicy.java":[{"add":[],"delete":["81","            scheduler.initScheduledExecutorService();"]}],"log4j-core\/src\/main\/java\/org\/apache\/logging\/log4j\/core\/config\/ConfigurationScheduler.java":[{"add":["48","        if (isExecutorServiceSet()) {","49","            LOGGER.debug(\"{} shutting down threads in {}\", SIMPLE_NAME, getExecutorService());","50","            getExecutorService().shutdown();","56","    private boolean isExecutorServiceSet() {","57","        return executorService != null;","58","    }","59","","64","        if (isExecutorServiceSet()) {","66","        } else {","67","            ++scheduledItems;","90","        return getExecutorService().schedule(callable, delay, unit);","102","        return getExecutorService().schedule(command, delay, unit);","134","        return getExecutorService().scheduleAtFixedRate(command, initialDelay, period, unit);","148","        return getExecutorService().scheduleWithFixedDelay(command, initialDelay, delay, unit);","155","    private ScheduledExecutorService getExecutorService() {","156","        if (executorService == null) {","157","            if (scheduledItems > 0) {","158","                LOGGER.debug(\"{} starting {} threads\", SIMPLE_NAME, scheduledItems);","159","                scheduledItems = Math.min(scheduledItems, MAX_SCHEDULED_ITEMS);","160","                this.executorService = new ScheduledThreadPoolExecutor(scheduledItems,","161","                        Log4jThreadFactory.createDaemonThreadFactory(\"Scheduled\"));","162","            } else {","163","                LOGGER.debug(\"{}: No scheduled items\", SIMPLE_NAME);","164","            }","165","        }","166","        return executorService;","167","    }","168",""],"delete":["43","        initScheduledExecutorService();","44","    }","45","","46","    public void initScheduledExecutorService() {","47","        if (scheduledItems > 0) {","48","            LOGGER.debug(\"{} starting {} threads\", SIMPLE_NAME, scheduledItems);","49","            scheduledItems = Math.min(scheduledItems, MAX_SCHEDULED_ITEMS);","50","            executorService = new ScheduledThreadPoolExecutor(scheduledItems,","51","                    Log4jThreadFactory.createDaemonThreadFactory(\"Scheduled\"));","52","        } else {","53","            LOGGER.debug(\"{}: No scheduled items\", SIMPLE_NAME);","54","        }","60","        if (executorService != null) {","61","            LOGGER.debug(\"{} shutting down threads in {}\", SIMPLE_NAME, executorService);","62","            executorService.shutdown();","72","        if (executorService == null) {","73","            ++scheduledItems;","74","        } else {","98","        return executorService.schedule(callable, delay, unit);","110","        return executorService.schedule(command, delay, unit);","142","        return executorService.scheduleAtFixedRate(command, initialDelay, period, unit);","156","        return executorService.scheduleWithFixedDelay(command, initialDelay, delay, unit);"]}]}},"ac51b5bc451f2de2ab80fb42d1b9782c7c785d29":{"changes":{"src\/changes\/changes.xml":"MODIFY"},"diff":{"src\/changes\/changes.xml":[{"add":["36","      <action issue=\"LOG4J2-1799\" dev=\"rpopma\" type=\"fix\" due-to=\"Eduard Gizatullin\">","37","        Fixed bug in PropertiesUtil::getCharsetProperty that caused UnsupportedCharsetException for ConsoleAppender.","38","      <\/action>"],"delete":[]}]}},"7aa2a223d175d055d31e4e4c4cce3c6519b42d70":{"changes":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/spi\/AbstractLogger.java":"MODIFY"},"diff":{"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/spi\/AbstractLogger.java":[{"add":["2107","    \/\/ NOTE: This is a hot method. Current implementation compiles to 26 bytes of byte code.","2125","        if (exception instanceof LoggingException) {","2126","            throw (LoggingException) exception;","2127","        }"],"delete":["2107","    \/\/ NOTE: This is a hot method. Current implementation compiles to ?? bytes of byte code.","2117","            if (e instanceof LoggingException) {","2118","                throw e;","2119","            }"]}]}},"dfc9615bed6a5354d185892ff1a2ce8e83839186":{"changes":{"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalReader.java":"ADD","pom.xml":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalPrintStream.java":"ADD","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerBufferedInputStream.java":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerFilterOutputStream.java":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalBufferedInputStream.java":"ADD","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalFilterOutputStream.java":"ADD","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerReader.java":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalLoggerReader.java":"ADD","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalOutputStream.java":"ADD","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalPrintWriter.java":"ADD","log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/util\/StackLocator.java":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerBufferedReader.java":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerPrintWriter.java":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerWriter.java":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/package-info.java":"ADD","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerFilterWriter.java":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalWriter.java":"ADD","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalBufferedReader.java":"ADD","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerOutputStream.java":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalInputStream.java":"ADD","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalFilterWriter.java":"ADD","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerInputStream.java":"MODIFY","log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerPrintStream.java":"MODIFY","src\/changes\/changes.xml":"MODIFY"},"diff":{"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalReader.java":[{"add":[],"delete":[]}],"pom.xml":[{"add":["240","    <mockitoVersion>2.23.4<\/mockitoVersion>"],"delete":["240","    <mockitoVersion>2.13.0<\/mockitoVersion>"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalPrintStream.java":[{"add":[],"delete":[]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerBufferedInputStream.java":[{"add":["26","import org.apache.logging.log4j.io.internal.InternalBufferedInputStream;","35","    private InternalBufferedInputStream stream;","39","        super(in);","40","        this.stream = new InternalBufferedInputStream(in, charset, logger, fqcn == null ? FQCN : fqcn, level, marker);","46","        super(in);","47","        this.stream = new InternalBufferedInputStream(in, charset, size, logger, fqcn == null ? FQCN : fqcn, level,","48","            marker);","53","        stream.close();","58","        return stream.read();","63","        return stream.read(b);","68","        return stream.read(b, off, len);","73","        return LoggerBufferedInputStream.class.getSimpleName() + stream.toString();"],"delete":["37","        super(new LoggerInputStream(in, charset, logger, fqcn == null ? FQCN : fqcn, level, marker));","43","        super(new LoggerInputStream(in, charset, logger, fqcn == null ? FQCN : fqcn, level, marker), size);","48","        super.close();","53","        return super.read();","58","        return super.read(b, 0, b.length);","63","        return super.read(b, off, len);","68","        return LoggerBufferedInputStream.class.getSimpleName() + \"{stream=\" + this.in + '}';"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerFilterOutputStream.java":[{"add":["26","import org.apache.logging.log4j.io.internal.InternalFilterOutputStream;","40","    private final InternalFilterOutputStream logger;","45","        this.logger = new InternalFilterOutputStream(out, charset, logger, fqcn == null ? FQCN : fqcn,","46","            level, marker);","51","        this.logger.close();","56","        this.logger.flush();","61","        return LoggerFilterOutputStream.class.getSimpleName() + logger.toString();","66","        this.logger.write(b);","71","        this.logger.write(b, off, len);","76","        this.logger.write(b);"],"delete":["39","    private final ByteStreamLogger logger;","40","    private final String fqcn;","45","        this.logger = new ByteStreamLogger(logger, level, marker, charset);","46","        this.fqcn = fqcn == null ? FQCN : fqcn;","51","        this.out.close();","52","        this.logger.close(this.fqcn);","57","        this.out.flush();","62","        return LoggerFilterOutputStream.class.getSimpleName() + \"{stream=\" + this.out + '}';","67","        this.out.write(b);","68","        this.logger.put(this.fqcn, b, 0, b.length);","73","        this.out.write(b, off, len);","74","        this.logger.put(this.fqcn, b, off, len);","79","        this.out.write(b);","80","        this.logger.put(this.fqcn, (byte) (b & 0xFF));"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalBufferedInputStream.java":[{"add":[],"delete":[]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalFilterOutputStream.java":[{"add":[],"delete":[]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerReader.java":[{"add":["26","import org.apache.logging.log4j.io.internal.InternalReader;","37","    private final InternalReader reader;","42","        this.reader = new InternalReader(reader, logger, fqcn == null ? FQCN : fqcn, level, marker);","47","        reader.close();","52","        return reader.read();","57","        return reader.read(cbuf);","62","        return reader.read(cbuf, off, len);","67","        return reader.read(target);","72","        return LoggerReader.class.getSimpleName() + this.reader.toString();"],"delete":["36","    private final CharStreamLogger logger;","37","    private final String fqcn;","42","        this.logger = new CharStreamLogger(logger, level, marker);","43","        this.fqcn = fqcn == null ? FQCN : fqcn;","48","        super.close();","49","        this.logger.close(this.fqcn);","54","        final int c = super.read();","55","        this.logger.put(this.fqcn, c);","56","        return c;","61","        return read(cbuf, 0, cbuf.length);","66","        final int charsRead = super.read(cbuf, off, len);","67","        this.logger.put(this.fqcn, cbuf, off, charsRead);","68","        return charsRead;","73","        final int len = target.remaining();","74","        final char[] cbuf = new char[len];","75","        final int charsRead = read(cbuf, 0, len);","76","        if (charsRead > 0) {","77","            target.put(cbuf, 0, charsRead);","78","        }","79","        return charsRead;","84","        return LoggerReader.class.getSimpleName() + \"{stream=\" + this.in + '}';"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalLoggerReader.java":[{"add":[],"delete":[]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalOutputStream.java":[{"add":[],"delete":[]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalPrintWriter.java":[{"add":[],"delete":[]}],"log4j-api\/src\/main\/java\/org\/apache\/logging\/log4j\/util\/StackLocator.java":[{"add":["172","        boolean found = false;","173","        for (int i = 0; i < stackTrace.length; i++) {","176","","177","                found = true;","178","                continue;","180","            if (found) {","181","                return stackTrace[i];","182","            }"],"delete":["172","        StackTraceElement last = null;","173","        for (int i = stackTrace.length - 1; i > 0; i--) {","176","                return last;","178","            last = stackTrace[i];"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerBufferedReader.java":[{"add":["26","import org.apache.logging.log4j.io.internal.InternalBufferedReader;","35","    private final InternalBufferedReader reader;","39","        super(reader);","40","        this.reader = new InternalBufferedReader(reader, logger, fqcn == null ? FQCN : fqcn, level, marker);","45","        super(reader);","46","        this.reader = new InternalBufferedReader(reader, size, logger, fqcn == null ? FQCN : fqcn, level, marker);","51","        reader.close();","56","        return reader.read();","61","        return reader.read(cbuf);","66","        return reader.read(cbuf, off, len);","71","        return reader.read(target);","76","        return reader.readLine();"],"delete":["37","        super(new LoggerReader(reader, logger, fqcn == null ? FQCN : fqcn, level, marker));","42","        super(new LoggerReader(reader, logger, fqcn == null ? FQCN : fqcn, level, marker), size);","47","        super.close();","52","        return super.read();","57","        return super.read(cbuf, 0, cbuf.length);","62","        return super.read(cbuf, off, len);","67","        final int len = target.remaining();","68","        final char[] cbuf = new char[len];","69","        final int charsRead = read(cbuf, 0, len);","70","        if (charsRead > 0) {","71","            target.put(cbuf, 0, charsRead);","72","        }","73","        return charsRead;","78","        return super.readLine();"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerPrintWriter.java":[{"add":["19","import java.io.IOException;","21","import java.io.StringWriter;","27","import org.apache.logging.log4j.io.internal.InternalPrintWriter;","46","\/\/ All method implementations that call only writer.are apparently required for the unit tests to pass.","50","    private final InternalPrintWriter writer;","54","        super(new StringWriter());","55","        writer = new InternalPrintWriter(logger, autoFlush, fqcn == null ? FQCN : fqcn, level, marker);","60","        super(writer);","61","        this.writer = new InternalPrintWriter(writer, autoFlush, logger, fqcn == null ? FQCN : fqcn, level, marker);","66","        writer.append(c);","72","        writer.append(csq);","78","        writer.append(csq, start, end);","84","        return writer.checkError();","89","        writer.close();","94","        writer.flush();","99","        writer.format(l, format, args);","105","        writer.format(format, args);","111","        writer.print(b);","116","        writer.print(c);","121","        writer.print(s);","126","        writer.print(d);","131","        writer.print(f);","136","        writer.print(i);","141","        writer.print(l);","146","        writer.print(obj);","151","        writer.print(s);","156","        writer.printf(l, format, args);","162","        writer.printf(format, args);","168","        writer.println();","173","        writer.println(x);","178","        writer.println(x);","183","        writer.println(x);","188","        writer.println(x);","193","        writer.println(x);","198","        writer.println(x);","203","        writer.println(x);","208","        writer.println(x);","213","        writer.println(x);","218","        return LoggerPrintWriter.class.getSimpleName() + writer.toString();","223","        writer.write(buf);","228","        writer.write(buf, off, len);","233","        writer.write(c);","238","        writer.write(s);","243","        writer.write(s, off, len);"],"delete":["43","\/\/ All method implementations that call only super are apparently required for the unit tests to pass.","50","        super(new LoggerWriter(logger, fqcn == null ? FQCN : fqcn, level, marker), autoFlush);","55","        super(new LoggerFilterWriter(writer, logger, fqcn == null ? FQCN : fqcn, level, marker), autoFlush);","60","        super.append(c);","66","        super.append(csq);","72","        super.append(csq, start, end);","78","        return super.checkError();","83","        super.close();","88","        super.flush();","93","        super.format(l, format, args);","99","        super.format(format, args);","105","        super.print(b);","110","        super.print(c);","115","        super.print(s);","120","        super.print(d);","125","        super.print(f);","130","        super.print(i);","135","        super.print(l);","140","        super.print(obj);","145","        super.print(s);","150","        super.printf(l, format, args);","156","        super.printf(format, args);","162","        super.println();","167","        super.println(x);","172","        super.println(x);","177","        super.println(x);","182","        super.println(x);","187","        super.println(x);","192","        super.println(x);","197","        super.println(x);","202","        super.println(x);","207","        super.println(x);","212","        return LoggerPrintWriter.class.getSimpleName() + \"{stream=\" + this.out + '}';","217","        super.write(buf);","222","        super.write(buf, off, len);","227","        super.write(c);","232","        super.write(s);","237","        super.write(s, off, len);"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerWriter.java":[{"add":["24","import org.apache.logging.log4j.io.internal.InternalWriter;","36","    private final InternalWriter writer;","39","        this.writer = new InternalWriter(logger, fqcn == null ? FQCN : fqcn, level, marker);","44","        writer.close();","54","        return this.getClass().getSimpleName() + \"[fqcn=\" + writer.toString();","59","        writer.write(cbuf);","64","        writer.write(cbuf, off, len);","69","        writer.write(c);","74","        writer.write(str);","79","        writer.write(str, off, len);"],"delete":["35","    private final CharStreamLogger logger;","36","    private final String fqcn;","39","        this.logger = new CharStreamLogger(logger, level, marker);","40","        this.fqcn = fqcn == null ? FQCN : fqcn;","45","        this.logger.close(this.fqcn);","55","        return this.getClass().getSimpleName() + \"[fqcn=\" + this.fqcn + \", logger=\" + this.logger + \"]\";","60","        this.logger.put(this.fqcn, cbuf, 0, cbuf.length);","65","        this.logger.put(this.fqcn, cbuf, off, len);","70","        this.logger.put(this.fqcn, (char) c);","75","        this.logger.put(this.fqcn, str, 0, str.length());","80","        this.logger.put(this.fqcn, str, off, len);"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/package-info.java":[{"add":[],"delete":[]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerFilterWriter.java":[{"add":["25","import org.apache.logging.log4j.io.internal.InternalFilterWriter;","37","    private final InternalFilterWriter logger;","42","        this.logger = new InternalFilterWriter(out, logger, fqcn == null ? FQCN : fqcn, level, marker);","47","        this.logger.close();","52","        this.logger.flush();","57","        return LoggerFilterWriter.class.getSimpleName() + logger.toString();","62","        this.logger.write(cbuf);","67","        this.logger.write(cbuf, off, len);","72","        this.logger.write(c);","77","        this.logger.write(str);","82","        this.logger.write(str, off, len);"],"delete":["36","    private final CharStreamLogger logger;","37","    private final String fqcn;","42","        this.logger = new CharStreamLogger(logger, level, marker);","43","        this.fqcn = fqcn == null ? FQCN : fqcn;","48","        this.out.close();","49","        this.logger.close(this.fqcn);","54","        this.out.flush();","59","        return LoggerFilterWriter.class.getSimpleName() + \"{writer=\" + this.out + '}';","64","        this.out.write(cbuf);","65","        this.logger.put(this.fqcn, cbuf, 0, cbuf.length);","70","        this.out.write(cbuf, off, len);","71","        this.logger.put(this.fqcn, cbuf, off, len);","76","        this.out.write(c);","77","        this.logger.put(this.fqcn, (char) c);","82","        this.out.write(str);","83","        this.logger.put(this.fqcn, str, 0, str.length());","88","        this.out.write(str, off, len);","89","        this.logger.put(this.fqcn, str, off, len);"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalWriter.java":[{"add":[],"delete":[]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalBufferedReader.java":[{"add":[],"delete":[]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerOutputStream.java":[{"add":["25","import org.apache.logging.log4j.io.internal.InternalOutputStream;","39","    private final InternalOutputStream logger;","43","        this.logger = new InternalOutputStream(logger, level, marker, charset, fqcn == null ? FQCN : fqcn);","48","        this.logger.close();","58","        logger.write(b);","63","        logger.write(b, off, len);","68","        logger.write(b);"],"delete":["38","    private final ByteStreamLogger logger;","39","    private final String fqcn;","43","        this.logger = new ByteStreamLogger(logger, level, marker, charset);","44","        this.fqcn = fqcn == null ? FQCN : fqcn;","49","        this.logger.close(this.fqcn);","59","        this.logger.put(this.fqcn, b, 0, b.length);","64","        this.logger.put(this.fqcn, b, off, len);","69","        this.logger.put(this.fqcn, (byte) (b & 0xFF));"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalInputStream.java":[{"add":[],"delete":[]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/internal\/InternalFilterWriter.java":[{"add":[],"delete":[]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerInputStream.java":[{"add":["26","import org.apache.logging.log4j.io.internal.InternalInputStream;","37","    private final InternalInputStream logger;","42","        this.logger = new InternalInputStream(in, charset, logger, fqcn == null ? FQCN : fqcn, level, marker);","47","        this.logger.close();","52","        return logger.read();","57","        return logger.read(b);","62","        return logger.read(b, off, len);","67","        return LoggerInputStream.class.getSimpleName() + logger.toString();"],"delete":["36","    private final String fqcn;","37","    private final ByteStreamLogger logger;","42","        this.logger = new ByteStreamLogger(logger, level, marker, charset);","43","        this.fqcn = fqcn == null ? FQCN : fqcn;","48","        this.logger.close(this.fqcn);","49","        super.close();","54","        final int b = super.read();","55","        this.logger.put(this.fqcn, b);","56","        return b;","61","        return read(b, 0, b.length);","66","        final int bytesRead = super.read(b, off, len);","67","        this.logger.put(this.fqcn, b, off, bytesRead);","68","        return bytesRead;","73","        return LoggerInputStream.class.getSimpleName() + \"{stream=\" + this.in + '}';"]}],"log4j-iostreams\/src\/main\/java\/org\/apache\/logging\/log4j\/io\/LoggerPrintStream.java":[{"add":["19","import java.io.ByteArrayOutputStream;","29","import org.apache.logging.log4j.io.internal.InternalPrintStream;","42","    private final InternalPrintStream psLogger;","47","        super(new PrintStream(new ByteArrayOutputStream()));","48","        psLogger = new InternalPrintStream(logger, autoFlush, charset, fqcn == null ? FQCN : fqcn, level, marker);","54","        super(new PrintStream(out));","55","        psLogger = new InternalPrintStream(out, autoFlush, charset, logger, fqcn == null ? FQCN : fqcn, level, marker);","64","        psLogger.append(c);","70","        psLogger.append(csq);","76","        psLogger.append(csq, start, end);","82","        return psLogger.checkError();","87","        psLogger.close();","92","        psLogger.flush();","97","        psLogger.format(l, format, args);","103","        psLogger.format(format, args);","109","        psLogger.print(b);","114","        psLogger.print(c);","119","        psLogger.print(s);","124","        psLogger.print(d);","129","        psLogger.print(f);","134","        psLogger.print(i);","139","        psLogger.print(l);","144","        psLogger.print(obj);","149","        psLogger.print(s);","154","        psLogger.printf(l, format, args);","160","        psLogger.printf(format, args);","166","        psLogger.println();","171","        psLogger.println(x);","176","        psLogger.println(x);","181","        psLogger.println(x);","186","        psLogger.println(x);","191","        psLogger.println(x);","196","        psLogger.println(x);","201","        psLogger.println(x);","206","        psLogger.println(x);","211","        psLogger.println(x);","216","        return LoggerPrintStream.class.getSimpleName() + psLogger.toString();","221","        psLogger.write(b);","226","        psLogger.write(b, off, len);","231","        psLogger.write(b);"],"delete":["44","        super(new LoggerOutputStream(logger, level, marker, ensureNonNull(charset), fqcn == null ? FQCN : fqcn),","45","            autoFlush, ensureNonNull(charset).name());","51","        super(new LoggerFilterOutputStream(out, ensureNonNull(charset), logger, fqcn == null ? FQCN : fqcn, level,","52","            marker), autoFlush, ensureNonNull(charset).name());","61","        super.append(c);","67","        super.append(csq);","73","        super.append(csq, start, end);","79","        return super.checkError();","84","        super.close();","89","        super.flush();","94","        super.format(l, format, args);","100","        super.format(format, args);","106","        super.print(b);","111","        super.print(c);","116","        super.print(s);","121","        super.print(d);","126","        super.print(f);","131","        super.print(i);","136","        super.print(l);","141","        super.print(obj);","146","        super.print(s);","151","        super.printf(l, format, args);","157","        super.printf(format, args);","163","        super.println();","168","        super.println(x);","173","        super.println(x);","178","        super.println(x);","183","        super.println(x);","188","        super.println(x);","193","        super.println(x);","198","        super.println(x);","203","        super.println(x);","208","        super.println(x);","213","        return LoggerPrintStream.class.getSimpleName() + \"{stream=\" + this.out + '}';","218","        super.write(b);","223","        super.write(b, off, len);","228","        super.write(b);"]}],"src\/changes\/changes.xml":[{"add":["33","      <action issue=\"LOG4J2-1570\" dev=\"rgoers\" type=\"fix\">","34","        Logging with a lambda expression with a method call that also logs would cause logs within method call to reference line num and method name of the parent method.","35","      <\/action>"],"delete":[]}]}},"7908b79560c2ce9b115ca9ed6a7bfd3d311a6159":{"changes":{"src\/site\/xdoc\/manual\/async.xml":"MODIFY","src\/site\/xdoc\/manual\/configuration.xml.vm":"MODIFY"},"diff":{"src\/site\/xdoc\/manual\/async.xml":[{"add":["257","            <td>AsyncLogger.SynchronizeEnqueueWhenQueueFull<\/td>","258","            <td>","259","              <tt>true<\/tt>","260","            <\/td>","261","            <td>","262","              Synchronizes access to the Disruptor ring buffer for blocking enqueue operations when the queue is full.","263","              Users encountered excessive CPU utilization with Disruptor v3.4.2 when the application","264","              was logging more than the underlying appender could keep up with and the ring buffer became full,","265","              especially when the number of application threads vastly outnumbered the number of cores.","266","              CPU utilization is significantly reduced by restricting access to the enqueue operation. Setting this value","267","              to <tt>false<\/tt> may lead to very high CPU utilization when the async logging queue is full.","268","            <\/td>","269","          <\/tr>","270","          <tr>","450","          <tr>","451","            <td>AsyncLoggerConfig.SynchronizeEnqueueWhenQueueFull<\/td>","452","            <td>","453","              <tt>true<\/tt>","454","            <\/td>","455","            <td>","456","              Synchronizes access to the Disruptor ring buffer for blocking enqueue operations when the queue is full.","457","              Users encountered excessive CPU utilization with Disruptor v3.4.2 when the application","458","              was logging more than the underlying appender could keep up with and the ring buffer became full,","459","              especially when the number of application threads vastly outnumbered the number of cores.","460","              CPU utilization is significantly reduced by restricting access to the enqueue operation. Setting this value","461","              to <tt>false<\/tt> may lead to very high CPU utilization when the async logging queue is full.","462","            <\/td>","463","          <\/tr>"],"delete":[]}],"src\/site\/xdoc\/manual\/configuration.xml.vm":[{"add":["2164","    <td><a name=\"AsyncLogger.SynchronizeEnqueueWhenQueueFull\"\/>AsyncLogger.SynchronizeEnqueueWhenQueueFull","2165","    <\/td>","2166","    <td>ASYNC_LOGGER_SYNCHRONIZE_ENQUEUE_WHEN_QUEUE_FULL<\/td>","2167","    <td>","2168","      true","2169","    <\/td>","2170","    <td>","2171","      See <a href=\"async.html#SysPropsAllAsync\">Async Logger System Properties<\/a> for details.","2172","    <\/td>","2173","  <\/tr>","2174","  <tr>","2223","    <td><a name=\"AsyncLoggerConfig.SynchronizeEnqueueWhenQueueFull\"\/>AsyncLoggerConfig.SynchronizeEnqueueWhenQueueFull","2224","    <\/td>","2225","    <td>ASYNC_LOGGER_CONFIG_SYNCHRONIZE_ENQUEUE_WHEN_QUEUE_FULL<\/td>","2226","    <td>","2227","      true","2228","    <\/td>","2229","    <td>","2230","      See <a href=\"async.html#SysPropsMixedSync-Async\">Mixed Async\/Synchronous Logger System Properties<\/a> for details.","2231","    <\/td>","2232","  <\/tr>","2233","  <tr>"],"delete":[]}]}}}